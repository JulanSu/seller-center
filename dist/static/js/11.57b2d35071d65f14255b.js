webpackJsonp([11],{"1CLx":function(t,e,i){var n=i("Bgp4");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("6imX")("24e7c619",n,!0)},"3SZ7":function(t,e,i){t.exports={default:i("CnbX"),__esModule:!0}},Bgp4:function(t,e,i){e=t.exports=i("bKW+")(!0),e.push([t.i,'.el-date-picker{width:250px!important}.add-account{padding-top:20px;overflow:hidden;padding-left:20px}.add-account .wid400{width:400px}.add-account a{text-decoration:none}.add-account h6,.add-account p,.add-account ul{margin:0;padding:0}.add-account .tishi{font-size:12px;color:#999}.add-account .notclick{background:#ddd!important;border-color:#ddd!important}.add-account .timers .el-date-editor{width:400px!important}.add-account .timers .el-form-item__content{width:224px}.add-account .timers .el-input__inner{width:400px}.add-account .gotoPrev{width:300px;background:#fff;height:60px;line-height:60px;position:fixed;top:0}.add-account .gotoPrev b{display:inline-block;border:1px solid #ccc;width:30px;line-height:18px;height:20px;text-align:center;color:#aaa;margin-right:10px}.add-account .gotoPrev span{font-size:14px;color:#666}.add-account ul{float:left;list-style:none;width:195px;min-height:850px;background:#f5f7fa;border-top:1px solid #ddd}.add-account ul li{text-align:center;font-size:14px;padding:22px 0;border-bottom:1px solid #ddd;border-left:2px solid transparent;cursor:pointer;position:relative}.add-account ul li h6,.add-account ul li p{height:20px}.add-account ul li h6{color:#666;padding-bottom:6px}.add-account ul li p{color:#ff0201}.add-account ul li.on{background:#fff;border-left-color:#41cac0;border-right:1px solid #ddd}.add-account ul li.on:after,.add-account ul li.on:before{border:solid transparent;content:" ";height:0;left:172px;position:absolute;width:0}.add-account ul li.on:before{border-width:10px;border-right-color:#ddd;top:35px}.add-account ul li.on:after{border-width:12px;border-right-color:#fff;top:33px;left:172px}.add-account form.el-form{float:left;height:620px;min-width:600px;padding-top:30px}',"",{version:3,sources:["E:/github/seller-center/src/views/shops/AddBrand.vue"],names:[],mappings:"AAEA,gBACE,qBAAwB,CACzB,AACD,aACE,iBAAkB,AAClB,gBAAiB,AACjB,iBAAmB,CAEpB,AACD,qBACI,WAAa,CAChB,AACD,eACI,oBAAsB,CACzB,AACD,+CACI,SAAU,AACV,SAAW,CACd,AACD,oBACI,eAAgB,AAChB,UAAe,CAClB,AACD,uBACI,0BAA4B,AAC5B,2BAA8B,CACjC,AACD,qCACI,qBAAwB,CAC3B,AACD,4CACI,WAAa,CAChB,AACD,sCACI,WAAa,CAChB,AACD,uBACI,YAAa,AACb,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,KAAO,CACV,AACD,yBACM,qBAAsB,AACtB,sBAA0B,AAC1B,WAAY,AACZ,iBAAkB,AAClB,YAAa,AACb,kBAAmB,AACnB,WAAY,AACZ,iBAAmB,CACxB,AACD,4BACM,eAAgB,AAChB,UAAe,CACpB,AACD,gBACI,WAAY,AACZ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,mBAAoB,AACpB,yBAA2B,CAC9B,AACD,mBACM,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,6BAA8B,AAC9B,kCAAmC,AACnC,eAAgB,AAChB,iBAAmB,CACxB,AACD,2CACQ,WAAa,CACpB,AACD,sBACQ,WAAe,AACf,kBAAoB,CAC3B,AACD,qBACQ,aAAe,CACtB,AACD,sBACM,gBAAiB,AACjB,0BAA2B,AAC3B,2BAA6B,CAClC,AACD,yDACM,yBAA0B,AAC1B,YAAa,AACb,SAAU,AACV,WAAY,AACZ,kBAAmB,AACnB,OAAS,CACd,AACD,6BACM,kBAAmB,AACnB,wBAAyB,AACzB,QAAU,CACf,AACD,4BACM,kBAAmB,AACnB,wBAAyB,AACzB,SAAU,AACV,UAAY,CACjB,AACD,0BACI,WAAY,AACZ,aAAc,AACd,gBAAiB,AACjB,gBAAkB,CACrB",file:"AddBrand.vue",sourcesContent:["\n@charset \"UTF-8\";\n.el-date-picker {\n  width: 250px !important;\n}\n.add-account {\n  padding-top: 20px;\n  overflow: hidden;\n  padding-left: 20px;\n  /* 公共样式 */\n}\n.add-account .wid400 {\n    width: 400px;\n}\n.add-account a {\n    text-decoration: none;\n}\n.add-account p, .add-account h6, .add-account ul {\n    margin: 0;\n    padding: 0;\n}\n.add-account .tishi {\n    font-size: 12px;\n    color: #999999;\n}\n.add-account .notclick {\n    background: #ddd !important;\n    border-color: #ddd !important;\n}\n.add-account .timers .el-date-editor {\n    width: 400px !important;\n}\n.add-account .timers .el-form-item__content {\n    width: 224px;\n}\n.add-account .timers .el-input__inner {\n    width: 400px;\n}\n.add-account .gotoPrev {\n    width: 300px;\n    background: #fff;\n    height: 60px;\n    line-height: 60px;\n    position: fixed;\n    top: 0;\n}\n.add-account .gotoPrev b {\n      display: inline-block;\n      border: 1px solid #cccccc;\n      width: 30px;\n      line-height: 18px;\n      height: 20px;\n      text-align: center;\n      color: #aaa;\n      margin-right: 10px;\n}\n.add-account .gotoPrev span {\n      font-size: 14px;\n      color: #666666;\n}\n.add-account ul {\n    float: left;\n    list-style: none;\n    width: 195px;\n    min-height: 850px;\n    background: #F5F7FA;\n    border-top: 1px solid #ddd;\n}\n.add-account ul li {\n      text-align: center;\n      font-size: 14px;\n      padding: 22px 0;\n      border-bottom: 1px solid #ddd;\n      border-left: 2px solid transparent;\n      cursor: pointer;\n      position: relative;\n}\n.add-account ul li h6, .add-account ul li p {\n        height: 20px;\n}\n.add-account ul li h6 {\n        color: #666666;\n        padding-bottom: 6px;\n}\n.add-account ul li p {\n        color: #FF0201;\n}\n.add-account ul li.on {\n      background: #fff;\n      border-left-color: #41CAC0;\n      border-right: 1px solid #ddd;\n}\n.add-account ul li.on:before, .add-account ul li.on:after {\n      border: solid transparent;\n      content: ' ';\n      height: 0;\n      left: 172px;\n      position: absolute;\n      width: 0;\n}\n.add-account ul li.on:before {\n      border-width: 10px;\n      border-right-color: #ddd;\n      top: 35px;\n}\n.add-account ul li.on:after {\n      border-width: 12px;\n      border-right-color: #fff;\n      top: 33px;\n      left: 172px;\n}\n.add-account form.el-form {\n    float: left;\n    height: 620px;\n    min-width: 600px;\n    padding-top: 30px;\n}\n"],sourceRoot:""}])},CnbX:function(t,e,i){var n=i("ZBPP"),a=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},R7CH:function(t,e,i){var n=i("aOYj"),a=i("dWyg");i("nFQt")("keys",function(){return function(t){return a(n(t))}})},Uo7j:function(t,e,i){"use strict";var n=i("cfvZ"),a=i.n(n),r=i("3SZ7"),o=i.n(r),d=i("pgiz"),s=i("IObT");e.a={components:{UploadPictures:s.a},data:function(){var t=function(t,e,i){if(""===e)i(new Error("请输入联系电话"));else{var n=e.slice(0,1);11!=e.length||1!=n?i(new Error("请输入正确的联系电话")):i()}},e=function(t,e,i){if(e){var n=/^\d+$/g;e.match(n)?i():i(new Error("请输入正确的联系电话"))}else i()};return{tit:"添加",btnClick:!1,isCompile:!1,listLoading:!1,database:{},brandTits:{},nowIndex:0,prevKey:0,tishi:{},subBrandId:"",uploadAptitude:"图片尺寸200px*200px以上，大小800k以内，格式png/jpg/jpeg，格式要求jpg、jpeg、png，不超过10MB",ruleForm:{storeBrandId:"",brandId:"",nameCn:"",ways:"",cityNames:"",endValidTime:"",contactMobile:"",authorizationUrl:"",registerLocation:"",submit:!1},fullModel:{storeBrandId:"",brandId:"",nameCn:"",ways:"",cityNames:"",endValidTime:"",contactMobile:"",authorizationUrl:"",registerLocation:"",submit:!1},rules:{authorizationUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],authorizationUrl2:[{required:!0,message:"请上传报关单",trigger:"blur"}],ways:[{required:!0,message:"请输入授权渠道",trigger:"blur"},{max:50,message:"长度最多 50 位",trigger:"blur"}],cityNames:[{required:!0,message:"请输入授权城市",trigger:"blur"},{max:20,message:"长度最多 20 位",trigger:"blur"}],endValidTime:[{required:!0,type:"date",message:"请选择有效结束时间",trigger:"blur"}],contactMobile:[{required:!0,validator:t,trigger:"blur"},{validator:e,trigger:"blur"},{validator:e,trigger:"change"}]}}},mounted:function(){var t=this,e=this.$route.query.compile,i=this.$route.query.storeBrandId,n=this.$route.query.noClick;if(1==e){this.tit="编辑",1!=n&&"true"!=n||(this.btnClick=!0),this.isCompile=!1;var a={storeBrandId:i};this.listLoading=!0,Object(d.d)(a).then(function(e){0==e.data.code?(t.ruleForm=e.data.data,t.ruleForm.endValidTime=new Date(t.ruleForm.endValidTime),t.brandTits={storeBrandId:{nameCn:t.ruleForm.nameCn}},0==e.data.data.registerLocationType&&(t.ruleForm.registerLocation=1)):t.$message.error(e.data.message),t.listLoading=!1}).catch(function(e){t.listLoading=!1,t.$message.error("接口建立连接失败")}),this.$set(this.database,"key"+i,this.ruleForm)}else if("y"==this.$route.query.add){this.brandTits=JSON.parse(sessionStorage.getItem("addBrand"));var r=function(t){var e=[];for(var i in t)e.push(i);return e}(this.brandTits),s=[];for(var l in this.brandTits)s.push(l),this.$set(this.database,"key"+l,JSON.parse(o()(this.fullModel))),this.$set(this.database["key"+l],"nameCn",this.brandTits[l].nameCn),this.$set(this.database["key"+l],"registerLocation",this.brandTits[l].registerLocation),this.$set(this.tishi,"key"+l,!1);this.prevKey=s[0],this.ruleForm=this.database["key"+r[0]]}},watch:{"ruleForm.ways":function(){this.fillOut()},"ruleForm.cityNames":function(){this.fillOut()},"ruleForm.endValidTime":function(){this.fillOut()},"ruleForm.contactMobile":function(){this.fillOut()},"ruleForm.authorizationUrl":function(){this.fillOut()}},methods:{sucpic1:function(t){this.ruleForm.authorizationUrl=t},fillOut:function(){var t,e=this.ruleForm.ways,i=this.ruleForm.cityNames,n=this.ruleForm.endValidTime,a=this.ruleForm.contactMobile,r=this.ruleForm.authorizationUrl;t=1==this.$route.query.compile?"key"+this.$route.query.storeBrandId:"key"+this.prevKey,e&&i&&n&&a&&/^1\d{10}$/.test(a)&&r?(this.$set(this.database[t],"submit",!0),this.$set(this.tishi,"key"+this.prevKey,!0)):(this.$set(this.database[t],"submit",!1),this.$set(this.tishi,"key"+this.prevKey,!1))},switchover:function(t,e,i){this.$set(this.database,"key"+this.prevKey,this.ruleForm),this.nowIndex=t,this.prevKey=e,this.ruleForm=this.database["key"+e],this.$refs.uploadPic.revise(this.ruleForm.authorizationUrl)},transitionTime:function(t){return t instanceof Date&&(t=t.getTime()),t},hint:function(t,e,i,n){this.$message({message:t,type:e,duration:i,onClose:function(){n()}})},suc:function(){return this.$router.push({path:"/store/brand-management"}),!1},sucAdd:function(){this.$delete(this.tishi,"key"+this.subBrandId),this.$delete(this.database,"key"+this.subBrandId),this.$delete(this.brandTits,this.subBrandId),this.nowIndex=0;var t=a()(this.brandTits);this.ruleForm=this.database["key"+t[0]],this.prevKey=t[0],t.length?this.$refs.uploadPic.revise(this.ruleForm.authorizationUrl):this.suc()},fail:function(){return!1},compileSubmit:function(t){var e=this;this.listLoading=!0,Object(d.O)(t).then(function(t){0==t.data.code?e.hint("提交成功","success",2e3,e.suc):e.hint("提交失败","warning",2e3,e.fail),e.listLoading=!1}).catch(function(t){e.listLoading=!1,e.hint("提交失败","warning",2e3,e.fail)})},addSubmit:function(t){var e=this;this.listLoading=!0,Object(d.g)(t).then(function(t){0==t.data.code?e.hint("提交成功","success",2e3,e.sucAdd):1==t.data.code&&"已有此品牌"==t.data.message?e.hint("已有此品牌","success",2e3,e.sucAdd):e.hint("提交失败","warning",2e3,e.fail),e.listLoading=!1}).catch(function(t){e.listLoading=!1,e.hint("提交失败","warning",2e3,e.fail)})},submitForm:function(t){var e=this;if(this.btnClick)return!1;this.$refs[t].validate(function(t){if(!t)return!1;e.ruleForm.endValidTime=e.transitionTime(e.ruleForm.endValidTime);var i=new URLSearchParams;i.append("authorizationUrl",e.ruleForm.authorizationUrl),i.append("trademarkCertificate",e.ruleForm.authorizationUrl),i.append("ways",e.ruleForm.ways),i.append("cityNames",e.ruleForm.cityNames),i.append("startValidTime",""),i.append("endValidTime",e.ruleForm.endValidTime),i.append("contactMobile",e.ruleForm.contactMobile),1==e.$route.query.compile?(i.append("storeBrandId",e.ruleForm.storeBrandId),e.compileSubmit(i)):(i.append("storeId",config.storeId),i.append("brandId",e.prevKey),e.subBrandId=e.prevKey,e.addSubmit(i))})}}}},aruw:function(t,e,i){"use strict";function n(t){i("1CLx")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("Uo7j"),r=i("n7Zr"),o=i("mPyB"),d=n,s=o(a.a,r.a,!1,d,null,null);e.default=s.exports},cfvZ:function(t,e,i){t.exports={default:i("zRI9"),__esModule:!0}},n7Zr:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"add-account"},[i("div",{staticClass:"gotoPrev"},[i("router-link",{staticClass:"selbrand",staticStyle:{width:"100px",cursor:"pointer"},attrs:{to:"/store/brand-management",icon:"plus"}},[i("b",{staticClass:"iconfont icon-fanhui"}),t._v(" "),i("span",[t._v(t._s(t.tit)+"品牌")])])],1),t._v(" "),i("div",{staticStyle:{"min-width":"870px"}},[i("ul",[t._l(t.brandTits,function(e,n,a){return i("li",{class:{on:a==t.nowIndex},attrs:{"brand-id":n},on:{click:function(i){t.switchover(a,n,e)}}},[i("h6",[t._v(t._s(e.nameCn))]),t._v(" "),i("div",t._l(t.tishi,function(e,n,r){return a==r?i("p",[0==e?i("span",[t._v("(待填写)")]):i("span",{staticStyle:{color:"#41cac0"}},[t._v("(已填写完整)")])]):t._e()}))])})],2),t._v(" "),i("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[i("el-form-item",{attrs:{label:"品牌名称","label-width":"120px",prop:"nameCn"}},[i("div",[t._v(t._s(t.ruleForm.nameCn))])]),t._v(" "),1==t.ruleForm.registerLocation?i("el-form-item",{staticClass:"requireHezi",attrs:{label:"品牌资质","label-width":"120px"}},[i("span",{staticClass:"require",staticStyle:{left:"-78px"}},[t._v("*")]),t._v(" "),i("upload-pictures",{ref:"uploadPic",attrs:{note:t.uploadAptitude,url:t.ruleForm.authorizationUrl,listen:"listenToPic1",picSize:"10.MB"},on:{listenToPic1:t.sucpic1}})],1):i("el-form-item",{staticClass:"requireHezi",attrs:{label:"报关单","label-width":"120px"}},[i("span",{staticClass:"require",staticStyle:{left:"-63px"}},[t._v("*")]),t._v(" "),i("upload-pictures",{ref:"uploadPic",attrs:{note:t.uploadAptitude,url:t.ruleForm.authorizationUrl,listen:"listenToPic1",picSize:"10.MB"},on:{listenToPic1:t.sucpic1}})],1),t._v(" "),i("el-form-item",{staticClass:"updata",attrs:{label:"",prop:"authorizationUrl","label-width":"120px"}},[i("el-input",{staticClass:"wid280",model:{value:t.ruleForm.authorizationUrl,callback:function(e){t.$set(t.ruleForm,"authorizationUrl",e)},expression:"ruleForm.authorizationUrl"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"ways",label:"授权渠道 ","label-width":"120px"}},[i("el-input",{staticClass:"wid400",attrs:{maxlength:50,placeholder:"请输入授权渠道"},model:{value:t.ruleForm.ways,callback:function(e){t.$set(t.ruleForm,"ways",e)},expression:"ruleForm.ways"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"cityNames",label:"授权城市","label-width":"120px"}},[i("el-input",{staticClass:"wid400",attrs:{maxlength:20,placeholder:"请输入授权城市"},model:{value:t.ruleForm.cityNames,callback:function(e){t.$set(t.ruleForm,"cityNames",e)},expression:"ruleForm.cityNames"}})],1),t._v(" "),i("el-form-item",{staticClass:"timers",attrs:{label:"有效截止时间","label-width":"120px",prop:"endValidTime"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",editable:!1,placeholder:"请输入有效结束时间"},model:{value:t.ruleForm.endValidTime,callback:function(e){t.$set(t.ruleForm,"endValidTime",e)},expression:"ruleForm.endValidTime"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"contactMobile",label:"联系电话","label-width":"120px"}},[i("el-input",{staticClass:"wid400",attrs:{maxlength:11,placeholder:"请输入联系电话"},model:{value:t.ruleForm.contactMobile,callback:function(e){t.$set(t.ruleForm,"contactMobile",e)},expression:"ruleForm.contactMobile"}}),t._v(" "),i("p",{staticClass:"tishi"},[t._v("审核同学有疑问时，会通过此联系方式联系您")])],1),t._v(" "),i("el-form-item",{attrs:{label:"","label-width":"120px"}},[i("el-button",{class:{notclick:t.btnClick},attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交审核")])],1)],1)],1)])},a=[],r={render:n,staticRenderFns:a};e.a=r},nFQt:function(t,e,i){var n=i("5I2C"),a=i("ZBPP"),r=i("EeEb");t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",o)}},zRI9:function(t,e,i){i("R7CH"),t.exports=i("ZBPP").Object.keys}});
//# sourceMappingURL=11.57b2d35071d65f14255b.js.map