webpackJsonp([26],{"5kub":function(e,r,t){"use strict";var a=t("pgiz");r.a={data:function(){var e=this,r=function(e,r,t){if(""===r)t(new Error("请输入手机号"));else{var a=r.slice(0,1);11!=r.length||1!=a?t(new Error("请输入正确的手机号")):t()}};return{roleList:[],listLoading:!1,isAdd:1,ruleForm:{storeOperatorId:"",account:"",password:"",againpass:"",name:"",gender:1,role:[],roleId:"",mobile:"",identityNumber:""},rules:{account:[{required:!0,message:"请输入账号名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 位",trigger:"blur"}],password:[{required:!0,validator:function(r,t,a){t.length<6||t.length>20?a(new Error("密码必须大于6位，小于20位")):(""!==e.ruleForm.againpass&&e.$refs.ruleForm.validateField("againpass"),a())},trigger:"blur"}],againpass:[{required:!0,validator:function(r,t,a){t.length<6||t.length>20?a(new Error("确认密码必须大于6位，小于20位")):t!==e.ruleForm.password?a(new Error("密码和确认密码不一致，请重新填写")):a()},trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:30,message:"请输入正确的姓名",trigger:"blur"}],mobile:[{validator:r,trigger:"blur"}],identityNumber:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{min:18,max:18,message:"身份证号码输入有误",trigger:"blur"}]}}},mounted:function(){var e=this,r={storeId:storeId};Object(a.H)(r).then(function(r){e.roleList=r.data.data,e.ruleForm.role=r.data.data});var t=this.$route.params.id;t&&(this.isAdd=2,this.dataFetch(t))},methods:{dataFetch:function(e){var r=this,t={storeOperatorId:e};this.listLoading=!0,Object(a.t)(t).then(function(e){r.ruleForm=e.data.data,r.ruleForm.againpass=r.ruleForm.password,r.ruleForm.role=r.roleList,r.listLoading=!1}).catch(function(e){r.listLoading=!1})},sucFun:function(e){var r=this;this.listLoading=!1,0==e.data.code&&this.$message({message:"提交成功",type:"success",onClose:function(){r.$router.push({path:"/store/bypass-management/account-list"})}})},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.listLoading=!0;var t=new URLSearchParams;t.append("account",r.ruleForm.account),t.append("password",r.ruleForm.password),t.append("name",r.ruleForm.name),t.append("gender",r.ruleForm.gender),t.append("roleId",r.ruleForm.roleId),t.append("mobile",r.ruleForm.mobile),t.append("identityNumber",r.ruleForm.identityNumber),2==r.isAdd?(t.append("storeOperatorId",r.ruleForm.storeOperatorId),Object(a.y)(t).then(function(e){r.sucFun(e)}).catch(function(e){r.listLoading=!1})):(t.append("storeId",storeId),Object(a.x)(t).then(function(e){r.sucFun(e)}).catch(function(e){r.listLoading=!1}))})}}}},"6HaC":function(e,r,t){var a=t("DB6Y");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("6imX")("0a3e7f01",a,!0)},DB6Y:function(e,r,t){r=e.exports=t("bKW+")(!0),r.push([e.i,".add-sub-account{padding:40px 0 0}.add-sub-account .wid280{width:280px}.add-sub-account .el-select{width:130px}.add-sub-account .el-button{width:100px;height:34px;line-height:34px;background:#41cac0;padding:0;border-color:#41cac0}","",{version:3,sources:["E:/github/seller-center/src/views/shops/NewAccount.vue"],names:[],mappings:"AACA,iBACE,gBAAoB,CACrB,AACD,yBACI,WAAa,CAChB,AACD,4BACI,WAAa,CAChB,AACD,4BACI,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,mBAAoB,AACpB,UAAW,AACX,oBAAsB,CACzB",file:"NewAccount.vue",sourcesContent:["\n.add-sub-account {\n  padding: 40px 0 0 0;\n}\n.add-sub-account .wid280 {\n    width: 280px;\n}\n.add-sub-account .el-select {\n    width: 130px;\n}\n.add-sub-account .el-button {\n    width: 100px;\n    height: 34px;\n    line-height: 34px;\n    background: #41cac0;\n    padding: 0;\n    border-color: #41cac0;\n}\n"],sourceRoot:""}])},EIxp:function(e,r,t){"use strict";function a(e){t("6HaC")}Object.defineProperty(r,"__esModule",{value:!0});var l=t("5kub"),o=t("jEXq"),n=t("mPyB"),s=a,i=n(l.a,o.a,!1,s,null,null);r.default=i.exports},jEXq:function(e,r,t){"use strict";var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"add-sub-account"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"80px",rules:e.rules}},[t("el-form-item",{attrs:{label:"帐号名","label-width":"100px",prop:"account"}},[t("el-input",{staticClass:"wid280",attrs:{maxlength:20,placeholder:"请输入帐号名"},model:{value:e.ruleForm.account,callback:function(r){e.$set(e.ruleForm,"account",r)},expression:"ruleForm.account"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码","label-width":"100px",prop:"password"}},[t("el-input",{staticClass:"wid280",attrs:{type:"password",placeholder:"请输入密码","auto-complete":"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码","label-width":"100px",prop:"againpass"}},[t("el-input",{staticClass:"wid280",attrs:{type:"password",placeholder:"再一次输入密码","auto-complete":"off"},model:{value:e.ruleForm.againpass,callback:function(r){e.$set(e.ruleForm,"againpass",r)},expression:"ruleForm.againpass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"姓名","label-width":"100px",prop:"name"}},[t("el-input",{staticClass:"wid280",attrs:{maxlength:30,placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"性别","label-width":"100px",prop:"gender"}},[t("el-radio-group",{model:{value:e.ruleForm.gender,callback:function(r){e.$set(e.ruleForm,"gender",r)},expression:"ruleForm.gender"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"角色",prop:"role","label-width":"100px"}},[t("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.ruleForm.roleId,callback:function(r){e.$set(e.ruleForm,"roleId",r)},expression:"ruleForm.roleId"}},e._l(e.ruleForm.role,function(e){return t("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码","label-width":"100px",prop:"mobile"}},[t("el-input",{staticClass:"wid280",attrs:{maxlength:11,placeholder:"请输入手机号码"},model:{value:e.ruleForm.mobile,callback:function(r){e.$set(e.ruleForm,"mobile",r)},expression:"ruleForm.mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号","label-width":"100px",prop:"identityNumber"}},[t("el-input",{staticClass:"wid280",attrs:{maxlength:18,placeholder:"请输入身份证号码"},model:{value:e.ruleForm.identityNumber,callback:function(r){e.$set(e.ruleForm,"identityNumber",r)},expression:"ruleForm.identityNumber"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"","label-width":"100px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)},l=[],o={render:a,staticRenderFns:l};r.a=o}});
//# sourceMappingURL=26.07d782436e0238816222.js.map