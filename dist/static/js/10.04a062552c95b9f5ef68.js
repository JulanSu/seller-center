webpackJsonp([10],{"3SZ7":function(e,t,i){e.exports={default:i("CnbX"),__esModule:!0}},"4mb1":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("p",{staticClass:"desc"},[e._v("请编辑可送达的地区，当用户选择下述地区以外的配送地址时，将提示用户无法下单。")]),e._v(" "),i("div",{staticClass:"area-list"},[i("div",{staticClass:"area-list-wrap"},[i("div",{staticClass:"area-item",staticStyle:{width:"218px"}},[i("el-checkbox-group",{on:{change:e.entireCountryChangeHandle},model:{value:e.entireCountryChecked,callback:function(t){e.entireCountryChecked=t},expression:"entireCountryChecked"}},[i("el-checkbox",{attrs:{label:"全国"}},[e._v("全国")])],1)],1),e._v(" "),i("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.entireCountry.shippingCost,expression:"entireCountry.shippingCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:e.entireCountry.shippingCost},on:{input:function(t){t.target.composing||e.$set(e.entireCountry,"shippingCost",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.entireCountry.shippingLimitNum,expression:"entireCountry.shippingLimitNum"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:e.entireCountry.shippingLimitNum},on:{input:function(t){t.target.composing||e.$set(e.entireCountry,"shippingLimitNum",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.entireCountry.shippingLimitCost,expression:"entireCountry.shippingLimitCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:e.entireCountry.shippingLimitCost},on:{input:function(t){t.target.composing||e.$set(e.entireCountry,"shippingLimitCost",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元")])])]),e._v(" "),i("div",{staticClass:"area-list"},[i("div",{staticStyle:{"padding-left":"5px",color:"#999"}},[e._v("指定其它地区的运费：")]),e._v(" "),e._l(e.templateValueList,function(t,a){return"000000"!=t.sysAreaCodes?[i("div",{staticClass:"area-list-wrap"},[i("div",{staticClass:"area-item"},[i("el-input",{staticStyle:{width:"208px"},attrs:{placeholder:"浙江、江苏、上海"},model:{value:t.sysAreaNames.join(","),callback:function(i){e.$set(t.sysAreaNames,"join(',')",i)},expression:"item.sysAreaNames.join(',')"}})],1),e._v(" "),i("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingCost,expression:"item.shippingCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"text",name:"",placeholder:""},domProps:{value:t.shippingCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitNum,expression:"item.shippingLimitNum"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"text",name:"",placeholder:""},domProps:{value:t.shippingLimitNum},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitNum",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitCost,expression:"item.shippingLimitCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"text",name:"",placeholder:""},domProps:{value:t.shippingLimitCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元")]),e._v(" "),a?i("div",{staticClass:"area-item"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){e.onDelHandle(t,a)}}},[e._v("删除")])],1):e._e()])]:e._e()}),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:e.onAddHandle}},[e._v("增加")])],2),e._v(" "),i("el-dialog",{attrs:{title:"选择区域",visible:e.dialogVisible,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.onDialogCancelHandle("dialogForm")}}},[i("el-form",{ref:"dialogForm",staticClass:"area-selection",attrs:{model:e.dialogForm,rules:e.dialogFormRules}},[i("el-form-item",{attrs:{label:"",prop:"checkedCities"}},[i("ul",{staticClass:"area-wrap"},[i("el-checkbox-group",{model:{value:e.dialogForm.checkedCities,callback:function(t){e.$set(e.dialogForm,"checkedCities",t)},expression:"dialogForm.checkedCities"}},e._l(e.citiesMap,function(t,a,s){return i("li",[t.checked?[e.checkedCitiesIndex!=t.index?i("el-checkbox",{key:t.name,attrs:{label:a,disabled:""}}):i("el-checkbox",{key:a,attrs:{label:a}})]:i("el-checkbox",{key:a,attrs:{label:a}})],2)}))],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onConfirmHandle("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},s=[],n={render:a,staticRenderFns:s};t.a=n},"7F2B":function(e,t,i){"use strict";var a=i("3SZ7"),s=i.n(a),n=i("34v0"),r=i.n(n),o=i("QJ6d"),l=i("CcaF"),c=i("dZt7");t.a={components:{LogisticsPrice:c.a},data:function(){return{checkedCitiesIndex:"",dialogVisible:!1,entireCountryChecked:!1,isRenderFinished:!1,areaList:[],citiesMap:{},templateList:[],submitLoading:!1,defaultTemplateId:"",templateType:0,dialogForm:{checkedCities:[]},dialogFormRules:{checkedCities:[{required:!1,message:"请选择城市"}]},logisticsForm:{templateName:"",storeShippingTemplateId:"",templateType:0,templateValueList:[]},logisticsRules:{templateName:[{required:!0,message:"请输入模板名称",trigger:"blur"}]}}},computed:r()({},Object(o.b)(["getStoreId"])),created:function(){this.initTemplateHandle()},methods:{isAddDelBtn:function(e,t){for(var i=!1,a=0,s=e.length;a<s;a++)"000000"==e[a].sysAreaCodes&&(i=!0);return i?!(t<=1):!(t<1)},entireCountryChangeHandle:function(e){var t=this,i=t.$createElement,a=i("div",null,[i("div",null,"请确保你的商品可以配送到全国 "),i("div",{style:"margin-top: 10px"},[i("span",{style:"color: #f60"},"此运费将作为"),i("span",null,"除指定地区外，其余地区的默认运费")])]);e&&t.$msgbox({title:"温情提示",message:a,showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,i,a){t.entireCountryChecked="confirm"===e,a()}})},entireCountryTemplate:function(){var e=new Object;return e.sysAreaCodes="000000",e.shippingCost="",e.shippingLimitNum="",e.shippingLimitCost="",e.sysAreaNames=["全国"],e},defaultTemplate:function(){return{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]}},onDelHandle:function(e,t){var i=this;if(e.sysAreaNames&&e.sysAreaNames.length)for(var a=0;a<e.sysAreaNames.length;a++)e.sysAreaNames[a]&&(i.citiesMap[e.sysAreaNames[a]].checked=!1);i.logisticsForm.templateValueList.splice(t,1)},onAddHandle:function(){var e=this;e.logisticsForm.templateValueList.push(e.defaultTemplate())},changeTemplateHandle:function(e){if("-1"!=e){var t=this.getCurTemplateData(e),i=this.getTemplateValueList(t.templateValueList);t.templateValueList=i,this.logisticsForm=t}else this.entireCountryChecked=!1,this.logisticsForm=this.getDefautTemplate();this.citiesMap=this.createAreaMpas(this.areaList),this.initSelectedArea(this.logisticsForm.templateValueList,this.citiesMap)},getTemplateValueList:function(e){var t=!1,i=this;if(e&&e.length){for(var a=0;a<e.length;a++)"000000"==e[a].sysAreaCodes&&(t=!0,i.entireCountryChecked=!0);t?1==e.length&&e.push(i.defaultTemplate()):(e.unshift(i.entireCountryTemplate()),i.entireCountryChecked=!1)}else e=[i.entireCountryTemplate(),i.defaultTemplate()];return e},getDefautTemplate:function(){return{templateValueList:[{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]},{sysAreaCodes:"000000",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:["全国"]}],templateName:"",storeShippingTemplateId:"-1",templateType:0}},getCurTemplateData:function(e){var t=this,i=t.templateList,a=null;if(i.length)for(var s=0,n=i.length;s<n;s++)e==i[s].storeShippingTemplateId&&(a=i[s]);return a},initTemplateHandle:function(){var e=this.getStoreId,t=this;this.getNewestTemplateList(e,function(e){e.area&&e.area.length&&(t.areaList=e.area),e.data&&e.data.length?(t.templateList=e.data,t.defaultTemplateId=e.data[0].storeShippingTemplateId):t.defaultTemplateId="-1",t.isRenderFinished=!0})},createAreaMpas:function(e){var t=e.concat();return this.formartAreaMpas(t)},formartAreaMpas:function(e){var t={};if(e.length)for(var i=0;i<e.length;i++)"全国"!==e[i].areaName&&(t[e[i].areaName]={checked:!1,index:"",areaCode:e[i].areaCode,areaName:e[i].areaName});return t},citySelectHandle:function(e,t){this.dialogForm.checkedCities=e.sysAreaNames,this.checkedCitiesIndex=t,this.dialogVisible=!0},getNewestTemplateList:function(e,t){Object(l.c)({storeId:e}).then(function(e){0===e.data.code&&t(e.data.data)})},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.formartSubmitFormData()})},submitFormData:function(e){var t=this;t.submitLoading=!0,Object(l.o)(e).then(function(e){0===e.data.code?(t.submitLoading=!1,t.$message({message:"物流模板保存成功！",type:"success"}),window.location.href=window.location.href):(t.$message({message:"物流模板保存失败，请重新尝试。",type:"warning"}),t.submitLoading=!0)})},formartSubmitFormData:function(){var e=this,t=e.formartTemplateValueList();if(!e.logisticsForm.templateType&&!t.length)return void e.$message({message:"最少填写一条配送范围及价格！",type:"warning"});var i=e.formartSaveData(t);console.log("提交物流模板数据",i),e.submitFormData(i)},formartTemplateValueList:function(){var e=this.logisticsForm,t=e.templateValueList,i=[];if(t&&t.length)for(var a=0;a<t.length;a++){var s=!1;for(var n in t[a])t[a][n]||(s=!0);s||i.push(t[a])}return i},formartSaveData:function(e){var t=s()(this.logisticsForm),i=JSON.parse(t);return i.templateType?i.templateValueList=[]:i.templateValueList=e,i.storeId=this.getStoreId,i},resetForm:function(e){this.$refs[e].resetFields()},onConfirmHandle:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updateCityMap(),t.dialogVisible=!1})},initSelectedArea:function(e,t){var i=null,a=this;if(e&&e.length)for(var s=0;s<e.length;s++)if(e[s].sysAreaCodes){for(var n=[],r=a.formartArr(e[s].sysAreaCodes),o=0;o<r.length;o++){var l=a.getAreaName(r[o],t),c={areaCode:r[o],index:s,areaName:l};i=a.addSelectArea(l,s,t),n.push(c.areaName)}e[s].sysAreaNames=n}a.citiesMap=i||t},getAreaName:function(e,t){for(var i in t)if(e==t[i].areaCode)return t[i].areaName},formartArr:function(e){if(e)return e.split(",")},updateCityMap:function(){var e=this,t=e.citiesMap,i=e.dialogForm.checkedCities,a=e.checkedCitiesIndex,s=[];if(e.delSelectedArea(a,t),i.length)for(var n=0;n<i.length;n++)s.push(e.updateSysAreaCodes(i[n])),e.addSelectArea(i[n],a,t);else this.resetCitiesMap(t);e.logisticsForm.templateValueList[a].sysAreaNames=i,e.logisticsForm.templateValueList[a].sysAreaCodes=s.join(",")},updateSysAreaCodes:function(e){var t=this,i=t.citiesMap;for(var a in i)if(i[a].areaName==e)return i[a].areaCode},resetCitiesMap:function(e){for(var t in e)e[t].checked=!1,e[t].index=""},delSelectedArea:function(e,t){for(var i in t)t[i].index==e&&(t[i].checked=!1,t[i].index=e)},addSelectArea:function(e,t,i){for(var a in i)i[a].areaName==e&&(i[a].checked=!0,i[a].index=t);return i}}}},CcaF:function(e,t,i){"use strict";i.d(t,"f",function(){return r}),i.d(t,"d",function(){return o}),i.d(t,"g",function(){return l}),i.d(t,"r",function(){return c}),i.d(t,"j",function(){return p}),i.d(t,"p",function(){return u}),i.d(t,"h",function(){return m}),i.d(t,"m",function(){return d}),i.d(t,"l",function(){return v}),i.d(t,"k",function(){return g}),i.d(t,"i",function(){return h}),i.d(t,"q",function(){return f}),i.d(t,"a",function(){return C}),i.d(t,"e",function(){return y}),i.d(t,"b",function(){return _}),i.d(t,"n",function(){return b}),i.d(t,"c",function(){return N}),i.d(t,"o",function(){return x});var a=i("cZQX"),s=i.n(a),n=window.config?window.config.apiHost:"",r=function(e){return s.a.get(n+"/product/category/store",{params:e})},o=function(e){return s.a.get(n+"/product/list",{params:e})},l=function(e){return s.a.post(n+"/product/cancelreview",e)},c=function(e){return s.a.post(n+"/product/ontheshelvestosoldout",e)},p=function(e){return s.a.post(n+"/product/recyclebintodraftbox",e)},u=function(e){return s.a.post(n+"/product/soldouttorecyclebin",e)},m=function(e){return s.a.post(n+"/product/draftboxdelete",e)},d=function(e){return s.a.post(n+"/product/ontheshelvesrecommendon",e)},v=function(e){return s.a.post(n+"/product/ontheshelvesrecommendoff",e)},g=function(e){return s.a.post(n+"/product/shelvesreadytoon",e)},h=function(e){return s.a.post(n+"/product/readytoshelvestosoldout",e)},f=function(e){return s.a.post(n+"/product/soldouttotheshelves",e)},C=function(e){return s.a.post(n+"/product/notpasstorecyclebin",e)},y=function(e){return s.a.get(n+"/store/cate/list",{params:e})},_=function(e){return s.a.get(n+"/product/create",{params:e})},b=function(e){return s.a.post(n+"/product/save",e)},N=function(e){return s.a.get(n+"/order/getNewestTemplate",{params:e})},x=function(e){return s.a.post(n+"/order/saveStoreShippingTemplate",e)}},CnbX:function(e,t,i){var a=i("ZBPP"),s=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},FpKc:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"logistics-block"},[e.isRenderFinished?e._e():i("loading-mask"),e._v(" "),i("el-row",{staticClass:"block"},[i("el-col",{attrs:{span:24}},[i("el-form",{ref:"logisticsForm",staticClass:"logistics-form",attrs:{model:e.logisticsForm,rules:e.logisticsRules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"物流模板",prop:"storeShippingTemplateId"}},[i("el-select",{attrs:{placeholder:"选择物流模板"},on:{change:e.changeTemplateHandle},model:{value:e.defaultTemplateId,callback:function(t){e.defaultTemplateId=t},expression:"defaultTemplateId"}},[i("el-option",{attrs:{label:"新建物流模板",value:"-1"}}),e._v(" "),e.templateList.length?e._l(e.templateList,function(t){return i("el-option",{key:t.templateName,attrs:{label:t.templateName,value:t.storeShippingTemplateId}},[e._v(e._s(t.templateName))])}):e._e()],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"模板名称",prop:"templateName"}},[i("el-input",{staticStyle:{width:"398px"},attrs:{maxlength:20},model:{value:e.logisticsForm.templateName,callback:function(t){e.$set(e.logisticsForm,"templateName",t)},expression:"logisticsForm.templateName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配送自提",prop:"templateType"}},[i("el-radio-group",{model:{value:e.logisticsForm.templateType,callback:function(t){e.$set(e.logisticsForm,"templateType",e._n(t))},expression:"logisticsForm.templateType"}},[i("el-radio",{attrs:{label:0}},[e._v("配送")]),e._v(" "),i("el-radio",{attrs:{label:1}},[e._v("自提")])],1)],1),e._v(" "),0==e.logisticsForm.templateType?i("el-form-item",{attrs:{label:"配送范围及运费",prop:"templateValueList"}},[i("p",{staticClass:"desc"},[e._v("请编辑可送达的地区，当用户选择下述地区以外的配送地址时，将提示用户无法下单。")]),e._v(" "),e._l(e.logisticsForm.templateValueList,function(t,a){return["000000"==t.sysAreaCodes?i("div",{staticClass:"area-list"},[i("div",{staticClass:"area-list-wrap"},[i("div",{staticClass:"area-item",staticStyle:{width:"218px"}},[i("el-checkbox-group",{on:{change:e.entireCountryChangeHandle},model:{value:e.entireCountryChecked,callback:function(t){e.entireCountryChecked=t},expression:"entireCountryChecked"}},[i("el-checkbox",{attrs:{label:"全国"}},[e._v("全国")])],1)],1),e._v(" "),i("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingCost,expression:"item.shippingCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitNum,expression:"item.shippingLimitNum"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingLimitNum},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitNum",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitCost,expression:"item.shippingLimitCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingLimitCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元")])])]):e._e()]}),e._v(" "),i("div",{staticClass:"area-list"},[i("div",{staticStyle:{"padding-left":"5px",color:"#999"}},[e._v("指定其它地区的运费：")]),e._v(" "),e._l(e.logisticsForm.templateValueList,function(t,a){return["000000"!=t.sysAreaCodes?i("div",{staticClass:"area-list-wrap"},[i("div",{staticClass:"area-item"},[i("el-input",{staticStyle:{width:"208px"},attrs:{placeholder:"浙江、江苏、上海"},on:{focus:function(i){e.citySelectHandle(t,a)}},model:{value:t.sysAreaNames.join(","),callback:function(i){e.$set(t.sysAreaNames,"join(',')",i)},expression:"item.sysAreaNames.join(',')"}})],1),e._v(" "),i("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingCost,expression:"item.shippingCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitNum,expression:"item.shippingLimitNum"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingLimitNum},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitNum",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),i("div",{staticClass:"area-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingLimitCost,expression:"item.shippingLimitCost"}],staticClass:"el-input__inner",staticStyle:{width:"80px"},attrs:{type:"number",name:"",placeholder:""},domProps:{value:t.shippingLimitCost},on:{input:function(i){i.target.composing||e.$set(t,"shippingLimitCost",i.target.value)}}})]),e._v(" "),i("div",{staticClass:"area-item"},[e._v("元")]),e._v(" "),e.isAddDelBtn(e.logisticsForm.templateValueList,a)?i("div",{staticClass:"area-item"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){e.onDelHandle(t,a)}}},[e._v("删除")])],1):e._e()]):e._e()]}),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:e.onAddHandle}},[e._v("增加")])],2)],2):e._e(),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.submitForm("logisticsForm")}}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:function(t){e.resetForm("logisticsForm")}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"选择区域",visible:e.dialogVisible,"close-on-press-escape":!1,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.resetForm("dialogForm")}}},[i("el-form",{ref:"dialogForm",staticClass:"area-selection",attrs:{model:e.dialogForm,rules:e.dialogFormRules}},[i("el-form-item",{attrs:{label:"",prop:"checkedCities"}},[i("ul",{staticClass:"area-wrap"},[i("el-checkbox-group",{model:{value:e.dialogForm.checkedCities,callback:function(t){e.$set(e.dialogForm,"checkedCities",t)},expression:"dialogForm.checkedCities"}},e._l(e.citiesMap,function(t,a,s){return i("li",[t.checked?[e.checkedCitiesIndex!=t.index?i("el-checkbox",{key:t.name,attrs:{label:a,disabled:""}}):i("el-checkbox",{key:a,attrs:{label:a}})]:i("el-checkbox",{key:a,attrs:{label:a}})],2)}))],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onConfirmHandle("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},s=[],n={render:a,staticRenderFns:s};t.a=n},PBk4:function(e,t,i){"use strict";t.a={data:function(){return{citiesMap:{},dialogForm:{checkedCities:[]},dialogFormRules:{checkedCities:[{required:!1,message:"请选择城市"}]},dialogVisible:!1,templateValueList:[{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]}],entireCountryChecked:!1,citySite:[],entireCountry:{sysAreaCodes:"000000",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:["全国"]}}},props:{value:[Array,Object],areaList:[Array],templateType:{type:Number}},watch:{value:function(e,t){this.templateValueList=e,this.renderView(e)},areaList:function(e,t){},templateType:function(e,t){console.log("模板类型",e)}},created:function(){this.renderView(this.value)},methods:{createAreaMpas:function(e){var t=e.concat();return this.createCityMap(t)},createCityMap:function(e){var t={};if(e.length)for(var i=0;i<e.length;i++)"全国"!==e[i].areaName&&(t[e[i].areaName]={checked:!1,index:"",areaCode:e[i].areaCode,areaName:e[i].areaName});return t},onDialogCancelHandle:function(e){this.$refs[e].resetFields()},defaultTemplate:function(){return{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]}},onAddHandle:function(){var e=this;e.templateValueList.push(e.defaultTemplate())},onDelHandle:function(e,t){var i=this;if(e.sysAreaNames&&e.sysAreaNames.length)for(var a=0;a<e.sysAreaNames.length;a++)e.sysAreaNames[a]&&(i.citiesMap[e.sysAreaNames[a]].checked=!1);i.templateValueList.splice(t,1)},renderView:function(e){var t=this,i=!1;if(e&&e.length)for(var a=0;a<e.length;a++)if("000000"==e[a].sysAreaCodes){t.entireCountry=e[a],i=!0;break}i||(t.entireCountry={sysAreaCodes:"000000",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:["全国"]}),t.entireCountryChecked=i},entireCountryChangeHandle:function(e){var t=this,i=t.$createElement,a=i("div",null,[i("div",null,"请确保你的商品可以配送到全国 "),i("div",{style:"margin-top: 10px"},[i("span",{style:"color: #f60"},"此运费将作为"),i("span",null,"除指定地区外，其余地区的默认运费")])]);e&&t.$msgbox({title:"温情提示",message:a,showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,i,a){t.entireCountryChecked="confirm"===e,a()}})}}}},SEnp:function(e,t,i){t=e.exports=i("bKW+")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"LogisticsPrice.vue",sourceRoot:""}])},dZt7:function(e,t,i){"use strict";function a(e){i("gsrA")}var s=i("PBk4"),n=i("4mb1"),r=i("mPyB"),o=a,l=r(s.a,n.a,!1,o,null,null);t.a=l.exports},gsrA:function(e,t,i){var a=i("SEnp");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("6imX")("2ea5b80f",a,!0)},lRuI:function(e,t,i){t=e.exports=i("bKW+")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Logistics.vue",sourceRoot:""}])},nIPh:function(e,t,i){var a=i("lRuI");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("6imX")("e0539840",a,!0)},puMd:function(e,t,i){"use strict";function a(e){i("nIPh")}Object.defineProperty(t,"__esModule",{value:!0});var s=i("7F2B"),n=i("FpKc"),r=i("mPyB"),o=a,l=r(s.a,n.a,!1,o,null,null);t.default=l.exports}});
//# sourceMappingURL=10.04a062552c95b9f5ef68.js.map