webpackJsonp([16],{DTfq:function(e,n,t){"use strict";var o=t("Ffkd");n.a={data:function(){return{tableData:[],currentPage:1,pageSize:20,total:null,form:{orderNumber:null,userPhone:null,planCheck:null,orderPlan:[{label:"全部",value:-1},{label:"未核销",value:0},{label:"核销中",value:1},{label:"核销完成",value:2}],cashNumber:null,startTime:null,endTime:null}}},created:function(){var e=this,n={storeId:1,page:1,size:20,voucherStatus:-1};e.getTableData(n)},methods:{numberIsRight:function(e){var n=this;return!/^1[0-9]{10}$/.test(n.form.userPhone)&&n.form.userPhone&&1==e?(n.form.userPhone="",n.warn("请输入正确的手机号"),!1):1!=e&&n.form.orderNumber?(n.form.orderNumber="",n.warn("请输入正确的订单号"),!1):void 0},chooseTime:function(){var e=this;Date.parse(e.form.startTime)>Date.parse(e.form.endTime)&&(e.form.endTime="",e.warn("不可小于查询起始时间"))},searchParams:function(){var e=this;e.getTableData(e.getParams())},getParams:function(){var e=this,n={};return n.storeId=1,n.userMobile=e.form.userPhone,n.userVoucherId=e.form.cashNumber,n.voucherFromOrder=e.form.orderNumber,n.voucherStatus=e.form.planCheck,n.createBeginTime=e.form.startTime,n.createEndTime=e.form.endTime,n.pageNum=e.currentPage,n.pageSize=e.pageSize,n},getTableData:function(e){var n=this;Object(o.c)(e).then(function(e){n.tableData=e.data.data.list,n.total=Number(e.data.data.total)})},handleSizeChange:function(e){var n=this;n.pageSize=e,n.getTableData(n.getParams())},handleCurrentChange:function(e){var n=this;n.currentPage=e,n.getTableData(n.getParams())},warn:function(e){this.$message({message:e,type:"warning"})}}}},Ffkd:function(e,n,t){"use strict";t.d(n,"e",function(){return c}),t.d(n,"f",function(){return l}),t.d(n,"d",function(){return s}),t.d(n,"g",function(){return i}),t.d(n,"h",function(){return u}),t.d(n,"b",function(){return p}),t.d(n,"a",function(){return m}),t.d(n,"c",function(){return A});var o=t("cZQX"),r=t.n(o),a=config.apiHost,c=function(e){return r.a.get(a+"/order/listorderstatusandtype",{params:e})},l=function(e){return r.a.get(a+"/order/pageorderstore",{params:e})},s=function(e){return r.a.get(a+"/order/getorderstoredetail",{params:e})},i=function(e){return r.a.get(a+"/order/pageorderstoreafter",{params:e})},u=function(e){return postAxios.post(a+"/orderafter/shophandleorder",e)},p=function(e){return r.a.get(a+"/order/listaccountstore",{params:e})},m=function(e){return r.a.get(a+"/order/getaccountproductdetail",{params:e})},A=function(e){return r.a.get(a+"/marketing/voucher/list",{params:e})}},Mehv:function(e,n,t){var o=t("Rkl+");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("6imX")("2f7dae71",o,!0)},"Rkl+":function(e,n,t){n=e.exports=t("bKW+")(!0),n.push([e.i,".coupon-con{width:100%;float:left;padding:40px}.coupon-con,.coupon-con *{-webkit-box-sizing:border-box!important;box-sizing:border-box!important}.coupon-con * p{margin:0;padding:0}.coupon-con .w180{width:180px}.coupon-con .w120{width:120px}.coupon-con .ml10{margin-left:10px}.coupon-con .search-row .span-sty{font-size:14px;color:#666;margin:0 10px}.coupon-con .search-row .search-btn{margin-left:40px;width:60px;background:#45cdb6;color:#fff;border:none}.coupon-con .search-row .search-btn span{color:#fff}.coupon-con .table-con{margin-top:30px}.coupon-con .table-con tr td:nth-of-type(6) span.el-tag{background:none;color:#45cdb6;cursor:pointer}.coupon-con .block{float:right}.pop-time{font-size:14px;color:#666}.pop-time i{color:#999;margin-right:10px}.pop-time p:nth-of-type(n+2){margin-top:10px}","",{version:3,sources:["E:/github/seller-center/src/views/transaction/Coupon.vue"],names:[],mappings:"AACA,YAGE,WAAY,AACZ,WAAY,AACZ,YAAc,CACf,AACD,0BANE,wCAA0C,AAClC,+BAAkC,CAQ3C,AACD,gBACM,SAAU,AACV,SAAW,CAChB,AACD,kBACI,WAAa,CAChB,AACD,kBACI,WAAa,CAChB,AACD,kBACI,gBAAkB,CACrB,AACD,kCACI,eAAgB,AAChB,WAAe,AACf,aAAe,CAClB,AACD,oCACI,iBAAkB,AAClB,WAAY,AACZ,mBAAoB,AACpB,WAAY,AACZ,WAAa,CAChB,AACD,yCACM,UAAY,CACjB,AACD,uBACI,eAAiB,CACpB,AACD,wDACM,gBAAiB,AACjB,cAAe,AACf,cAAgB,CACrB,AACD,mBACI,WAAa,CAChB,AACD,UACE,eAAgB,AAChB,UAAe,CAChB,AACD,YACI,WAAY,AACZ,iBAAmB,CACtB,AACD,6BACI,eAAiB,CACpB",file:"Coupon.vue",sourcesContent:["\n.coupon-con {\n  -webkit-box-sizing: border-box !important;\n          box-sizing: border-box !important;\n  width: 100%;\n  float: left;\n  padding: 40px;\n}\n.coupon-con * {\n    -webkit-box-sizing: border-box !important;\n            box-sizing: border-box !important;\n}\n.coupon-con * p {\n      margin: 0;\n      padding: 0;\n}\n.coupon-con .w180 {\n    width: 180px;\n}\n.coupon-con .w120 {\n    width: 120px;\n}\n.coupon-con .ml10 {\n    margin-left: 10px;\n}\n.coupon-con .search-row .span-sty {\n    font-size: 14px;\n    color: #666666;\n    margin: 0 10px;\n}\n.coupon-con .search-row .search-btn {\n    margin-left: 40px;\n    width: 60px;\n    background: #45cdb6;\n    color: #fff;\n    border: none;\n}\n.coupon-con .search-row .search-btn span {\n      color: #fff;\n}\n.coupon-con .table-con {\n    margin-top: 30px;\n}\n.coupon-con .table-con tr td:nth-of-type(6) span.el-tag {\n      background: none;\n      color: #45cdb6;\n      cursor: pointer;\n}\n.coupon-con .block {\n    float: right;\n}\n.pop-time {\n  font-size: 14px;\n  color: #666666;\n}\n.pop-time i {\n    color: #999;\n    margin-right: 10px;\n}\n.pop-time p:nth-of-type(n+2) {\n    margin-top: 10px;\n}\n"],sourceRoot:""}])},Xbwy:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"coupon-con"},[t("el-row",{staticClass:"search-row"},[t("el-input",{staticClass:"w180",attrs:{placeholder:"订单编号"},model:{value:e.form.orderNumber,callback:function(n){e.$set(e.form,"orderNumber",n)},expression:"form.orderNumber"}}),e._v(" "),t("el-input",{staticClass:"w180 ml10",attrs:{placeholder:"买家手机号"},on:{blur:function(n){e.numberIsRight(1)}},model:{value:e.form.userPhone,callback:function(n){e.$set(e.form,"userPhone",n)},expression:"form.userPhone"}}),e._v(" "),t("el-select",{staticClass:"w180 ml10",attrs:{placeholder:"核销进度"},model:{value:e.form.planCheck,callback:function(n){e.$set(e.form,"planCheck",n)},expression:"form.planCheck"}},e._l(e.form.orderPlan,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),t("el-input",{staticClass:"w180 ml10",attrs:{placeholder:"点券编号"},on:{blur:function(n){e.numberIsRight(2)}},model:{value:e.form.cashNumber,callback:function(n){e.$set(e.form,"cashNumber",n)},expression:"form.cashNumber"}}),e._v(" "),t("el-date-picker",{staticClass:"w120 ml10",attrs:{type:"date",placeholder:"生成日期"},on:{change:e.chooseTime},model:{value:e.form.startTime,callback:function(n){e.$set(e.form,"startTime",n)},expression:"form.startTime"}}),e._v(" "),t("span",{staticClass:"span-sty"},[e._v("—")]),e._v(" "),t("el-date-picker",{staticClass:"w120",attrs:{type:"date",placeholder:"生成日期"},on:{change:e.chooseTime},model:{value:e.form.endTime,callback:function(n){e.$set(e.form,"endTime",n)},expression:"form.endTime"}}),e._v(" "),t("el-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.searchParams}},[e._v("查询")])],1),e._v(" "),t("el-table",{staticClass:"table-con",attrs:{data:e.tableData,align:"center","row-style":{height:"100px"}}},[t("el-table-column",{attrs:{prop:"voucherFromOrder",label:"订单编号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userVoucherId",label:"点券编号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createdAt",label:"生成时间",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"voucherProductTitle",label:"商品名称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"mobile",label:"用户手机号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"useVoucherTimes",label:"已核销",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-popover",{attrs:{trigger:"hover",placement:"bottom","popper-class":"pop-time"}},[e._l(n.row.voucherRecordList,function(n){return t("p",[t("i",{staticClass:"el-icon-time"}),e._v(e._s(n))])}),e._v(" "),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("el-tag",[e._v(e._s(n.row.uesrPhone))])],1)],2)]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"voucherTimes",label:"总次数",align:"center"}})],1),e._v(" "),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,100],"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],a={render:o,staticRenderFns:r};n.a=a},tiyc:function(e,n,t){"use strict";function o(e){t("Mehv")}Object.defineProperty(n,"__esModule",{value:!0});var r=t("DTfq"),a=t("Xbwy"),c=t("mPyB"),l=o,s=c(r.a,a.a,!1,l,null,null);n.default=s.exports}});
//# sourceMappingURL=16.109a6b7ed667e84bdabd.js.map