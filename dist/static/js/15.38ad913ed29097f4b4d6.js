webpackJsonp([15],{"3SZ7":function(e,t,r){e.exports={default:r("CnbX"),__esModule:!0}},"6I8f":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"new-role"},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ruleForm",staticStyle:{width:"60%","min-width":"600px"},attrs:{model:e.ruleForm,"label-width":"80px",rules:e.rules}},[r("el-form-item",{attrs:{label:"岗位名称","label-width":"100px",prop:"roleName"}},[r("el-input",{staticClass:"wid270",attrs:{maxlength:20,placeholder:"请输入岗位名称"},model:{value:e.ruleForm.roleName,callback:function(t){e.$set(e.ruleForm,"roleName",t)},expression:"ruleForm.roleName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限","label-width":"100px",prop:"jurisdiction"}},[r("el-checkbox-group",{model:{value:e.ruleForm.roleAuthority,callback:function(t){e.$set(e.ruleForm,"roleAuthority",t)},expression:"ruleForm.roleAuthority"}},e._l(e.jurisdiction,function(t){return r("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"","label-width":"100px"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.changePermission("ruleForm")}}},[e._v("修改权限")])],1)],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},CnbX:function(e,t,r){var o=r("ZBPP"),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},Cs2c:function(e,t,r){var o=r("SCAr");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("6imX")("26305fec",o,!0)},HKWm:function(e,t,r){"use strict";var o=r("3SZ7"),i=r.n(o),n=r("pgiz");t.a={data:function(){return{isAdd:1,listLoading:!1,jurisdiction:[],ruleForm:{storeOperatorRoleId:"",roleName:"",roleAuthority:[]},rules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:1,max:20,message:"请输入角色名称",trigger:"blur"}]}}},created:function(){var e=this;this.listLoading=!0,Object(n.G)({}).then(function(t){e.listLoading=!1,e.jurisdiction=t.data.data}).catch(function(t){e.listLoading=!1})},mounted:function(){var e=this.$route.params.id;e&&(this.dataFetch(e),this.isAdd=2)},methods:{dataFetch:function(e){var t=this,r={storeOperatorRoleId:e};this.listLoading=!0,Object(n.F)(r).then(function(e){t.ruleForm=e.data.data,t.ruleForm.roleAuthority?t.ruleForm.roleAuthority=JSON.parse(t.ruleForm.roleAuthority):t.ruleForm.roleAuthority=[],t.listLoading=!1}).catch(function(e){t.listLoading=!1})},sucFun:function(e){var t=this;this.listLoading=!1,0==e.data.code&&this.$message({message:"提交成功",type:"success",onClose:function(){t.$router.push({path:"/store/bypass-management/role-list"})}})},changePermission:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.listLoading=!0;var r=new URLSearchParams;r.append("roleName",t.ruleForm.roleName),r.append("roleAuthority",i()(t.ruleForm.roleAuthority)),2==t.isAdd?(r.append("storeOperatorRoleId",t.ruleForm.storeOperatorRoleId),Object(n.J)(r).then(function(e){t.sucFun(e)}).catch(function(e){t.listLoading=!1})):(console.log(t.ruleForm.selJurisdict),r.append("storeId",storeId),Object(n.I)(r).then(function(e){t.sucFun(e)}).catch(function(e){t.listLoading=!1}))})}}}},SCAr:function(e,t,r){t=e.exports=r("bKW+")(!0),t.push([e.i,".new-role{padding:40px 0 0}.new-role .wid270{width:270px}.new-role .el-button{width:100px;height:34px;line-height:34px;background:#41cac0;padding:0;border-color:#41cac0;border-radius:0}","",{version:3,sources:["E:/github/seller-center/src/views/shops/NewRole.vue"],names:[],mappings:"AACA,UACE,gBAAsB,CACvB,AACD,kBACI,WAAa,CAChB,AACD,qBACI,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,mBAAoB,AACpB,UAAW,AACX,qBAAsB,AACtB,eAAiB,CACpB",file:"NewRole.vue",sourcesContent:["\n.new-role {\n  padding: 40px 0 0 0px;\n}\n.new-role .wid270 {\n    width: 270px;\n}\n.new-role .el-button {\n    width: 100px;\n    height: 34px;\n    line-height: 34px;\n    background: #41cac0;\n    padding: 0;\n    border-color: #41cac0;\n    border-radius: 0;\n}\n"],sourceRoot:""}])},xgSY:function(e,t,r){"use strict";function o(e){r("Cs2c")}Object.defineProperty(t,"__esModule",{value:!0});var i=r("HKWm"),n=r("6I8f"),a=r("mPyB"),l=o,s=a(i.a,n.a,!1,l,null,null);t.default=s.exports}});
//# sourceMappingURL=15.38ad913ed29097f4b4d6.js.map