webpackJsonp([33],{"5HJb":function(e,t,n){var a=n("tUma");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("6imX")("4022b50a",a,!0)},UfAT:function(e,t,n){"use strict";var a=n("pgiz");t.a={data:function(){return{filters:{name:""},users:[],total:0,pageNum:1,pageSize:20,listLoading:!1}},watch:{$route:function(e,t){"/store/shop-management"==this.$route.path&&this.getUsers()}},methods:{getUsers:function(){var e=this,t={storeId:config.storeId,pageNum:this.pageNum,pageSize:this.pageSize};this.listLoading=!0,Object(a.n)(t).then(function(t){e.listLoading=!1,0==t.data.code?(e.total=Number(t.data.data.total),e.users=t.data.data.list):e.$message.error(t.data.message)}).catch(function(t){e.listLoading=!1,e.$message.error("接口建立连接失败")})},handleCurrentChange:function(e){this.pageNum=e,this.getUsers()},handleSizeChange:function(e){this.pageSize=e,this.getUsers()},handleDel:function(e,t){var n=this,s=this.$createElement,o=0==t.isHead?1:0;this.$msgbox({title:"设为总店",message:s("p",null,[s("span",null,"确认要设为总店吗？ ")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,s,i){if(console.log(e),"confirm"===e){var r=new URLSearchParams;r.append("storeBranchId",t.storeBranchId),r.append("isHead",o),n.listLoading=!0,Object(a.R)(r).then(function(e){n.listLoading=!1,0==e.data.code?n.getUsers():n.$message.error(e.data.message),i()}).catch(function(e){n.listLoading=!1,i(),n.$message.error("接口建立连接失败")})}else i()}})}},mounted:function(){this.getUsers()}}},fGvu:function(e,t,n){"use strict";function a(e){n("5HJb")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("UfAT"),o=n("j58b"),i=n("mPyB"),r=a,l=i(s.a,o.a,!1,r,null,null);t.default=l.exports},j58b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"门店管理"==e.$route.name?n("section",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"shop-list"},[n("el-col",{staticClass:"tool-bar",attrs:{span:24}},[n("router-link",{attrs:{to:"/store/shop-management/add",icon:"plus"}},[n("el-button",{attrs:{type:"primary",icon:"plus"}},[e._v("添加门店")])],1)],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users}},[n("el-table-column",{attrs:{prop:"name",label:"门店名称","min-width":"150",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"门店地址","min-width":"150",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"workTime",label:"营业时间","min-width":"150",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"contactPerson",label:"联系人姓名","min-width":"150",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"contactMobile",label:"联系人号码","min-width":"150",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("router-link",{attrs:{to:{name:"编辑门店",params:{id:t.row.storeBranchId}}}},[e._v("编辑")]),e._v(" "),n("span",{on:{click:function(n){e.handleDel(t.$index,t.row)}}},[e._v(e._s(0==t.row.isHead?"设为总店":""))])]}}])})],1),e._v(" "),n("el-col",{staticClass:"tool-bar",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{"page-sizes":[20,50,100],"current-page":e.pageNum,"page-size":e.pageSize,layout:"sizes,prev, pager, next, jumper,total",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1):n("router-view")},s=[],o={render:a,staticRenderFns:s};t.a=o},tUma:function(e,t,n){t=e.exports=n("bKW+")(!0),t.push([e.i,".shop-list{padding:0 40px 0 20px}.shop-list a{text-decoration:none}.shop-list .tool-bar{width:100%;background:none;margin:20px 0;position:relative}.shop-list .cell a{color:#45cdb6}.shop-list .cell span{color:#45cdb6;padding-left:20px;cursor:pointer}","",{version:3,sources:["E:/github/seller-center/src/views/shops/ShopManagement.vue"],names:[],mappings:"AACA,WACE,qBAAuB,CACxB,AACD,aACI,oBAAsB,CACzB,AACD,qBACI,WAAY,AACZ,gBAAiB,AACjB,cAAe,AACf,iBAAmB,CACtB,AACD,mBACI,aAAe,CAClB,AACD,sBACI,cAAe,AACf,kBAAmB,AACnB,cAAgB,CACnB",file:"ShopManagement.vue",sourcesContent:["\n.shop-list {\n  padding: 0 40px 0 20px;\n}\n.shop-list a {\n    text-decoration: none;\n}\n.shop-list .tool-bar {\n    width: 100%;\n    background: none;\n    margin: 20px 0;\n    position: relative;\n}\n.shop-list .cell a {\n    color: #45cdb6;\n}\n.shop-list .cell span {\n    color: #45cdb6;\n    padding-left: 20px;\n    cursor: pointer;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=33.e13e54ea31526fc45633.js.map