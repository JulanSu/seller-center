webpackJsonp([9],{"2e3O":function(e,t,a){t=e.exports=a("bKW+")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"AreaItem.vue",sourceRoot:""}])},"8E2U":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"area-selection"},[a("el-checkbox-group",{model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},[a("ul",{staticClass:"area-wrap"},e._l(e.cities,function(t){return a("li",[a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])],1)}))])],1)},s=[],r={render:i,staticRenderFns:s};t.a=r},CcaF:function(e,t,a){"use strict";a.d(t,"e",function(){return r}),a.d(t,"g",function(){return n}),a.d(t,"r",function(){return l}),a.d(t,"j",function(){return o}),a.d(t,"p",function(){return c}),a.d(t,"h",function(){return u}),a.d(t,"m",function(){return p}),a.d(t,"l",function(){return m}),a.d(t,"k",function(){return d}),a.d(t,"i",function(){return f}),a.d(t,"q",function(){return v}),a.d(t,"a",function(){return h}),a.d(t,"f",function(){return g}),a.d(t,"c",function(){return C}),a.d(t,"n",function(){return _}),a.d(t,"b",function(){return y}),a.d(t,"d",function(){return b}),a.d(t,"o",function(){return x});var i=a("cZQX"),s=a.n(i),r=function(e){return s.a.get("/product/list",{params:e})},n=function(e){return s.a.post("/product/cancelreview",e)},l=function(e){return s.a.post("/product/ontheshelvestosoldout",e)},o=function(e){return s.a.post("/product/recyclebintosoldout",e)},c=function(e){return s.a.post("/product/soldouttorecyclebin",e)},u=function(e){return s.a.post("/product/draftboxdelete",e)},p=function(e){return s.a.post("/product/ontheshelvesrecommendon",e)},m=function(e){return s.a.post("/product/ontheshelvesrecommendoff",e)},d=function(e){return s.a.post("/product/shelvesreadytoon",e)},f=function(e){return s.a.post("/product/readytoshelvestosoldout",e)},v=function(e){return s.a.post("/product/soldouttotheshelves",e)},h=function(e){return s.a.post("/product/notpasstorecyclebin",e)},g=function(e){return s.a.get("/store/cate/list",{params:e})},C=function(e){return s.a.get("/product/create",{params:e})},_=function(e){return s.a.post("/product/save",e)},y=function(e){return s.a.get("/product/category/all",{params:e})},b=function(e){return s.a.get("/order/getNewestTemplate",{params:e})},x=function(e){return s.a.post("/order/saveStoreShippingTemplate",e)}},IEz0:function(e,t,a){t=e.exports=a("bKW+")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"WuLiu.vue",sourceRoot:""}])},IiSO:function(e,t,a){"use strict";function i(e){a("meUk")}var s=a("aHbw"),r=a("8E2U"),n=a("mPyB"),l=i,o=n(s.a,r.a,!1,l,null,null);t.a=o.exports},aHbw:function(e,t,a){"use strict";var i=["上海","北京","广州"];t.a={data:function(){return{cities:i,checkedCities:[],isIndeterminate:!1,checkAll:!1}},props:{areas:{type:Array,default:function(){return[{areaName:"华东",areaId:111,province:[{name:"浙江省",id:123,city:[{name:"杭州市",id:1234},{name:"宁波市",id:1234},{name:"宁还是",id:1234}]}]}]}}},watch:{},mounted:function(){},methods:{}}},aK81:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"area-list-wrap"},[a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"208px"},attrs:{placeholder:"浙江、江苏、上海"},on:{focus:function(t){e.citySelectHandle(e.templateValue)}},model:{value:e.templateItem.areaValue,callback:function(t){e.$set(e.templateItem,"areaValue",t)},expression:"templateItem.areaValue"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:e.templateItem.shippingCost,callback:function(t){e.$set(e.templateItem,"shippingCost",t)},expression:"templateItem.shippingCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:e.templateItem.shippingLimitNum,callback:function(t){e.$set(e.templateItem,"shippingLimitNum",t)},expression:"templateItem.shippingLimitNum"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:e.templateItem.shippingLimitCost,callback:function(t){e.$set(e.templateItem,"shippingLimitCost",t)},expression:"templateItem.shippingLimitCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元")])])},s=[],r={render:i,staticRenderFns:s};t.a=r},ddCN:function(e,t,a){"use strict";function i(e){a("rch+")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("hWlG"),r=a("pv55"),n=a("mPyB"),l=i,o=n(s.a,r.a,!1,l,null,null);t.default=o.exports},gA2v:function(e,t,a){"use strict";t.a={data:function(){return{templateItem:{},citySite:[]}},props:{templateValue:{type:[Array,Object],default:function(){return[]}}},computed:{},created:function(){this.templateItem=this.templateValue,console.log("area-item",this.templateItem)},methods:{citySelectHandle:function(e,t){}}}},gLcj:function(e,t,a){"use strict";function i(e){a("ihQ0")}var s=a("gA2v"),r=a("aK81"),n=a("mPyB"),l=i,o=n(s.a,r.a,!1,l,null,null);t.a=o.exports},hWlG:function(e,t,a){"use strict";var i=a("IiSO"),s=a("gLcj"),r=a("CcaF"),n=a("TOsV"),l=(a.n(n),window);l.storeInfo&&l.storeInfo.storeId&&l.storeInfo.storeId;t.a={components:{CitySelection:i.a,AreaItem:s.a},data:function(){return{national:!1,storeId:"1",initTemplateData:{},citiesMap:{},checkedCitiesIndex:"",dialogForm:{checkedCities:[]},isEditorStatus:!1,dialogVisible:!1,ruleForm:{templateValueList:[{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]}],storeId:"1",templateName:"",storeShippingTemplateId:0,templateType:0},initForm:{},rules:{templateName:[{required:!0,message:"请输入模板名称",trigger:"blur"}]},dialogFormRules:{checkedCities:[{required:!1,message:"请选择城市"}]}}},computed:{},created:function(){var e=this;e.getNewestTemplateData(this.storeId,function(t){e.initTemplateData=t.data,e.ruleForm=t.firstData;var a=e.createCityMap(t.area);e.initSelectedArea(e.ruleForm.templateValueList,a);console.log("格式化后的城市",e.citiesMap)})},methods:{createCityMap:function(e){var t={};if(e.length)for(var a=0;a<e.length;a++)"全国"!==e[a].areaName&&(t[e[a].areaName]={checked:!1,index:"",areaCode:e[a].areaCode,areaName:e[a].areaName});return t},addAreaRow:function(){return{sysAreaCodes:"",shippingCost:"",shippingLimitNum:"",shippingLimitCost:"",sysAreaNames:[]}},initSelectedArea:function(e,t){var a=null,i=this;if(e.length)for(var s=0;s<e.length;s++)if(e[s].sysAreaCodes){var r=[],n=i.formartArr(e[s].sysAreaCodes);console.log("遍历过后的数据",e[s]);for(var l=0;l<n.length;l++){var o=i.getAreaName(n[l],t),c={areaCode:n[l],index:s,areaName:o};a=i.addSelectArea(o,s,t),r.push(c.areaName)}e[s].sysAreaNames=r}console.log("遍历过后的数据",a),i.citiesMap=a},addSelectArea:function(e,t,a){for(var i in a)a[i].areaName==e&&(a[i].checked=!0,a[i].index=t);return a},getAreaName:function(e,t){for(var a in t)if(e==t[a].areaCode)return t[a].areaName},formartArr:function(e){if(e)return e.split(",")},getNewestTemplateData:function(e,t){Object(r.d)({storeId:1}).then(function(e){0===e.data.code&&t(e.data.data)})},citySelectHandle:function(e,t){this.dialogForm.checkedCities=e.sysAreaNames,this.checkedCitiesIndex=t,this.dialogVisible=!0},onConfirmHandle:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.updateCityMap(),t.dialogVisible=!1})},updateCityMap:function(){var e=this,t=e.dialogForm.checkedCities,a=e.checkedCitiesIndex,i=e.citiesMap;if(e.ruleForm.templateValueList[a].sysAreaNames=t,t.length)for(var s=0;s<t.length;s++)e.addSelectArea(t[s],a,i);else this.resetCitiesMap(i)},resetCitiesMap:function(e){for(var t in e)e[t].checked=!1,e[t].index=""},onDialogCancelHandle:function(e){this.$refs[e].resetFields()},peiSongHandle:function(e){},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.saveTemplateData()})},saveTemplateData:function(){for(var e=this.ruleForm.templateValueList,t=this.citiesMap,a=0;a<e.length;a++)if(e[a].sysAreaNames.length){for(var i=[],s=0;s<e[a].sysAreaNames.length;s++){var n=t[e[a].sysAreaNames[s]];n&&i.push(n.areaCode)}e[a].sysAreaCodes=i.join(",")}var l=this.ruleForm;Object(r.o)(l).then(function(e){}),console.log("提交表单",this.ruleForm)},resetForm:function(e){this.$refs[e].resetFields()}}}},ihQ0:function(e,t,a){var i=a("2e3O");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("6imX")("83e187d6",i,!0)},meUk:function(e,t,a){var i=a("o1Lg");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("6imX")("cc971ed0",i,!0)},o1Lg:function(e,t,a){t=e.exports=a("bKW+")(!0),t.push([e.i,".area-selection li,.area-selection ul{margin:0;padding:0;list-style:none}.area-selection .area-wrap li{float:left;margin-right:20px}","",{version:3,sources:["E:/github/seller-center/src/views/seller_management/components/CitySelection.vue"],names:[],mappings:"AACA,sCACE,SAAU,AACV,UAAW,AACX,eAAiB,CAClB,AACD,8BACE,WAAY,AACZ,iBAAmB,CACpB",file:"CitySelection.vue",sourcesContent:["\n.area-selection ul, .area-selection li {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n.area-selection .area-wrap li {\n  float: left;\n  margin-right: 20px;\n}\n"],sourceRoot:""}])},pv55:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wuliu"},[a("el-row",{staticClass:"block"},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"ruleForm",staticClass:"wuliu-form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"物流模板",prop:"storeShippingTemplateId"}},[a("el-select",{attrs:{placeholder:"选择物流模板"},model:{value:e.ruleForm.storeShippingTemplateId,callback:function(t){e.$set(e.ruleForm,"storeShippingTemplateId",e._n(t))},expression:"ruleForm.storeShippingTemplateId"}},[a("el-option",{attrs:{label:"新建物流模板",value:0}}),e._v(" "),e.initTemplateData.length?e._l(e.initTemplateData,function(e){return a("el-option",{attrs:{label:e.name,value:e.versionId}})}):e._e()],2),e._v(" "),e.isEditorStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.push({path:"/seller-management/wuliu"})}}},[e._v("新建物流模板")]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称",prop:"templateName"}},[a("el-input",{staticStyle:{width:"398px"},model:{value:e.ruleForm.templateName,callback:function(t){e.$set(e.ruleForm,"templateName",t)},expression:"ruleForm.templateName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"配送自提",prop:"templateType"}},[a("el-radio-group",{on:{change:e.peiSongHandle},model:{value:e.ruleForm.templateType,callback:function(t){e.$set(e.ruleForm,"templateType",e._n(t))},expression:"ruleForm.templateType"}},[a("el-radio",{attrs:{label:0}},[e._v("配送")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("自提")])],1)],1),e._v(" "),0==e.ruleForm.templateType?a("el-form-item",{attrs:{label:"配送范围及运费",prop:"title"}},[a("p",{staticClass:"desc"},[e._v("请编辑可送达的地区，当用户选择下述地区以外的配送地址时，将提示用户无法下单。")]),e._v(" "),a("div",{staticClass:"area-list"},[e._l(e.ruleForm.templateValueList,function(t,i){return a("div",{staticClass:"area-list-wrap"},[a("div",{staticClass:"area-item",staticStyle:{width:"219px"}},[a("el-checkbox",{model:{value:e.national,callback:function(t){e.national=t},expression:"national"}},[e._v("全国")])],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingCost,callback:function(a){e.$set(t,"shippingCost",a)},expression:"item.shippingCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingLimitNum,callback:function(a){e.$set(t,"shippingLimitNum",a)},expression:"item.shippingLimitNum"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingLimitCost,callback:function(a){e.$set(t,"shippingLimitCost",a)},expression:"item.shippingLimitCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元")]),e._v(" "),a("div",{staticClass:"area-item"})])}),e._v(" "),e._l(e.ruleForm.templateValueList,function(t,i){return[a("div",{staticStyle:{"padding-left":"5px",color:"#999"}},[e._v("指定地区的运费：")]),e._v(" "),a("div",{staticClass:"area-list-wrap"},[a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"208px"},attrs:{placeholder:"浙江、江苏、上海"},on:{focus:function(a){e.citySelectHandle(t,i)}},model:{value:t.sysAreaNames.join(","),callback:function(a){e.$set(t.sysAreaNames,"join(',')",a)},expression:"item.sysAreaNames.join(',')"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("+运费")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingCost,callback:function(a){e.$set(t,"shippingCost",a)},expression:"item.shippingCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元/件，满")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingLimitNum,callback:function(a){e.$set(t,"shippingLimitNum",a)},expression:"item.shippingLimitNum"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("件")]),e._v(" "),a("div",{staticClass:"area-item"},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:t.shippingLimitCost,callback:function(a){e.$set(t,"shippingLimitCost",a)},expression:"item.shippingLimitCost"}})],1),e._v(" "),a("div",{staticClass:"area-item"},[e._v("元")])])]})],2)]):e._e(),e._v(" "),"ziti"==e.ruleForm.templateType?a("el-form-item",{attrs:{label:"自提描述",prop:"title"}},[a("p",{staticClass:"desc"},[e._v("请填写买家自提商品时，需要注意的事项。")]),e._v(" "),a("div",{staticClass:"area"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:e.ruleForm.textarea,callback:function(t){e.$set(e.ruleForm,"textarea",t)},expression:"ruleForm.textarea"}})],1)]):e._e(),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择区域",visible:e.dialogVisible,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.onDialogCancelHandle("dialogForm")}}},[a("el-form",{ref:"dialogForm",staticClass:"area-selection",attrs:{model:e.dialogForm,rules:e.dialogFormRules}},[a("el-form-item",{attrs:{label:"",prop:"checkedCities"}},[a("ul",{staticClass:"area-wrap"},[a("el-checkbox-group",{model:{value:e.dialogForm.checkedCities,callback:function(t){e.$set(e.dialogForm,"checkedCities",t)},expression:"dialogForm.checkedCities"}},e._l(e.citiesMap,function(t,i,s){return a("li",[t.checked?[e.checkedCitiesIndex!=t.index?a("el-checkbox",{key:t.name,attrs:{label:i,disabled:""}}):a("el-checkbox",{key:i,attrs:{label:i}})]:a("el-checkbox",{key:i,attrs:{label:i}})],2)}))],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onConfirmHandle("dialogForm")}}},[e._v("确 定")])],1)],1)],1)},s=[],r={render:i,staticRenderFns:s};t.a=r},"rch+":function(e,t,a){var i=a("IEz0");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("6imX")("7573ebf0",i,!0)}});
//# sourceMappingURL=9.c5efc8a98afe1487700f.js.map