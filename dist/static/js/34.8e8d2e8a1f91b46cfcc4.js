webpackJsonp([34],{"/Low":function(e,t,s){var r=s("a1m/");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("6imX")("735e7d84",r,!0)},"a1m/":function(e,t,s){t=e.exports=s("bKW+")(!0),t.push([e.i,".shop-message p{margin:0}.shop-message .wid280{width:280px}.shop-message .wid400{width:400px}.shop-message .exhibition{padding-left:10px;font-size:14px;color:#333}.shop-message .category-bar{padding:40px 0 20px 40px}.shop-message li,.shop-message ol,.shop-message ul{padding:0;margin:0;list-style:none}","",{version:3,sources:["E:/github/seller-center/src/views/shops/Message.vue"],names:[],mappings:"AAMA,gBACI,QAAU,CACb,AACD,sBACI,WAAa,CAChB,AACD,sBACI,WAAa,CAChB,AACD,0BACI,kBAAmB,AACnB,eAAgB,AAChB,UAAe,CAClB,AACD,4BACI,wBAA0B,CAC7B,AACD,mDACI,UAAW,AACX,SAAU,AACV,eAAiB,CACpB",file:"Message.vue",sourcesContent:['\n@charset "UTF-8";\n.shop-message {\n  /* 公共样式 */\n  /* 只读样式 */\n}\n.shop-message p {\n    margin: 0;\n}\n.shop-message .wid280 {\n    width: 280px;\n}\n.shop-message .wid400 {\n    width: 400px;\n}\n.shop-message .exhibition {\n    padding-left: 10px;\n    font-size: 14px;\n    color: #333333;\n}\n.shop-message .category-bar {\n    padding: 40px 0 20px 40px;\n}\n.shop-message ol, .shop-message ul, .shop-message li {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n}\n'],sourceRoot:""}])},rMw6:function(e,t,s){"use strict";function r(e){s("/Low")}Object.defineProperty(t,"__esModule",{value:!0});var i=s("ssnF"),a=s("zjJv"),l=s("mPyB"),o=r,n=l(i.a,a.a,!1,o,null,null);t.default=n.exports},ssnF:function(e,t,s){"use strict";var r=s("Ecxi"),i=s("IObT"),a=s("c22B"),l=s.n(a),o=s("3GDu"),n=s("pgiz");t.a={components:{CategoryBar:r.a,UploadPictures:i.a,VDistpicker:l.a,MapView:o.a},data:function(){return{categoryBarTitle:"店铺基本信息",uploadTishi1:"请传160*160,格式要求jpg,jpeg,png,不超过10MB",uploadTishi2:"请上传750*320，格式要求jpg、jpeg、png，不超过10MB",height:300,longitude:116.404,latitude:39.915,site:"116.4.404015,39.912734",searchsite:"",selcity:"",select:{province:"省",city:"市",area:"区"},ruleForm:{storeId:"",shopType:"",name:"",notice:"",logo:"",broadwiseLogo:"",address:"",cityString:"",industryCateString:"",workTime:"",serviceScope:"",Industry:"",BrandStandard:"",contactName:"",contactMobile:"",startValidTime:"",endValidTime:""},rules:{name:[{required:!0,message:"请输入店铺名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 位",trigger:"blur"}],address:[{required:!0,message:"请输入门店详细地址",trigger:"blur"}],workTime:[{required:!0,message:"请输入营业时间",trigger:"blur"}],contactName:[{required:!0,message:"请输入运营人姓名",trigger:"blur"},{min:2,max:30,message:"请输入正确的运营人姓名",trigger:"blur"}],contactMobile:[{validator:function(e,t,s){if(""===t)s(new Error("请输入手机号"));else{var r=t.slice(0,1);11!=t.length||1!=r?s(new Error("请输入正确的手机号")):s()}},trigger:"blur"}]}}},watch:{$route:function(){alert(222)}},mounted:function(){this.getShop();var e=this;window.document.onclick=function(){e.$refs.MapView.clearKey()}},computed:{time:function(){var e=new Date(this.ruleForm.startValidTime),t=new Date(this.ruleForm.endValidTime);return e.getFullYear()+" / "+(e.getMonth()+1)+" / "+e.getDate()+" - "+t.getFullYear()+" / "+(t.getMonth()+1)+" / "+t.getDate()}},methods:{sucpic1:function(e){this.ruleForm.logo=e},sucpic2:function(e){this.ruleForm.broadwiseLogo=e},fetchDate:function(){alert(1)},showKey:function(e){this.ruleForm.address=e},searchFocus:function(){this.selProvince+this.selCity+this.selArea+this.ruleForm.address||this.$message({message:"请先选择省市区",type:"warning"})},searchDetail:function(){var e=this.selProvince+this.selCity+this.selArea+this.ruleForm.address;this.$refs.MapView.againmap(this.ruleForm.longitude,this.ruleForm.latitude,e,this.ruleForm.address)},getShop:function(){var e=this,t={storeId:storeId};Object(n.n)(t).then(function(t){e.ruleForm=t.data.data,e.ruleForm.shopType=1==e.ruleForm.shopType?"个人店铺":"企业店铺";e.switchover(e.ruleForm.address),e.ruleForm.longitude/=1e6,e.ruleForm.latitude/=1e6,e.$refs.MapView.creatmap(e.ruleForm.longitude,e.ruleForm.latitude)})},switchover:function(e){var t=e.split("*"),s=t.length;4==s?(this.select.province=this.selProvince=t[0],this.select.city=this.selCity=t[1],this.select.area=this.selArea=t[2],this.ruleForm.address=t[3]):3==s?(this.select.province=this.selProvince=t[0],this.select.city=this.selCity=t[1],this.ruleForm.address=t[2]):2==s?(this.select.province=this.selProvince=t[0],this.ruleForm.address=t[1]):this.ruleForm.address=t[0]},onProvince:function(e){this.select.province=e.value,e.code?this.selProvince=e.value:this.selProvince="",this.selCity="",this.selArea=""},onCity:function(e){this.select.city=e.value,e.code?this.selCity=e.value:this.selCity="",this.selArea=""},onSelected:function(e){this.select.area=e.area.value,e.area.code?this.selArea=e.area.value:this.selArea=""},searchbtn:function(){var e=this.selProvince+this.selCity+this.selArea+this.ruleForm.address;this.$refs.MapView.againmap(this.ruleForm.longitude,this.ruleForm.latitude,e)},showsite:function(e,t){this.ruleForm.longitude=e,this.ruleForm.latitude=t},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(!t.selProvince)return t.$message({message:"请选择省市区",type:"warning"}),!1;t.sel=t.selProvince,t.selCity&&(t.sel+="*"+t.selCity),t.selArea&&(t.sel+="*"+t.selArea);var s=new URLSearchParams;s.append("storeId",t.ruleForm.storeId),s.append("name",t.ruleForm.name),s.append("notice",t.ruleForm.notice),s.append("logo",t.ruleForm.logo),s.append("broadwiseLogo",t.ruleForm.broadwiseLogo),s.append("address",t.sel+"*"+t.ruleForm.address),s.append("longitude",Number(1e6*t.ruleForm.longitude)),s.append("latitude",Number(1e6*t.ruleForm.latitude)),s.append("workTime",t.ruleForm.workTime),s.append("contactName",t.ruleForm.contactName),s.append("contactMobile",t.ruleForm.contactMobile),console.log(t.ruleForm.logo,t.ruleForm.broadwiseLogo),Object(n.O)(s).then(function(e){0==e.data.code?t.$message({message:"保存成功",type:"success"}):t.$message.error(e.data.message)})})}}}},zjJv:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"shop-message"},[s("category-bar",{attrs:{title:e.categoryBarTitle}}),e._v(" "),s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[s("el-form-item",{staticClass:"lefttit",attrs:{label:"入驻类型",prop:"shopType","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{readonly:!0,placeholder:""},model:{value:e.ruleForm.shopType,callback:function(t){e.$set(e.ruleForm,"shopType",t)},expression:"ruleForm.shopType"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"店铺名称",prop:"name","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{maxlength:20,placeholder:"店铺名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"店铺公告",prop:"notice","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{maxlength:50,placeholder:"店铺公告"},model:{value:e.ruleForm.notice,callback:function(t){e.$set(e.ruleForm,"notice",t)},expression:"ruleForm.notice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"店铺LOGO","label-width":"120px"}},[s("upload-pictures",{attrs:{url:e.ruleForm.logo,note:e.uploadTishi1,listen:"listenToPic1"},on:{listenToPic1:e.sucpic1}})],1),e._v(" "),s("el-form-item",{attrs:{label:"店铺主图","label-width":"120px"}},[s("upload-pictures",{attrs:{url:e.ruleForm.broadwiseLogo,note:e.uploadTishi2,listen:"listenToPic2"},on:{listenToPic2:e.sucpic2}})],1),e._v(" "),s("el-form-item",{attrs:{label:"门店地址","label-width":"120px"}},[s("v-distpicker",{attrs:{province:e.select.province,city:e.select.city,area:e.select.area},on:{province:e.onProvince,city:e.onCity,selected:e.onSelected}})],1),e._v(" "),s("el-form-item",{attrs:{label:"","label-width":"120px",prop:"address"}},[s("el-input",{staticClass:"wid280",attrs:{placeholder:"输入详细地址"},on:{change:e.searchDetail,focus:e.searchFocus},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}}),e._v(" "),s("el-button",{staticClass:"mapbtn",attrs:{type:"primary"},on:{click:e.searchbtn}},[e._v("搜索地图")])],1),e._v(" "),s("el-form-item",{attrs:{label:"经纬坐标","label-width":"120px"}},[s("p",[e._v(e._s(e.ruleForm.latitude+","+e.ruleForm.longitude))])]),e._v(" "),s("el-form-item",{attrs:{label:"","label-width":"120px"}},[s("map-view",{ref:"MapView",attrs:{height:e.height,longitude:e.ruleForm.longitude,latitude:e.ruleForm.latitude},on:{listenToChildEvent:e.showsite,listenToSel:e.showKey}})],1),e._v(" "),s("el-form-item",{attrs:{label:"营业时间",prop:"workTime","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{maxlength:50,placeholder:"请输入营业时间"},model:{value:e.ruleForm.workTime,callback:function(t){e.$set(e.ruleForm,"workTime",t)},expression:"ruleForm.workTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"服务范围","label-width":"120px"}},[s("div",{staticClass:"exhibition"},[s("span",[e._v(e._s(e.ruleForm.cityString))])])]),e._v(" "),s("el-form-item",{attrs:{label:"主营行业","label-width":"120px"}},[s("div",{staticClass:"exhibition"},[s("span",[e._v(e._s(e.ruleForm.industryCateString))])])]),e._v(" "),s("el-form-item",{attrs:{label:"经营品牌","label-width":"120px"}},[s("div",{staticClass:"exhibition"},[s("span",[e._v(e._s(e.ruleForm.brandString))])])]),e._v(" "),s("el-form-item",{attrs:{label:"运营人姓名",prop:"contactName","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{maxlength:30,placeholder:"入驻时的姓名 "},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"运营人手机号",prop:"contactMobile","label-width":"120px"}},[s("el-input",{staticClass:"wid280",attrs:{maxlength:11,name:"username",placeholder:"入驻时的手机号"},model:{value:e.ruleForm.contactMobile,callback:function(t){e.$set(e.ruleForm,"contactMobile",t)},expression:"ruleForm.contactMobile"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"合作有效期","label-width":"120px"}},[s("div",{staticClass:"exhibition"},[e._v("\n\t\t\t"+e._s(e.time)+"\n\t\t\t")])]),e._v(" "),s("el-form-item",{attrs:{label:"","label-width":"120px"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)},i=[],a={render:r,staticRenderFns:i};t.a=a}});
//# sourceMappingURL=34.8e8d2e8a1f91b46cfcc4.js.map