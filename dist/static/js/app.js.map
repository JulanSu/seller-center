{"version":3,"sources":["webpack:///static/js/app.js","webpack:///./src/components/summernote/summernote.js","webpack:///./src/vuex/actions.js","webpack:///./src/router/asyncRouter.js","webpack:///./src/components/editer/index.js","webpack:///./src/components/FullNoLeft.vue?1d99","webpack:///src/components/Full.vue","webpack:///src/components/Header.vue","webpack:///./src/api/toolApi.js","webpack:///./src/views/Demo.vue","webpack:///src/components/loading/LoadingMask.vue","webpack:///./src/router/goodsManagementRoutes.js","webpack:///./src/router/404.js","webpack:///./src/components/loading/LoadingMask.vue","webpack:///src/components/FullNoLeft.vue","webpack:///./src/api/newAxios.js","webpack:///./src/App.vue","webpack:///./src/views/Demo.vue?f23d","webpack:///./src/main.js","webpack:///./src/components/Full.vue?5b59","webpack:///./src/components/loading/LoadingMask.vue?d8ae","webpack:///./src/vuex/getters.js","webpack:///./src/views/message/PersonMessage.vue?29c1","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///./src/router/marketingCenterRoutes.js","webpack:///./src/router/merchantEnter.js","webpack:///src/App.vue","webpack:///./src/components/loading/index.js","webpack:///./src/assets/iconfont/iconfont.js","webpack:///./src/components/Header.vue?c200","webpack:///./src/router/shopsManagementRoutes.js","webpack:///./src/App.vue?5eb8","webpack:///./src/permission.js","webpack:///./src/components/FullNoLeft.vue","webpack:///./src/views/message/PersonMessage.vue","webpack:///./src/components/Full.vue","webpack:///./src/router/home.js","webpack:///./src/router/transactionRoutes.js","webpack:///./src/components/Header.vue","webpack:///src/views/Demo.vue","webpack:///./src/components/summernote/lang/summernote-zh-CN.js","webpack:///./src/util/cookie.js","webpack:///src/views/message/PersonMessage.vue"],"names":["webpackJsonp","/7i6","module","__webpack_exports__","__webpack_require__","jQuery","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","factory","define","exports","window","$","browserVersion","isSupportAmd","isFontInstalled","fontName","testFontName","$tester","css","position","left","top","fontSize","text","appendTo","document","body","originalWidth","width","remove","userAgent","navigator","isMSIE","test","matches","exec","parseFloat","isEdge","hasCodeMirror","CodeMirror","e","isSupportTouch","MaxTouchPoints","msMaxTouchPoints","agent","isMac","appVersion","indexOf","isFF","isPhantom","isWebkit","isChrome","isSafari","jqueryVersion","fn","jquery","isW3CRangeSupport","createRange","func","eq","itemA","itemB","eq2","peq2","propName","ok","fail","not","f","apply","arguments","and","fA","fB","item","idCounter","self","a","invoke","obj","method","uniqueId","prefix","id","rect2bnd","rect","$document","scrollTop","scrollLeft","right","height","bottom","invertObject","inverted","key","hasOwnProperty","namespaceToCamel","namespace","split","map","name","substring","toUpperCase","join","debounce","wait","immediate","timeout","context","this","args","later","callNow","clearTimeout","setTimeout","list","head","array","last","length","initial","slice","tail","find","pred","idx","len","all","inArray","contains","sum","reduce","memo","v","from","collection","result","isEmpty","clusterBy","aLast","compact","aResult","push","unique","results","next","prev","NBSP_CHAR","String","fromCharCode","dom","isEditable","node","hasClass","isControlSizing","makePredByNodeName","nodeName","isText","nodeType","isElement","isVoid","isPara","isHeading","isPre","isLi","isPurePara","isTable","isData","isInline","isBodyContainer","isList","isHr","isBlockquote","isCell","isAnchor","isParaInline","ancestor","isBodyInline","isBody","isClosestSibling","nodeA","nodeB","nextSibling","previousSibling","withClosestSiblings","siblings","blankHTML","nodeLength","nodeValue","childNodes","innerHTML","paddingBlankHTML","parentNode","singleChildAncestor","listAncestor","ancestors","el","lastAncestor","filter","commonAncestor","listPrev","nodes","listNext","listDescendant","descendants","fnWalk","current","wrap","wrapperName","parent","wrapper","insertBefore","appendChild","insertAfter","preceding","appendChildNodes","aChild","each","child","isLeftEdgePoint","point","offset","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","isRightEdgeOf","isLeftEdgePointOf","isRightEdgePointOf","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","isSamePoint","pointA","pointB","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","charAt","walkPoint","startPoint","endPoint","handler","isSkipOffset","makeOffsetPath","reverse","fromOffsetPath","offsets","i","splitNode","options","isSkipPaddingBlankHTML","isNotSplitEdgePoint","splitText","childNode","clone","cloneNode","splitTree","root","splitPoint","splitRoot","container","topAncestor","pivot","create","createElement","createText","createTextNode","isRemoveChild","removeNode","removeChild","removeWhile","replace","newNode","style","cssText","isTextarea","value","$node","stripLinebreaks","val","html","isNewlineOnBlock","markup","regexTag","match","endSlash","isEndOfInlineContainer","isBlockNode","trim","posFromPlaceholder","placeholder","$placeholder","pos","outerHeight","attachEvents","events","forEach","on","detachEvents","off","isCustomStyleTag","classList","ZERO_WIDTH_NBSP_CHAR","blank","emptyPara","isBlock","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","isEmptyAnchor","Context","$note","ui","summernote","memos","modules","layoutInfo","initialize","createLayout","_initialize","hide","destroy","_destroy","removeData","removeLayout","reset","disabled","isDisabled","code","disable","buttons","extend","plugins","initializeModule","removeModule","removeMemo","triggerEvent","isActivated","undefined","codable","editable","attr","enable","callback","callbacks","trigger","shouldInitialize","ModuleClass","withoutIntialize","createInvokeHandlerAndUpdateState","event","createInvokeHandler","preventDefault","$target","target","closest","data","splits","hasSeparator","moduleName","methodName","type","isExternalAPICalled","hasInitOptions","langInfo","lang","icons","tooltip","note","first","focus","Renderer","children","render","$parent","contents","className","addClass","k","click","$container","append","renderer","isArray","editor","toolbar","editingArea","statusbar","airEditor","airEditable","buttonGroup","dropdown","items","content","template","option","dropdownButtonContents","icon","caret","dropdownCheck","checkClassName","palette","row","rowSize","colors","eventName","col","colSize","color","placement","dialog","fade","title","footer","popover","direction","hideArrow","checkbox","checked","iconClassName","tagName","button","toggleBtn","$btn","isEnable","toggleClass","toggleBtnActive","isActive","onDialogShown","$dialog","one","onDialogHidden","showDialog","modal","hideDialog","$editor","airMode","show","en-US","font","bold","italic","underline","clear","strikethrough","subscript","superscript","size","image","insert","resizeFull","resizeHalf","resizeQuarter","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","url","video","videoLink","providers","link","unlink","edit","textToDisplay","openInNewWindow","table","addRowAbove","addRowBelow","addColLeft","addColRight","delRow","delCol","delTable","hr","p","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","outdent","indent","center","justify","recent","more","background","foreground","transparent","setTransparent","resetToDefault","shortcut","shortcuts","close","textFormatting","action","paragraphFormatting","documentStyle","extraKeys","insertParagraph","undo","redo","tab","untab","removeFormat","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","formatPara","formatH1","formatH2","formatH3","formatH4","formatH5","formatH6","insertHorizontalRule","linkDialog.show","history","specialChar","select","keyMap","BACKSPACE","TAB","ENTER","SPACE","DELETE","LEFT","UP","RIGHT","DOWN","NUM0","NUM1","NUM2","NUM3","NUM4","NUM5","NUM6","NUM7","NUM8","B","E","I","J","K","L","R","S","U","V","Y","Z","SLASH","LEFTBRACKET","BACKSLASH","RIGHTBRACKET","isEdit","keyCode","isMove","nameFromCode","range","textRangeToPoint","textRange","isStart","prevContainer","parentElement","tester","createTextRange","moveToElementText","compareEndPoints","textRangeStart","curTextNode","collapse","firstChild","pointTester","duplicate","setEndPoint","textCount","cont","pointToTextRange","info","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","moveStart","WrappedRange","sc","so","ec","eo","nativeRange","w3cRange","setStart","setEnd","getPoints","getStartPoint","getEndPoint","nativeRng","selection","getSelection","rangeCount","removeAllRanges","addRange","scrollIntoView","offsetTop","Math","abs","normalize","getVisiblePoint","isLeftToRight","block","isCollapsed","includeAncestor","fullyContains","leftEdgeNodes","expand","startAncestor","endAncestor","boundaryPoints","isSameContainer","deleteContents","rng","emptyParents","makeIsOn","isOnEditable","isOnList","isOnAnchor","isOnCell","isOnData","wrapBodyInlineWithPara","inlineSiblings","concat","para","insertNode","pasteHTML","contentsContainer","toString","getWordRange","findAfter","bookmark","s","path","paraBookmark","paras","getClientRects","wrappedRange","createFromSelection","createFromNode","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNodeBefore","createFromNodeAfter","createFromBookmark","createFromParaBookmark","async","readFileAsDataURL","file","Deferred","deferred","FileReader","onload","dataURL","resolve","onerror","reject","readAsDataURL","promise","createImage","$img","detach","display","History","$editable","stack","stackOffset","makeSnapshot","emptyBookmark","applySnapshot","snapshot","rewind","recordUndo","Style","jQueryCSS","$obj","propertyNames","propertyName","call","fromNode","properties","styleInfo","parseInt","stylePara","styleNodes","expandClosestSibling","onlyPartialContains","nodesInRange","tails","elem","$cont","font-bold","queryCommandState","font-italic","font-underline","font-subscript","font-superscript","font-strikethrough","font-family","queryCommandValue","orderedTypes","isUnordered","lineHeight","toFixed","anchor","Bullet","toggleList","clustereds","wrapList","releaseList","listName","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","insertTab","tabsize","Array","nextPara","emptyAnchors","TableResultAction","where","domTable","setStartPoint","toLowerCase","console","error","_startPoint","colPos","cellIndex","rowPos","rowIndex","setVirtualTablePosition","baseRow","baseCell","isRowSpan","isColSpan","isVirtualCell","objPosition","isVirtual","_virtualTable","getActionCell","virtualTableCellObj","resultAction","virtualRowPosition","virtualColPosition","virtualTable","recoverCellIndex","newCellIndex","addCellInfoToVirtual","cell","cellHasColspan","colSpan","cellHasRowspan","rowSpan","isThisSelectedCell","rowspanNumber","attributes","rp","rowspanIndex","adjustStartPoint","colspanNumber","cp","cellspanIndex","isSelectedCell","createVirtualTable","rows","cells","getDeleteResultActionToCell","Column","SubtractSpanCount","Row","AddCell","RemoveCell","getAddResultActionToCell","SumSpanCount","Ignore","_actionCellList","getActionList","fixedRow","fixedCol","actualPosition","canContinue","rowPosition","colPosition","requestAction","Add","Delete","Table","isShift","nextCell","addRow","currentTr","trAttributes","recoverAttributes","vTable","actions","idCell","currentCell","tdAttributes","newTd","removeAttr","setAttribute","before","lastTrIndex","after","addCol","actionIndex","resultStr","attrList","specified","deleteRow","cellPos","index","virtualPosition","hasRowspan","nextRow","cloneRow","removeAttribute","deleteCol","hasColspan","createTable","colCount","rowCount","tdHTML","tds","idxCol","trHTML","trs","idxRow","$table","tableClassName","deleteTable","Editor","lastRange","typing","isDefaultPrevented","handleKeyMap","preventDefaultEditableShortCuts","changeEventName","outerWidth","maxHeight","minHeight","keys","metaKey","ctrlKey","altKey","shiftKey","keyName","afterCommand","saveRange","thenCollapse","restoreRange","saveTarget","clearTarget","restoreTarget","currentStyle","styleFromNode","beforeCommand","isPreventTrigger","commands","sCmd","execCommand","tabSize","wrapCommand","insertImage","src","param","then","$image","min","insertImages","files","filename","maximumImageFileSize","insertImagesOrCallback","onImageUpload","insertText","textNode","getSelectedText","formatBlock","onApplyCustomStyle","onFormatBlock","spans","firstSpan","font-size","hrNode","removeBogus","bogusNode","bogusCharIdx","deleteData","createLink","linkInfo","linkUrl","linkText","isNewWindow","isTextChanged","onCreateLink","anchors","startRange","endRange","getLinkInfo","$anchor","colorInfo","foreColor","backColor","insertTable","dim","dimension","floatMe","resize","resizeTo","bKeepRatio","imageSize","newRatio","y","x","ratio","removeMedia","hasFocus","is","empty","Clipboard","summernote.keydown","we","needKeydownHook","$paste","pasteByHook","opacity","pasteByEvent","decodedData","atob","Uint8Array","charCodeAt","blob","Blob","pasteContent","clipboardData","originalEvent","kind","getAsFile","Dropzone","documentEventHandlers","$dropzone","prependTo","detachDocumentEvent","substr","disableDragAndDrop","onDrop","attachDragAndDropEvent","$dropzoneMessage","onDragenter","isCodeview","hasEditorSize","add","onDragleave","removeClass","dataTransfer","types","getData","Promise","__WEBPACK_AMD_REQUIRE_ARRAY__","cm","catch","oe","Codeview","$codable","sync","save","toggle","deactivate","activate","prettifyHtml","cmEditor","fromTextArea","codemirror","tern","server","TernServer","ternServer","updateArgHints","setSize","getValue","toTextArea","isChange","Statusbar","$statusbar","disableResizeEditor","stopPropagation","editableTop","onMouseMove","clientY","minheight","max","Fullscreen","$toolbar","$window","$scrollbar","h","setsize","onResize","isFullscreen","Handle","$editingArea","summernote.mousedown","update","summernote.keyup summernote.scroll summernote.change summernote.dialog.shown","summernote.disable","summernote.codeview.toggled","$handle","disableResizeImage","posStart","clientX","isImage","$selection","w","sizingText","AutoLink","linkPattern","summernote.keyup","handleKeyup","handleKeydown","lastWordRange","keyword","wordRange","AutoSync","summernote.change","Placeholder","summernote.init summernote.change","isShow","Buttons","invertedKeyMap","representShortcut","editorMethod","addToolbarButtons","addImagePopoverButtons","addLinkPopoverButtons","addTablePopoverButtons","fontInstalledMap","fontNamesIgnoreCheck","magic","styleTags","tag","eraser","menuCheck","fontNames","fontSizes","$button","currentTarget","$dropdown","$holder","$color","$currentButton","unorderedlist","orderedlist","alignLeft","alignCenter","alignRight","alignJustify","textHeight","lineHeights","insertTableMaxSize","mousedown","tableMoveHandler","picture","minus","arrowsAlt","question","trash","rowAbove","rowBelow","colBefore","colAfter","rowRemove","colRemove","build","groups","groupIdx","groupLen","group","groupName","$group","updateCurrentStyle","updateBtnStates",".note-btn-bold",".note-btn-italic",".note-btn-underline",".note-btn-subscript",".note-btn-superscript",".note-btn-strikethrough","$item","isChecked","infos","selector","posOffset","$picker","$dimensionDisplay","$catcher","$highlighted","$unhighlighted","offsetX","posCatcher","pageX","pageY","offsetY","c","ceil","r","Toolbar","toolbarContainer","changeContainer","updateFullscreen","updateCodeview","isIncludeCodeview","LinkDialog","dialogsInBody","disableLinkTarget","dialogsFade","bindEnterKey","$input","toggleLinkBtn","$linkBtn","$linkText","$linkUrl","showLinkDialog","$openInNewWindow","handleLinkTextUpdate","handleLinkUrlUpdate","linkTargetBlank","prop","state","LinkPopover","summernote.keyup summernote.mouseup summernote.change summernote.scroll","summernote.disable summernote.dialog.shown","$popover","prepend","$content","href","ImageDialog","imageLimitation","unit","floor","log","readableSize","pow","showImageDialog","$imageInput","$imageUrl","$imageBtn","replaceWith","ImagePopover","posEditor","TablePopover","summernote.keyup summernote.scroll summernote.change","VideoDialog","createVideoNode","str","$video","showVideoDialog","$videoUrl","$videoError","$videoBtn","HelpDialog","createShortCutList","command","$row","margin-right","max-height","overflow","showHelpDialog","AirPopover","summernote.keyup summernote.mouseup summernote.scroll","summernote.disable summernote.change summernote.dialog.shown","summernote.focusout","relatedTarget","air","bnd","HintPopover","hint","hintDirection","hints","selectItem","innerHeight","moveDown","$current","$next","$nextGroup","moveUp","$prev","$prevGroup","nodeFromItem","createItemTemplates","hintIdx","searchKeyword","search","createGroup","version","clipboard","dropzone","handle","hintPopover","autoLink","autoSync","linkDialog","linkPopover","imageDialog","imagePopover","tablePopover","videoDialog","helpDialog","airPopover","styleWithSpan","textareaAutoSync","onInit","onFocus","onBlur","onEnter","onKeyup","onKeydown","onImageUploadError","mode","htmlMode","lineNumbers","pc","CTRL+Z","CTRL+Y","SHIFT+TAB","CTRL+B","CTRL+I","CTRL+U","CTRL+SHIFT+S","CTRL+BACKSLASH","CTRL+SHIFT+L","CTRL+SHIFT+E","CTRL+SHIFT+R","CTRL+SHIFT+J","CTRL+SHIFT+NUM7","CTRL+SHIFT+NUM8","CTRL+LEFTBRACKET","CTRL+RIGHTBRACKET","CTRL+NUM0","CTRL+NUM1","CTRL+NUM2","CTRL+NUM3","CTRL+NUM4","CTRL+NUM5","CTRL+NUM6","CTRL+ENTER","CTRL+K","mac","CMD+Z","CMD+SHIFT+Z","CMD+B","CMD+I","CMD+U","CMD+SHIFT+S","CMD+BACKSLASH","CMD+SHIFT+L","CMD+SHIFT+E","CMD+SHIFT+R","CMD+SHIFT+J","CMD+SHIFT+NUM7","CMD+SHIFT+NUM8","CMD+LEFTBRACKET","CMD+RIGHTBRACKET","CMD+NUM0","CMD+NUM1","CMD+NUM2","CMD+NUM3","CMD+NUM4","CMD+NUM5","CMD+NUM6","CMD+ENTER","CMD+K","align","circle","frame","pencil","square","/8vw","updateUserSelectedSku","_ref","commit","updateProdcutSkuQuantity","_ref2","0","0F4G","__WEBPACK_IMPORTED_MODULE_0__components_Full_vue__","__WEBPACK_IMPORTED_MODULE_1__goodsManagementRoutes_js__","__WEBPACK_IMPORTED_MODULE_2__shopsManagementRoutes_js__","__WEBPACK_IMPORTED_MODULE_3__transactionRoutes_js__","__WEBPACK_IMPORTED_MODULE_4__marketingCenterRoutes_js__","asyncRouterArr","component","redirect","iconCls","0FdO","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_4_jquery__","__WEBPACK_IMPORTED_MODULE_4_jquery___default","install","Vue","mounted","initOptions","$emit","onPaste","onChange","params","$el","beforeDestroy","props","default","Number","Boolean","methods","run","2SIn","4Kl9","_vm","_h","$createElement","_c","_self","staticClass","attrs","sysUserName","_v","_m","span","staticRenderFns","esExports","6RtZ","__WEBPACK_IMPORTED_MODULE_0__Header__","components","AppHeader","sysName","sysUserAvatar","created","computed","$route","Date","watch","to","logout","_this","$confirm","sessionStorage","removeItem","$router","user","getItem","JSON","parse","avatar","841c","__WEBPACK_IMPORTED_MODULE_0__api_toolApi__","total","ueseName","elXuanzhuan1","elXuanzhuan2","uid","config","page","Object","res","tal","userName","jump","handleCommand","location","apiHost","triangle","8bmq","d","toolList","productList","createAct","actLastData","changeAct","storeActList","platformActList","platformActDetail","attendAct","changeAttendAct","msgList","msgNumber","userLogout","__WEBPACK_IMPORTED_MODULE_0__newAxios__","base","get","post","9gGt","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Demo_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4567d049_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Demo_vue__","normalizeComponent","__vue_styles__","Component","AlR3","BDSo","D+Io","CateSelection","bind","Logistics","GoodsForm","UnderReview","UpShelve","DownShelve","NotPass","ToBeShelved","DraftBox","RecycleBin","routers","showChildrenName","DMbx","NotFound","Phone","GcVu","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_LoadingMask_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_fbacdfbe_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_LoadingMask_vue__","HeTw","Kriy","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","newAxios","headers","X-Requested-With","interceptors","response","use","contentpath","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_19acfbe8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__","McuT","domProps","price","keyup","inputHandle","input","$event","onafterpasteHandle","focusHandle","ref","model","ruleForm","label-width","label","rules","required","validator","validatePass","change","changeHandle","$$v","$set","expression","NHnr","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__components_editer__","__WEBPACK_IMPORTED_MODULE_3_element_ui__","__WEBPACK_IMPORTED_MODULE_3_element_ui___default","__WEBPACK_IMPORTED_MODULE_4__components_loading___","__WEBPACK_IMPORTED_MODULE_5_vue_resource__","__WEBPACK_IMPORTED_MODULE_6__vuex_store__","__WEBPACK_IMPORTED_MODULE_7_vuex__","__WEBPACK_IMPORTED_MODULE_8__router___","__WEBPACK_IMPORTED_MODULE_9__theme_index_css__","__WEBPACK_IMPORTED_MODULE_10__assets_iconfont_iconfont_css__","__WEBPACK_IMPORTED_MODULE_11__assets_iconfont_iconfont_js__","__WEBPACK_IMPORTED_MODULE_12__styles_main_css__","beforeEach","localStorage","setItem","router","store","$mount","Phe6","QquN","default-active","unique-opened","backgroundColor","textColor","activeTextColor","_l","hidden","_e","leaf","slot","class","_s","WJS9","viewBox","cx","cy","fill","WMeU","getCount","getStoreId","getUserSelectedSku","getProductSkuQuantity","count","storeId","userSelectedTheSku","productForm","skuQuantity","X1Wg","toggleDown","switchType","majorType","switchTime","createdAt","jumpNot","jumpLink","pageSize","current-page","currentPage","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","Xcu2","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Full_vue__","__WEBPACK_IMPORTED_MODULE_3__components_FullNoLeft_vue__","__WEBPACK_IMPORTED_MODULE_4__views_Demo__","__WEBPACK_IMPORTED_MODULE_5__views_message_PersonMessage_vue__","__WEBPACK_IMPORTED_MODULE_7__home_js__","__WEBPACK_IMPORTED_MODULE_8__404_js__","__WEBPACK_IMPORTED_MODULE_9__merchantEnter_js__","routes","YtJ0","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__actions__","__WEBPACK_IMPORTED_MODULE_3__getters__","userId","storeType","templateValueList","mutations","INCREMENT","DECREMENT","UPDATE_TEMPLATE_VALUE_LIST","UPDATE_USER_SELECTED_THE_SKU","set","UPDATE_PRODCUT_SKU_QUANTITY","Store","getters","ZMT0","Tool","Rule","Create","Management","Attend","a0e0","merchantEnterBefore","merchantEnter","asJK","dYPY","dmSZ","e5RB","__WEBPACK_IMPORTED_MODULE_0__LoadingMask__","loading","eGGH","f8sx","appendSvg","div","svg","svgSprite","getElementsByTagName","script","scripts","shouldInjectCss","getAttribute","__iconfont__svg__cssinject__","write","addEventListener","readyState","loadFn","removeEventListener","attachEvent","done","init","polling","documentElement","doScroll","onreadystatechange","frEi","separator","staticStyle","padding","visible-change","el-xuanzhuan1","el-xuanzhuan2","text-align","cursor","gPGO","hLst","message","brandManagement","selBrand","addBrand","createBrand","shopQualification","classifyManagement","addFenLei","findGood","allGood","bypassManagement","newAccount","roleList","newRole","accountList","shopManagement","addShop","jK5q","kTXO","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_1__router__","__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__","__WEBPACK_IMPORTED_MODULE_3__util_cookie_js__","childArray","getCookie","splice","addRoutes","muQq","n+LW","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_FullNoLeft_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_f22ba94a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_FullNoLeft_vue__","qweL","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_PersonMessage_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_22c5b8f4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_PersonMessage_vue__","rIFi","rL1v","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Full_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_635ab213_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Full_vue__","roEk","homeIndex","siVr","t7ut","Orders","OrderDetail","ServiceOrder","ServiceDetail","Coupon","Reservation","ReservationDetail","Bind","teIl","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Header_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_49344fde_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Header_vue__","xliq","dateValue","newVal","oldVal","deep","aa","say","dd","bb","onKeyPress","ob","t_value","o_value","onKeyUp","rule","yEst","__WEBPACK_IMPORTED_MODULE_0_jquery__","__WEBPACK_IMPORTED_MODULE_0_jquery___default","zh-CN","zSLJ","cookie","setCookie","encodeURIComponent","arr","arr2","decodeURIComponent","delCookie","zm4W","b","pageNum","switchUrl","subType","jumpId","add0","m","time","getFullYear","getMonth","getDate","getHours","mm","getMinutes","getSeconds"],"mappings":"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","file":"static/js/app.js","sourcesContent":["webpackJsonp([46],{\n\n/***/ \"/7i6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module, jQuery) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"cfvZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(\"GxZn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n\n\n/**\r\n * Super simple wysiwyg editor v0.8.8\r\n * http://summernote.org/\r\n *\r\n * summernote.js\r\n * Copyright 2013- Alan Hong. and other contributors\r\n * summernote may be freely distributed under the MIT license./\r\n *\r\n * Date: 2017-09-09T11:03Z\r\n */\n(function (factory) {\n  /* global define */\n  if (typeof define === 'function' && __webpack_require__(\"moA4\")) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (( false ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(module)) === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = factory(__webpack_require__(\"bXvV\"));\n  } else {\n    // Browser globals\n    factory(window.jQuery || jQuery);\n  }\n})(function ($) {\n\n  'use strict';\n\n  var isSupportAmd = typeof define === 'function' && __webpack_require__(\"moA4\");\n\n  /**\r\n   * returns whether font is installed or not.\r\n   *\r\n   * @param {String} fontName\r\n   * @return {Boolean}\r\n   */\n  var isFontInstalled = function isFontInstalled(fontName) {\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\n    var $tester = $('<div>').css({\n      position: 'absolute',\n      left: '-9999px',\n      top: '-9999px',\n      fontSize: '200px'\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\n\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\n\n    $tester.remove();\n\n    return originalWidth !== width;\n  };\n\n  var userAgent = navigator.userAgent;\n  var isMSIE = /MSIE|Trident/i.test(userAgent);\n  var browserVersion;\n  if (isMSIE) {\n    var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n    if (matches) {\n      browserVersion = parseFloat(matches[1]);\n    }\n    matches = /Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(userAgent);\n    if (matches) {\n      browserVersion = parseFloat(matches[1]);\n    }\n  }\n\n  var isEdge = /Edge\\/\\d+/.test(userAgent);\n\n  var hasCodeMirror = !!window.CodeMirror;\n  if (!hasCodeMirror && isSupportAmd) {\n    // Webpack\n    if (true) {\n      // jshint ignore:line\n      try {\n        // If CodeMirror can't be resolved, `require.resolve` will throw an\n        // exception and `hasCodeMirror` won't be set to `true`.\n        /*require.resolve*/(\"59BI\");\n        hasCodeMirror = true;\n      } catch (e) {\n        // do nothing\n      }\n    } else if (typeof require !== 'undefined') {\n      // Browserify\n      if (typeof require.resolve !== 'undefined') {\n        try {\n          // If CodeMirror can't be resolved, `require.resolve` will throw an\n          // exception and `hasCodeMirror` won't be set to `true`.\n          require.resolve('codemirror');\n          hasCodeMirror = true;\n        } catch (e) {}\n        // do nothing\n\n        // Almond/Require\n      } else if (typeof require.specified !== 'undefined') {\n        hasCodeMirror = require.specified('codemirror');\n      }\n    }\n  }\n\n  var isSupportTouch = 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n\n  /**\r\n   * @class core.agent\r\n   *\r\n   * Object which check platform and agent\r\n   *\r\n   * @singleton\r\n   * @alternateClassName agent\r\n   */\n  var agent = {\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\n    isMSIE: isMSIE,\n    isEdge: isEdge,\n    isFF: !isEdge && /firefox/i.test(userAgent),\n    isPhantom: /PhantomJS/i.test(userAgent),\n    isWebkit: !isEdge && /webkit/i.test(userAgent),\n    isChrome: !isEdge && /chrome/i.test(userAgent),\n    isSafari: !isEdge && /safari/i.test(userAgent),\n    browserVersion: browserVersion,\n    jqueryVersion: parseFloat($.fn.jquery),\n    isSupportAmd: isSupportAmd,\n    isSupportTouch: isSupportTouch,\n    hasCodeMirror: hasCodeMirror,\n    isFontInstalled: isFontInstalled,\n    isW3CRangeSupport: !!document.createRange\n  };\n\n  /**\r\n   * @class core.func\r\n   *\r\n   * func utils (for high-order func's arg)\r\n   *\r\n   * @singleton\r\n   * @alternateClassName func\r\n   */\n  var func = function () {\n    var eq = function eq(itemA) {\n      return function (itemB) {\n        return itemA === itemB;\n      };\n    };\n\n    var eq2 = function eq2(itemA, itemB) {\n      return itemA === itemB;\n    };\n\n    var peq2 = function peq2(propName) {\n      return function (itemA, itemB) {\n        return itemA[propName] === itemB[propName];\n      };\n    };\n\n    var ok = function ok() {\n      return true;\n    };\n\n    var fail = function fail() {\n      return false;\n    };\n\n    var not = function not(f) {\n      return function () {\n        return !f.apply(f, arguments);\n      };\n    };\n\n    var and = function and(fA, fB) {\n      return function (item) {\n        return fA(item) && fB(item);\n      };\n    };\n\n    var self = function self(a) {\n      return a;\n    };\n\n    var invoke = function invoke(obj, method) {\n      return function () {\n        return obj[method].apply(obj, arguments);\n      };\n    };\n\n    var idCounter = 0;\n\n    /**\r\n     * generate a globally-unique id\r\n     *\r\n     * @param {String} [prefix]\r\n     */\n    var uniqueId = function uniqueId(prefix) {\n      var id = ++idCounter + '';\n      return prefix ? prefix + id : id;\n    };\n\n    /**\r\n     * returns bnd (bounds) from rect\r\n     *\r\n     * - IE Compatibility Issue: http://goo.gl/sRLOAo\r\n     * - Scroll Issue: http://goo.gl/sNjUc\r\n     *\r\n     * @param {Rect} rect\r\n     * @return {Object} bounds\r\n     * @return {Number} bounds.top\r\n     * @return {Number} bounds.left\r\n     * @return {Number} bounds.width\r\n     * @return {Number} bounds.height\r\n     */\n    var rect2bnd = function rect2bnd(rect) {\n      var $document = $(document);\n      return {\n        top: rect.top + $document.scrollTop(),\n        left: rect.left + $document.scrollLeft(),\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n      };\n    };\n\n    /**\r\n     * returns a copy of the object where the keys have become the values and the values the keys.\r\n     * @param {Object} obj\r\n     * @return {Object}\r\n     */\n    var invertObject = function invertObject(obj) {\n      var inverted = {};\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          inverted[obj[key]] = key;\n        }\n      }\n      return inverted;\n    };\n\n    /**\r\n     * @param {String} namespace\r\n     * @param {String} [prefix]\r\n     * @return {String}\r\n     */\n    var namespaceToCamel = function namespaceToCamel(namespace, prefix) {\n      prefix = prefix || '';\n      return prefix + namespace.split('.').map(function (name) {\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\n      }).join('');\n    };\n\n    /**\r\n     * Returns a function, that, as long as it continues to be invoked, will not\r\n     * be triggered. The function will be called after it stops being called for\r\n     * N milliseconds. If `immediate` is passed, trigger the function on the\r\n     * leading edge, instead of the trailing.\r\n     * @param {Function} func\r\n     * @param {Number} wait\r\n     * @param {Boolean} immediate\r\n     * @return {Function}\r\n     */\n    var debounce = function debounce(func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this,\n            args = arguments;\n        var later = function later() {\n          timeout = null;\n          if (!immediate) {\n            func.apply(context, args);\n          }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n          func.apply(context, args);\n        }\n      };\n    };\n\n    return {\n      eq: eq,\n      eq2: eq2,\n      peq2: peq2,\n      ok: ok,\n      fail: fail,\n      self: self,\n      not: not,\n      and: and,\n      invoke: invoke,\n      uniqueId: uniqueId,\n      rect2bnd: rect2bnd,\n      invertObject: invertObject,\n      namespaceToCamel: namespaceToCamel,\n      debounce: debounce\n    };\n  }();\n\n  /**\r\n   * @class core.list\r\n   *\r\n   * list utils\r\n   *\r\n   * @singleton\r\n   * @alternateClassName list\r\n   */\n  var list = function () {\n    /**\r\n     * returns the first item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\n    var head = function head(array) {\n      return array[0];\n    };\n\n    /**\r\n     * returns the last item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\n    var last = function last(array) {\n      return array[array.length - 1];\n    };\n\n    /**\r\n     * returns everything but the last entry of the array.\r\n     *\r\n     * @param {Array} array\r\n     */\n    var initial = function initial(array) {\n      return array.slice(0, array.length - 1);\n    };\n\n    /**\r\n     * returns the rest of the items in an array.\r\n     *\r\n     * @param {Array} array\r\n     */\n    var tail = function tail(array) {\n      return array.slice(1);\n    };\n\n    /**\r\n     * returns item of array\r\n     */\n    var find = function find(array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n        var item = array[idx];\n        if (pred(item)) {\n          return item;\n        }\n      }\n    };\n\n    /**\r\n     * returns true if all of the values in the array pass the predicate truth test.\r\n     */\n    var all = function all(array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n        if (!pred(array[idx])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /**\r\n     * returns index of item\r\n     */\n    var indexOf = function indexOf(array, item) {\n      return $.inArray(item, array);\n    };\n\n    /**\r\n     * returns true if the value is present in the list.\r\n     */\n    var contains = function contains(array, item) {\n      return indexOf(array, item) !== -1;\n    };\n\n    /**\r\n     * get sum from a list\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - iterator\r\n     */\n    var sum = function sum(array, fn) {\n      fn = fn || func.self;\n      return array.reduce(function (memo, v) {\n        return memo + fn(v);\n      }, 0);\n    };\n\n    /**\r\n     * returns a copy of the collection with array type.\r\n     * @param {Collection} collection - collection eg) node.childNodes, ...\r\n     */\n    var from = function from(collection) {\n      var result = [],\n          idx = -1,\n          length = collection.length;\n      while (++idx < length) {\n        result[idx] = collection[idx];\n      }\n      return result;\n    };\n\n    /**\r\n     * returns whether list is empty or not\r\n     */\n    var isEmpty = function isEmpty(array) {\n      return !array || !array.length;\n    };\n\n    /**\r\n     * cluster elements by predicate function.\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     * @param {Array[]}\r\n     */\n    var clusterBy = function clusterBy(array, fn) {\n      if (!array.length) {\n        return [];\n      }\n      var aTail = tail(array);\n      return aTail.reduce(function (memo, v) {\n        var aLast = last(memo);\n        if (fn(last(aLast), v)) {\n          aLast[aLast.length] = v;\n        } else {\n          memo[memo.length] = [v];\n        }\n        return memo;\n      }, [[head(array)]]);\n    };\n\n    /**\r\n     * returns a copy of the array with all false values removed\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     */\n    var compact = function compact(array) {\n      var aResult = [];\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n        if (array[idx]) {\n          aResult.push(array[idx]);\n        }\n      }\n      return aResult;\n    };\n\n    /**\r\n     * produces a duplicate-free version of the array\r\n     *\r\n     * @param {Array} array\r\n     */\n    var unique = function unique(array) {\n      var results = [];\n\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n        if (!contains(results, array[idx])) {\n          results.push(array[idx]);\n        }\n      }\n\n      return results;\n    };\n\n    /**\r\n     * returns next item.\r\n     * @param {Array} array\r\n     */\n    var next = function next(array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) {\n        return null;\n      }\n\n      return array[idx + 1];\n    };\n\n    /**\r\n     * returns prev item.\r\n     * @param {Array} array\r\n     */\n    var prev = function prev(array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) {\n        return null;\n      }\n\n      return array[idx - 1];\n    };\n\n    return { head: head, last: last, initial: initial, tail: tail,\n      prev: prev, next: next, find: find, contains: contains,\n      all: all, sum: sum, from: from, isEmpty: isEmpty,\n      clusterBy: clusterBy, compact: compact, unique: unique };\n  }();\n\n  var NBSP_CHAR = String.fromCharCode(160);\n  var ZERO_WIDTH_NBSP_CHAR = '\\uFEFF';\n\n  /**\r\n   * @class core.dom\r\n   *\r\n   * Dom functions\r\n   *\r\n   * @singleton\r\n   * @alternateClassName dom\r\n   */\n  var dom = function () {\n    /**\r\n     * @method isEditable\r\n     *\r\n     * returns whether node is `note-editable` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\n    var isEditable = function isEditable(node) {\n      return node && $(node).hasClass('note-editable');\n    };\n\n    /**\r\n     * @method isControlSizing\r\n     *\r\n     * returns whether node is `note-control-sizing` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\n    var isControlSizing = function isControlSizing(node) {\n      return node && $(node).hasClass('note-control-sizing');\n    };\n\n    /**\r\n     * @method makePredByNodeName\r\n     *\r\n     * returns predicate which judge whether nodeName is same\r\n     *\r\n     * @param {String} nodeName\r\n     * @return {Function}\r\n     */\n    var makePredByNodeName = function makePredByNodeName(nodeName) {\n      nodeName = nodeName.toUpperCase();\n      return function (node) {\n        return node && node.nodeName.toUpperCase() === nodeName;\n      };\n    };\n\n    /**\r\n     * @method isText\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is text(3)\r\n     */\n    var isText = function isText(node) {\n      return node && node.nodeType === 3;\n    };\n\n    /**\r\n     * @method isElement\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is element(1)\r\n     */\n    var isElement = function isElement(node) {\n      return node && node.nodeType === 1;\n    };\n\n    /**\r\n     * ex) br, col, embed, hr, img, input, ...\r\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\r\n     */\n    var isVoid = function isVoid(node) {\n      return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPara = function isPara(node) {\n      if (isEditable(node)) {\n        return false;\n      }\n\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isHeading = function isHeading(node) {\n      return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPre = makePredByNodeName('PRE');\n\n    var isLi = makePredByNodeName('LI');\n\n    var isPurePara = function isPurePara(node) {\n      return isPara(node) && !isLi(node);\n    };\n\n    var isTable = makePredByNodeName('TABLE');\n\n    var isData = makePredByNodeName('DATA');\n\n    var isInline = function isInline(node) {\n      return !isBodyContainer(node) && !isList(node) && !isHr(node) && !isPara(node) && !isTable(node) && !isBlockquote(node) && !isData(node);\n    };\n\n    var isList = function isList(node) {\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n    };\n\n    var isHr = makePredByNodeName('HR');\n\n    var isCell = function isCell(node) {\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\n    };\n\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\n    var isBodyContainer = function isBodyContainer(node) {\n      return isCell(node) || isBlockquote(node) || isEditable(node);\n    };\n\n    var isAnchor = makePredByNodeName('A');\n\n    var isParaInline = function isParaInline(node) {\n      return isInline(node) && !!ancestor(node, isPara);\n    };\n\n    var isBodyInline = function isBodyInline(node) {\n      return isInline(node) && !ancestor(node, isPara);\n    };\n\n    var isBody = makePredByNodeName('BODY');\n\n    /**\r\n     * returns whether nodeB is closest sibling of nodeA\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     * @return {Boolean}\r\n     */\n    var isClosestSibling = function isClosestSibling(nodeA, nodeB) {\n      return nodeA.nextSibling === nodeB || nodeA.previousSibling === nodeB;\n    };\n\n    /**\r\n     * returns array of closest siblings with node\r\n     *\r\n     * @param {Node} node\r\n     * @param {function} [pred] - predicate function\r\n     * @return {Node[]}\r\n     */\n    var withClosestSiblings = function withClosestSiblings(node, pred) {\n      pred = pred || func.ok;\n\n      var siblings = [];\n      if (node.previousSibling && pred(node.previousSibling)) {\n        siblings.push(node.previousSibling);\n      }\n      siblings.push(node);\n      if (node.nextSibling && pred(node.nextSibling)) {\n        siblings.push(node.nextSibling);\n      }\n      return siblings;\n    };\n\n    /**\r\n     * blank HTML for cursor position\r\n     * - [workaround] old IE only works with &nbsp;\r\n     * - [workaround] IE11 and other browser works with bogus br\r\n     */\n    var blankHTML = agent.isMSIE && agent.browserVersion < 11 ? '&nbsp;' : '<br>';\n\n    /**\r\n     * @method nodeLength\r\n     *\r\n     * returns #text's text size or element's childNodes size\r\n     *\r\n     * @param {Node} node\r\n     */\n    var nodeLength = function nodeLength(node) {\n      if (isText(node)) {\n        return node.nodeValue.length;\n      }\n\n      if (node) {\n        return node.childNodes.length;\n      }\n\n      return 0;\n    };\n\n    /**\r\n     * returns whether node is empty or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\n    var isEmpty = function isEmpty(node) {\n      var len = nodeLength(node);\n\n      if (len === 0) {\n        return true;\n      } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML) {\n        // ex) <p><br></p>, <span><br></span>\n        return true;\n      } else if (list.all(node.childNodes, isText) && node.innerHTML === '') {\n        // ex) <p></p>, <span></span>\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\r\n     * padding blankHTML if node is empty (for cursor position)\r\n     */\n    var paddingBlankHTML = function paddingBlankHTML(node) {\n      if (!isVoid(node) && !nodeLength(node)) {\n        node.innerHTML = blankHTML;\n      }\n    };\n\n    /**\r\n     * find nearest ancestor predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\n    var ancestor = function ancestor(node, pred) {\n      while (node) {\n        if (pred(node)) {\n          return node;\n        }\n        if (isEditable(node)) {\n          break;\n        }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\r\n     * find nearest ancestor only single child blood line and predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\n    var singleChildAncestor = function singleChildAncestor(node, pred) {\n      node = node.parentNode;\n\n      while (node) {\n        if (nodeLength(node) !== 1) {\n          break;\n        }\n        if (pred(node)) {\n          return node;\n        }\n        if (isEditable(node)) {\n          break;\n        }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\r\n     * returns new array of ancestor nodes (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\n    var listAncestor = function listAncestor(node, pred) {\n      pred = pred || func.fail;\n\n      var ancestors = [];\n      ancestor(node, function (el) {\n        if (!isEditable(el)) {\n          ancestors.push(el);\n        }\n\n        return pred(el);\n      });\n      return ancestors;\n    };\n\n    /**\r\n     * find farthest ancestor predicate hit\r\n     */\n    var lastAncestor = function lastAncestor(node, pred) {\n      var ancestors = listAncestor(node);\n      return list.last(ancestors.filter(pred));\n    };\n\n    /**\r\n     * returns common ancestor node between two nodes.\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     */\n    var commonAncestor = function commonAncestor(nodeA, nodeB) {\n      var ancestors = listAncestor(nodeA);\n      for (var n = nodeB; n; n = n.parentNode) {\n        if ($.inArray(n, ancestors) > -1) {\n          return n;\n        }\n      }\n      return null; // difference document area\n    };\n\n    /**\r\n     * listing all previous siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\n    var listPrev = function listPrev(node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) {\n          break;\n        }\n        nodes.push(node);\n        node = node.previousSibling;\n      }\n      return nodes;\n    };\n\n    /**\r\n     * listing next siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\n    var listNext = function listNext(node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) {\n          break;\n        }\n        nodes.push(node);\n        node = node.nextSibling;\n      }\n      return nodes;\n    };\n\n    /**\r\n     * listing descendant nodes\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\n    var listDescendant = function listDescendant(node, pred) {\n      var descendants = [];\n      pred = pred || func.ok;\n\n      // start DFS(depth first search) with node\n      (function fnWalk(current) {\n        if (node !== current && pred(current)) {\n          descendants.push(current);\n        }\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\n          fnWalk(current.childNodes[idx]);\n        }\n      })(node);\n\n      return descendants;\n    };\n\n    /**\r\n     * wrap node with new tag.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} tagName of wrapper\r\n     * @return {Node} - wrapper\r\n     */\n    var wrap = function wrap(node, wrapperName) {\n      var parent = node.parentNode;\n      var wrapper = $('<' + wrapperName + '>')[0];\n\n      parent.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n\n      return wrapper;\n    };\n\n    /**\r\n     * insert node after preceding\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} preceding - predicate function\r\n     */\n    var insertAfter = function insertAfter(node, preceding) {\n      var next = preceding.nextSibling,\n          parent = preceding.parentNode;\n      if (next) {\n        parent.insertBefore(node, next);\n      } else {\n        parent.appendChild(node);\n      }\n      return node;\n    };\n\n    /**\r\n     * append elements.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Collection} aChild\r\n     */\n    var appendChildNodes = function appendChildNodes(node, aChild) {\n      $.each(aChild, function (idx, child) {\n        node.appendChild(child);\n      });\n      return node;\n    };\n\n    /**\r\n     * returns whether boundaryPoint is left edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\n    var isLeftEdgePoint = function isLeftEdgePoint(point) {\n      return point.offset === 0;\n    };\n\n    /**\r\n     * returns whether boundaryPoint is right edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\n    var isRightEdgePoint = function isRightEdgePoint(point) {\n      return point.offset === nodeLength(point.node);\n    };\n\n    /**\r\n     * returns whether boundaryPoint is edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\n    var isEdgePoint = function isEdgePoint(point) {\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\n    };\n\n    /**\r\n     * returns whether node is left edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\n    var isLeftEdgeOf = function isLeftEdgeOf(node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== 0) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\r\n     * returns whether node is right edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\n    var isRightEdgeOf = function isRightEdgeOf(node, ancestor) {\n      if (!ancestor) {\n        return false;\n      }\n      while (node && node !== ancestor) {\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\r\n     * returns whether point is left edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\n    var isLeftEdgePointOf = function isLeftEdgePointOf(point, ancestor) {\n      return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\n    };\n\n    /**\r\n     * returns whether point is right edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\n    var isRightEdgePointOf = function isRightEdgePointOf(point, ancestor) {\n      return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\n    };\n\n    /**\r\n     * returns offset from parent.\r\n     *\r\n     * @param {Node} node\r\n     */\n    var position = function position(node) {\n      var offset = 0;\n      while (node = node.previousSibling) {\n        offset += 1;\n      }\n      return offset;\n    };\n\n    var hasChildren = function hasChildren(node) {\n      return !!(node && node.childNodes && node.childNodes.length);\n    };\n\n    /**\r\n     * returns previous boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\n    var prevPoint = function prevPoint(point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (point.offset === 0) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node);\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset - 1];\n        offset = nodeLength(node);\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\r\n     * returns next boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\n    var nextPoint = function nextPoint(point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (nodeLength(point.node) === point.offset) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node) + 1;\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset];\n        offset = 0;\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\r\n     * returns whether pointA and pointB is same or not.\r\n     *\r\n     * @param {BoundaryPoint} pointA\r\n     * @param {BoundaryPoint} pointB\r\n     * @return {Boolean}\r\n     */\n    var isSamePoint = function isSamePoint(pointA, pointB) {\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\n    };\n\n    /**\r\n     * returns whether point is visible (can set cursor) or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\n    var isVisiblePoint = function isVisiblePoint(point) {\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\n        return true;\n      }\n\n      var leftNode = point.node.childNodes[point.offset - 1];\n      var rightNode = point.node.childNodes[point.offset];\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\r\n     * @method prevPointUtil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\n    var prevPointUntil = function prevPointUntil(point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = prevPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\r\n     * @method nextPointUntil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\n    var nextPointUntil = function nextPointUntil(point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = nextPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\r\n     * returns whether point has character or not.\r\n     *\r\n     * @param {Point} point\r\n     * @return {Boolean}\r\n     */\n    var isCharPoint = function isCharPoint(point) {\n      if (!isText(point.node)) {\n        return false;\n      }\n\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\n      return ch && ch !== ' ' && ch !== NBSP_CHAR;\n    };\n\n    /**\r\n     * @method walkPoint\r\n     *\r\n     * @param {BoundaryPoint} startPoint\r\n     * @param {BoundaryPoint} endPoint\r\n     * @param {Function} handler\r\n     * @param {Boolean} isSkipInnerOffset\r\n     */\n    var walkPoint = function walkPoint(startPoint, endPoint, handler, isSkipInnerOffset) {\n      var point = startPoint;\n\n      while (point) {\n        handler(point);\n\n        if (isSamePoint(point, endPoint)) {\n          break;\n        }\n\n        var isSkipOffset = isSkipInnerOffset && startPoint.node !== point.node && endPoint.node !== point.node;\n        point = nextPoint(point, isSkipOffset);\n      }\n    };\n\n    /**\r\n     * @method makeOffsetPath\r\n     *\r\n     * return offsetPath(array of offset) from ancestor\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {Node} node\r\n     */\n    var makeOffsetPath = function makeOffsetPath(ancestor, node) {\n      var ancestors = listAncestor(node, func.eq(ancestor));\n      return ancestors.map(position).reverse();\n    };\n\n    /**\r\n     * @method fromOffsetPath\r\n     *\r\n     * return element from offsetPath(array of offset)\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {array} offsets - offsetPath\r\n     */\n    var fromOffsetPath = function fromOffsetPath(ancestor, offsets) {\n      var current = ancestor;\n      for (var i = 0, len = offsets.length; i < len; i++) {\n        if (current.childNodes.length <= offsets[i]) {\n          current = current.childNodes[current.childNodes.length - 1];\n        } else {\n          current = current.childNodes[offsets[i]];\n        }\n      }\n      return current;\n    };\n\n    /**\r\n     * @method splitNode\r\n     *\r\n     * split element or #text\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\n    var splitNode = function splitNode(point, options) {\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n\n      // edge case\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\n        if (isLeftEdgePoint(point)) {\n          return point.node;\n        } else if (isRightEdgePoint(point)) {\n          return point.node.nextSibling;\n        }\n      }\n\n      // split #text\n      if (isText(point.node)) {\n        return point.node.splitText(point.offset);\n      } else {\n        var childNode = point.node.childNodes[point.offset];\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\n        appendChildNodes(clone, listNext(childNode));\n\n        if (!isSkipPaddingBlankHTML) {\n          paddingBlankHTML(point.node);\n          paddingBlankHTML(clone);\n        }\n\n        return clone;\n      }\n    };\n\n    /**\r\n     * @method splitTree\r\n     *\r\n     * split tree by point\r\n     *\r\n     * @param {Node} root - split root\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\n    var splitTree = function splitTree(root, point, options) {\n      // ex) [#text, <span>, <p>]\n      var ancestors = listAncestor(point.node, func.eq(root));\n\n      if (!ancestors.length) {\n        return null;\n      } else if (ancestors.length === 1) {\n        return splitNode(point, options);\n      }\n\n      return ancestors.reduce(function (node, parent) {\n        if (node === point.node) {\n          node = splitNode(point, options);\n        }\n\n        return splitNode({\n          node: parent,\n          offset: node ? dom.position(node) : nodeLength(parent)\n        }, options);\n      });\n    };\n\n    /**\r\n     * split point\r\n     *\r\n     * @param {Point} point\r\n     * @param {Boolean} isInline\r\n     * @return {Object}\r\n     */\n    var splitPoint = function splitPoint(point, isInline) {\n      // find splitRoot, container\n      //  - inline: splitRoot is a child of paragraph\n      //  - block: splitRoot is a child of bodyContainer\n      var pred = isInline ? isPara : isBodyContainer;\n      var ancestors = listAncestor(point.node, pred);\n      var topAncestor = list.last(ancestors) || point.node;\n\n      var splitRoot, container;\n      if (pred(topAncestor)) {\n        splitRoot = ancestors[ancestors.length - 2];\n        container = topAncestor;\n      } else {\n        splitRoot = topAncestor;\n        container = splitRoot.parentNode;\n      }\n\n      // if splitRoot is exists, split with splitTree\n      var pivot = splitRoot && splitTree(splitRoot, point, {\n        isSkipPaddingBlankHTML: isInline,\n        isNotSplitEdgePoint: isInline\n      });\n\n      // if container is point.node, find pivot with point.offset\n      if (!pivot && container === point.node) {\n        pivot = point.node.childNodes[point.offset];\n      }\n\n      return {\n        rightNode: pivot,\n        container: container\n      };\n    };\n\n    var create = function create(nodeName) {\n      return document.createElement(nodeName);\n    };\n\n    var createText = function createText(text) {\n      return document.createTextNode(text);\n    };\n\n    /**\r\n     * @method remove\r\n     *\r\n     * remove node, (isRemoveChild: remove child or not)\r\n     *\r\n     * @param {Node} node\r\n     * @param {Boolean} isRemoveChild\r\n     */\n    var remove = function remove(node, isRemoveChild) {\n      if (!node || !node.parentNode) {\n        return;\n      }\n      if (node.removeNode) {\n        return node.removeNode(isRemoveChild);\n      }\n\n      var parent = node.parentNode;\n      if (!isRemoveChild) {\n        var nodes = [];\n        var i, len;\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\n          nodes.push(node.childNodes[i]);\n        }\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n          parent.insertBefore(nodes[i], node);\n        }\n      }\n\n      parent.removeChild(node);\n    };\n\n    /**\r\n     * @method removeWhile\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred\r\n     */\n    var removeWhile = function removeWhile(node, pred) {\n      while (node) {\n        if (isEditable(node) || !pred(node)) {\n          break;\n        }\n\n        var parent = node.parentNode;\n        remove(node);\n        node = parent;\n      }\n    };\n\n    /**\r\n     * @method replace\r\n     *\r\n     * replace node with provided nodeName\r\n     *\r\n     * @param {Node} node\r\n     * @param {String} nodeName\r\n     * @return {Node} - new node\r\n     */\n    var replace = function replace(node, nodeName) {\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\n        return node;\n      }\n\n      var newNode = create(nodeName);\n\n      if (node.style.cssText) {\n        newNode.style.cssText = node.style.cssText;\n      }\n\n      appendChildNodes(newNode, list.from(node.childNodes));\n      insertAfter(newNode, node);\n      remove(node);\n\n      return newNode;\n    };\n\n    var isTextarea = makePredByNodeName('TEXTAREA');\n\n    /**\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [stripLinebreaks] - default: false\r\n     */\n    var value = function value($node, stripLinebreaks) {\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\n      if (stripLinebreaks) {\n        return val.replace(/[\\n\\r]/g, '');\n      }\n      return val;\n    };\n\n    /**\r\n     * @method html\r\n     *\r\n     * get the HTML contents of node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [isNewlineOnBlock]\r\n     */\n    var html = function html($node, isNewlineOnBlock) {\n      var markup = value($node);\n\n      if (isNewlineOnBlock) {\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\n          name = name.toUpperCase();\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) && !!endSlash;\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n          return match + (isEndOfInlineContainer || isBlockNode ? '\\n' : '');\n        });\n        markup = $.trim(markup);\n      }\n\n      return markup;\n    };\n\n    var posFromPlaceholder = function posFromPlaceholder(placeholder) {\n      var $placeholder = $(placeholder);\n      var pos = $placeholder.offset();\n      var height = $placeholder.outerHeight(true); // include margin\n\n      return {\n        left: pos.left,\n        top: pos.top + height\n      };\n    };\n\n    var attachEvents = function attachEvents($node, events) {\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(events).forEach(function (key) {\n        $node.on(key, events[key]);\n      });\n    };\n\n    var detachEvents = function detachEvents($node, events) {\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(events).forEach(function (key) {\n        $node.off(key, events[key]);\n      });\n    };\n\n    /**\r\n     * @method isCustomStyleTag\r\n     *\r\n     * assert if a node contains a \"note-styletag\" class,\r\n     * which implies that's a custom-made style tag node\r\n     *\r\n     * @param {Node} an HTML DOM node\r\n     */\n    var isCustomStyleTag = function isCustomStyleTag(node) {\n      return node && !dom.isText(node) && list.contains(node.classList, 'note-styletag');\n    };\n\n    return {\n      /** @property {String} NBSP_CHAR */\n      NBSP_CHAR: NBSP_CHAR,\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n      /** @property {String} blank */\n      blank: blankHTML,\n      /** @property {String} emptyPara */\n      emptyPara: '<p>' + blankHTML + '</p>',\n      makePredByNodeName: makePredByNodeName,\n      isEditable: isEditable,\n      isControlSizing: isControlSizing,\n      isText: isText,\n      isElement: isElement,\n      isVoid: isVoid,\n      isPara: isPara,\n      isPurePara: isPurePara,\n      isHeading: isHeading,\n      isInline: isInline,\n      isBlock: func.not(isInline),\n      isBodyInline: isBodyInline,\n      isBody: isBody,\n      isParaInline: isParaInline,\n      isPre: isPre,\n      isList: isList,\n      isTable: isTable,\n      isData: isData,\n      isCell: isCell,\n      isBlockquote: isBlockquote,\n      isBodyContainer: isBodyContainer,\n      isAnchor: isAnchor,\n      isDiv: makePredByNodeName('DIV'),\n      isLi: isLi,\n      isBR: makePredByNodeName('BR'),\n      isSpan: makePredByNodeName('SPAN'),\n      isB: makePredByNodeName('B'),\n      isU: makePredByNodeName('U'),\n      isS: makePredByNodeName('S'),\n      isI: makePredByNodeName('I'),\n      isImg: makePredByNodeName('IMG'),\n      isTextarea: isTextarea,\n      isEmpty: isEmpty,\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\n      isClosestSibling: isClosestSibling,\n      withClosestSiblings: withClosestSiblings,\n      nodeLength: nodeLength,\n      isLeftEdgePoint: isLeftEdgePoint,\n      isRightEdgePoint: isRightEdgePoint,\n      isEdgePoint: isEdgePoint,\n      isLeftEdgeOf: isLeftEdgeOf,\n      isRightEdgeOf: isRightEdgeOf,\n      isLeftEdgePointOf: isLeftEdgePointOf,\n      isRightEdgePointOf: isRightEdgePointOf,\n      prevPoint: prevPoint,\n      nextPoint: nextPoint,\n      isSamePoint: isSamePoint,\n      isVisiblePoint: isVisiblePoint,\n      prevPointUntil: prevPointUntil,\n      nextPointUntil: nextPointUntil,\n      isCharPoint: isCharPoint,\n      walkPoint: walkPoint,\n      ancestor: ancestor,\n      singleChildAncestor: singleChildAncestor,\n      listAncestor: listAncestor,\n      lastAncestor: lastAncestor,\n      listNext: listNext,\n      listPrev: listPrev,\n      listDescendant: listDescendant,\n      commonAncestor: commonAncestor,\n      wrap: wrap,\n      insertAfter: insertAfter,\n      appendChildNodes: appendChildNodes,\n      position: position,\n      hasChildren: hasChildren,\n      makeOffsetPath: makeOffsetPath,\n      fromOffsetPath: fromOffsetPath,\n      splitTree: splitTree,\n      splitPoint: splitPoint,\n      create: create,\n      createText: createText,\n      remove: remove,\n      removeWhile: removeWhile,\n      replace: replace,\n      html: html,\n      value: value,\n      posFromPlaceholder: posFromPlaceholder,\n      attachEvents: attachEvents,\n      detachEvents: detachEvents,\n      isCustomStyleTag: isCustomStyleTag\n    };\n  }();\n\n  /**\r\n   * @param {jQuery} $note\r\n   * @param {Object} options\r\n   * @return {Context}\r\n   */\n  var Context = function Context($note, options) {\n    var self = this;\n\n    var ui = $.summernote.ui;\n    this.memos = {};\n    this.modules = {};\n    this.layoutInfo = {};\n    this.options = options;\n\n    /**\r\n     * create layout and initialize modules and other resources\r\n     */\n    this.initialize = function () {\n      this.layoutInfo = ui.createLayout($note, options);\n      this._initialize();\n      $note.hide();\n      return this;\n    };\n\n    /**\r\n     * destroy modules and other resources and remove layout\r\n     */\n    this.destroy = function () {\n      this._destroy();\n      $note.removeData('summernote');\n      ui.removeLayout($note, this.layoutInfo);\n    };\n\n    /**\r\n     * destory modules and other resources and initialize it again\r\n     */\n    this.reset = function () {\n      var disabled = self.isDisabled();\n      this.code(dom.emptyPara);\n      this._destroy();\n      this._initialize();\n\n      if (disabled) {\n        self.disable();\n      }\n    };\n\n    this._initialize = function () {\n      // add optional buttons\n      var buttons = $.extend({}, this.options.buttons);\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(buttons).forEach(function (key) {\n        self.memo('button.' + key, buttons[key]);\n      });\n\n      var modules = $.extend({}, this.options.modules, $.summernote.plugins || {});\n\n      // add and initialize modules\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(modules).forEach(function (key) {\n        self.module(key, modules[key], true);\n      });\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.modules).forEach(function (key) {\n        self.initializeModule(key);\n      });\n    };\n\n    this._destroy = function () {\n      // destroy modules with reversed order\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.modules).reverse().forEach(function (key) {\n        self.removeModule(key);\n      });\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.memos).forEach(function (key) {\n        self.removeMemo(key);\n      });\n      // trigger custom onDestroy callback\n      this.triggerEvent('destroy', this);\n    };\n\n    this.code = function (html) {\n      var isActivated = this.invoke('codeview.isActivated');\n\n      if (html === undefined) {\n        this.invoke('codeview.sync');\n        return isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n      } else {\n        if (isActivated) {\n          this.layoutInfo.codable.val(html);\n        } else {\n          this.layoutInfo.editable.html(html);\n        }\n        $note.val(html);\n        this.triggerEvent('change', html);\n      }\n    };\n\n    this.isDisabled = function () {\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\n    };\n\n    this.enable = function () {\n      this.layoutInfo.editable.attr('contenteditable', true);\n      this.invoke('toolbar.activate', true);\n      this.triggerEvent('disable', false);\n    };\n\n    this.disable = function () {\n      // close codeview if codeview is opend\n      if (this.invoke('codeview.isActivated')) {\n        this.invoke('codeview.deactivate');\n      }\n      this.layoutInfo.editable.attr('contenteditable', false);\n      this.invoke('toolbar.deactivate', true);\n\n      this.triggerEvent('disable', true);\n    };\n\n    this.triggerEvent = function () {\n      var namespace = list.head(arguments);\n      var args = list.tail(list.from(arguments));\n\n      var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\n      if (callback) {\n        callback.apply($note[0], args);\n      }\n      $note.trigger('summernote.' + namespace, args);\n    };\n\n    this.initializeModule = function (key) {\n      var module = this.modules[key];\n      module.shouldInitialize = module.shouldInitialize || func.ok;\n      if (!module.shouldInitialize()) {\n        return;\n      }\n\n      // initialize module\n      if (module.initialize) {\n        module.initialize();\n      }\n\n      // attach events\n      if (module.events) {\n        dom.attachEvents($note, module.events);\n      }\n    };\n\n    this.module = function (key, ModuleClass, withoutIntialize) {\n      if (arguments.length === 1) {\n        return this.modules[key];\n      }\n\n      this.modules[key] = new ModuleClass(this);\n\n      if (!withoutIntialize) {\n        this.initializeModule(key);\n      }\n    };\n\n    this.removeModule = function (key) {\n      var module = this.modules[key];\n      if (module.shouldInitialize()) {\n        if (module.events) {\n          dom.detachEvents($note, module.events);\n        }\n\n        if (module.destroy) {\n          module.destroy();\n        }\n      }\n\n      delete this.modules[key];\n    };\n\n    this.memo = function (key, obj) {\n      if (arguments.length === 1) {\n        return this.memos[key];\n      }\n      this.memos[key] = obj;\n    };\n\n    this.removeMemo = function (key) {\n      if (this.memos[key] && this.memos[key].destroy) {\n        this.memos[key].destroy();\n      }\n\n      delete this.memos[key];\n    };\n\n    /**\r\n     *Some buttons need to change their visual style immediately once they get pressed\r\n     */\n    this.createInvokeHandlerAndUpdateState = function (namespace, value) {\n      return function (event) {\n        self.createInvokeHandler(namespace, value)(event);\n        self.invoke('buttons.updateCurrentStyle');\n      };\n    };\n\n    this.createInvokeHandler = function (namespace, value) {\n      return function (event) {\n        event.preventDefault();\n        var $target = $(event.target);\n        self.invoke(namespace, value || $target.closest('[data-value]').data('value'), $target);\n      };\n    };\n\n    this.invoke = function () {\n      var namespace = list.head(arguments);\n      var args = list.tail(list.from(arguments));\n\n      var splits = namespace.split('.');\n      var hasSeparator = splits.length > 1;\n      var moduleName = hasSeparator && list.head(splits);\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\n\n      var module = this.modules[moduleName || 'editor'];\n      if (!moduleName && this[methodName]) {\n        return this[methodName].apply(this, args);\n      } else if (module && module[methodName] && module.shouldInitialize()) {\n        return module[methodName].apply(module, args);\n      }\n    };\n\n    return this.initialize();\n  };\n\n  $.fn.extend({\n    /**\r\n     * Summernote API\r\n     *\r\n     * @param {Object|String}\r\n     * @return {this}\r\n     */\n    summernote: function summernote() {\n      var type = $.type(list.head(arguments));\n      var isExternalAPICalled = type === 'string';\n      var hasInitOptions = type === 'object';\n\n      var options = hasInitOptions ? list.head(arguments) : {};\n\n      options = $.extend({}, $.summernote.options, options);\n\n      // Update options\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\n      options.icons = $.extend(true, {}, $.summernote.options.icons, options.icons);\n      options.tooltip = options.tooltip === 'auto' ? !agent.isSupportTouch : options.tooltip;\n\n      this.each(function (idx, note) {\n        var $note = $(note);\n        if (!$note.data('summernote')) {\n          var context = new Context($note, options);\n          $note.data('summernote', context);\n          $note.data('summernote').triggerEvent('init', context.layoutInfo);\n        }\n      });\n\n      var $note = this.first();\n      if ($note.length) {\n        var context = $note.data('summernote');\n        if (isExternalAPICalled) {\n          return context.invoke.apply(context, list.from(arguments));\n        } else if (options.focus) {\n          context.invoke('editor.focus');\n        }\n      }\n\n      return this;\n    }\n  });\n\n  var Renderer = function Renderer(markup, children, options, callback) {\n    this.render = function ($parent) {\n      var $node = $(markup);\n\n      if (options && options.contents) {\n        $node.html(options.contents);\n      }\n\n      if (options && options.className) {\n        $node.addClass(options.className);\n      }\n\n      if (options && options.data) {\n        $.each(options.data, function (k, v) {\n          $node.attr('data-' + k, v);\n        });\n      }\n\n      if (options && options.click) {\n        $node.on('click', options.click);\n      }\n\n      if (children) {\n        var $container = $node.find('.note-children-container');\n        children.forEach(function (child) {\n          child.render($container.length ? $container : $node);\n        });\n      }\n\n      if (callback) {\n        callback($node, options);\n      }\n\n      if (options && options.callback) {\n        options.callback($node);\n      }\n\n      if ($parent) {\n        $parent.append($node);\n      }\n\n      return $node;\n    };\n  };\n\n  var renderer = {\n    create: function create(markup, callback) {\n      return function () {\n        var children = $.isArray(arguments[0]) ? arguments[0] : [];\n        var options = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(arguments[1]) === 'object' ? arguments[1] : arguments[0];\n        if (options && options.children) {\n          children = options.children;\n        }\n        return new Renderer(markup, children, options, callback);\n      };\n    }\n  };\n\n  var editor = renderer.create('<div class=\"note-editor note-frame panel panel-default\"/>');\n  var toolbar = renderer.create('<div class=\"note-toolbar panel-heading\"/>');\n  var editingArea = renderer.create('<div class=\"note-editing-area\"/>');\n  var codable = renderer.create('<textarea class=\"note-codable\"/>');\n  var editable = renderer.create('<div class=\"note-editable panel-body\" contentEditable=\"true\"/>');\n  var statusbar = renderer.create(['<div class=\"note-statusbar\">', '  <div class=\"note-resizebar\">', '    <div class=\"note-icon-bar\"/>', '    <div class=\"note-icon-bar\"/>', '    <div class=\"note-icon-bar\"/>', '  </div>', '</div>'].join(''));\n\n  var airEditor = renderer.create('<div class=\"note-editor\"/>');\n  var airEditable = renderer.create('<div class=\"note-editable\" contentEditable=\"true\"/>');\n\n  var buttonGroup = renderer.create('<div class=\"note-btn-group btn-group\">');\n\n  var dropdown = renderer.create('<div class=\"dropdown-menu\">', function ($node, options) {\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\n      var value = typeof item === 'string' ? item : item.value || '';\n      var content = options.template ? options.template(item) : item;\n      var option = (typeof item === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(item)) === 'object' ? item.option : undefined;\n\n      var dataValue = 'data-value=\"' + value + '\"';\n      var dataOption = option !== undefined ? ' data-option=\"' + option + '\"' : '';\n      return '<li><a href=\"#\" ' + (dataValue + dataOption) + '>' + content + '</a></li>';\n    }).join('') : options.items;\n\n    $node.html(markup);\n  });\n\n  var dropdownButtonContents = function dropdownButtonContents(contents, options) {\n    return contents + ' ' + icon(options.icons.caret, 'span');\n  };\n\n  var dropdownCheck = renderer.create('<div class=\"dropdown-menu note-check\">', function ($node, options) {\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\n      var value = typeof item === 'string' ? item : item.value || '';\n      var content = options.template ? options.template(item) : item;\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\n    }).join('') : options.items;\n    $node.html(markup);\n  });\n\n  var palette = renderer.create('<div class=\"note-color-palette\"/>', function ($node, options) {\n    var contents = [];\n    for (var row = 0, rowSize = options.colors.length; row < rowSize; row++) {\n      var eventName = options.eventName;\n      var colors = options.colors[row];\n      var buttons = [];\n      for (var col = 0, colSize = colors.length; col < colSize; col++) {\n        var color = colors[col];\n        buttons.push(['<button type=\"button\" class=\"note-color-btn\"', 'style=\"background-color:', color, '\" ', 'data-event=\"', eventName, '\" ', 'data-value=\"', color, '\" ', 'title=\"', color, '\" ', 'data-toggle=\"button\" tabindex=\"-1\"></button>'].join(''));\n      }\n      contents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\n    }\n    $node.html(contents.join(''));\n\n    if (options.tooltip) {\n      $node.find('.note-color-btn').tooltip({\n        container: 'body',\n        trigger: 'hover',\n        placement: 'bottom'\n      });\n    }\n  });\n\n  var dialog = renderer.create('<div class=\"modal\" aria-hidden=\"false\" tabindex=\"-1\"/>', function ($node, options) {\n    if (options.fade) {\n      $node.addClass('fade');\n    }\n    $node.html(['<div class=\"modal-dialog\">', '  <div class=\"modal-content\">', options.title ? '    <div class=\"modal-header\">' + '      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' + '      <h4 class=\"modal-title\">' + options.title + '</h4>' + '    </div>' : '', '    <div class=\"modal-body\">' + options.body + '</div>', options.footer ? '    <div class=\"modal-footer\">' + options.footer + '</div>' : '', '  </div>', '</div>'].join(''));\n  });\n\n  var popover = renderer.create(['<div class=\"note-popover popover in\">', '  <div class=\"arrow\"/>', '  <div class=\"popover-content note-children-container\"/>', '</div>'].join(''), function ($node, options) {\n    var direction = typeof options.direction !== 'undefined' ? options.direction : 'bottom';\n\n    $node.addClass(direction);\n\n    if (options.hideArrow) {\n      $node.find('.arrow').hide();\n    }\n  });\n\n  var checkbox = renderer.create('<div class=\"checkbox\"></div>', function ($node, options) {\n    $node.html([' <label' + (options.id ? ' for=\"' + options.id + '\"' : '') + '>', ' <input type=\"checkbox\"' + (options.id ? ' id=\"' + options.id + '\"' : ''), (options.checked ? ' checked' : '') + '/>', options.text ? options.text : '', '</label>'].join(''));\n  });\n\n  var icon = function icon(iconClassName, tagName) {\n    tagName = tagName || 'i';\n    return '<' + tagName + ' class=\"' + iconClassName + '\"/>';\n  };\n\n  var ui = {\n    editor: editor,\n    toolbar: toolbar,\n    editingArea: editingArea,\n    codable: codable,\n    editable: editable,\n    statusbar: statusbar,\n    airEditor: airEditor,\n    airEditable: airEditable,\n    buttonGroup: buttonGroup,\n    dropdown: dropdown,\n    dropdownButtonContents: dropdownButtonContents,\n    dropdownCheck: dropdownCheck,\n    palette: palette,\n    dialog: dialog,\n    popover: popover,\n    checkbox: checkbox,\n    icon: icon,\n    options: {},\n\n    button: function button($node, options) {\n      return renderer.create('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" tabindex=\"-1\">', function ($node, options) {\n        if (options && options.tooltip && self.options.tooltip) {\n          $node.attr({\n            title: options.tooltip\n          }).tooltip({\n            container: 'body',\n            trigger: 'hover',\n            placement: 'bottom'\n          });\n        }\n      })($node, options);\n    },\n\n    toggleBtn: function toggleBtn($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    },\n\n    toggleBtnActive: function toggleBtnActive($btn, isActive) {\n      $btn.toggleClass('active', isActive);\n    },\n\n    onDialogShown: function onDialogShown($dialog, handler) {\n      $dialog.one('shown.bs.modal', handler);\n    },\n\n    onDialogHidden: function onDialogHidden($dialog, handler) {\n      $dialog.one('hidden.bs.modal', handler);\n    },\n\n    showDialog: function showDialog($dialog) {\n      $dialog.modal('show');\n    },\n\n    hideDialog: function hideDialog($dialog) {\n      $dialog.modal('hide');\n    },\n\n    createLayout: function createLayout($note, options) {\n      self.options = options;\n      var $editor = (options.airMode ? ui.airEditor([ui.editingArea([ui.airEditable()])]) : ui.editor([ui.toolbar(), ui.editingArea([ui.codable(), ui.editable()]), ui.statusbar()])).render();\n\n      $editor.insertAfter($note);\n\n      return {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find('.note-toolbar'),\n        editingArea: $editor.find('.note-editing-area'),\n        editable: $editor.find('.note-editable'),\n        codable: $editor.find('.note-codable'),\n        statusbar: $editor.find('.note-statusbar')\n      };\n    },\n\n    removeLayout: function removeLayout($note, layoutInfo) {\n      $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n      $note.show();\n    }\n  };\n\n  $.summernote = $.summernote || {\n    lang: {}\n  };\n\n  $.extend($.summernote.lang, {\n    'en-US': {\n      font: {\n        bold: 'Bold',\n        italic: 'Italic',\n        underline: 'Underline',\n        clear: 'Remove Font Style',\n        height: 'Line Height',\n        name: 'Font Family',\n        strikethrough: 'Strikethrough',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        size: 'Font Size'\n      },\n      image: {\n        image: 'Picture',\n        insert: 'Insert Image',\n        resizeFull: 'Resize Full',\n        resizeHalf: 'Resize Half',\n        resizeQuarter: 'Resize Quarter',\n        floatLeft: 'Float Left',\n        floatRight: 'Float Right',\n        floatNone: 'Float None',\n        shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape: Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape: None',\n        dragImageHere: 'Drag image or text here',\n        dropImage: 'Drop image or Text',\n        selectFromFiles: 'Select from files',\n        maximumFileSize: 'Maximum file size',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n        url: 'Image URL',\n        remove: 'Remove Image'\n      },\n      video: {\n        video: 'Video',\n        videoLink: 'Video Link',\n        insert: 'Insert Video',\n        url: 'Video URL?',\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert: 'Insert Link',\n        unlink: 'Unlink',\n        edit: 'Edit',\n        textToDisplay: 'Text to display',\n        url: 'To what URL should this link go?',\n        openInNewWindow: 'Open in new window'\n      },\n      table: {\n        table: 'Table',\n        addRowAbove: 'Add row above',\n        addRowBelow: 'Add row below',\n        addColLeft: 'Add column left',\n        addColRight: 'Add column right',\n        delRow: 'Delete row',\n        delCol: 'Delete column',\n        delTable: 'Delete table'\n      },\n      hr: {\n        insert: 'Insert Horizontal Rule'\n      },\n      style: {\n        style: 'Style',\n        p: 'Normal',\n        blockquote: 'Quote',\n        pre: 'Code',\n        h1: 'Header 1',\n        h2: 'Header 2',\n        h3: 'Header 3',\n        h4: 'Header 4',\n        h5: 'Header 5',\n        h6: 'Header 6'\n      },\n      lists: {\n        unordered: 'Unordered list',\n        ordered: 'Ordered list'\n      },\n      options: {\n        help: 'Help',\n        fullscreen: 'Full Screen',\n        codeview: 'Code View'\n      },\n      paragraph: {\n        paragraph: 'Paragraph',\n        outdent: 'Outdent',\n        indent: 'Indent',\n        left: 'Align left',\n        center: 'Align center',\n        right: 'Align right',\n        justify: 'Justify full'\n      },\n      color: {\n        recent: 'Recent Color',\n        more: 'More Color',\n        background: 'Background Color',\n        foreground: 'Foreground Color',\n        transparent: 'Transparent',\n        setTransparent: 'Set transparent',\n        reset: 'Reset',\n        resetToDefault: 'Reset to default'\n      },\n      shortcut: {\n        shortcuts: 'Keyboard shortcuts',\n        close: 'Close',\n        textFormatting: 'Text formatting',\n        action: 'Action',\n        paragraphFormatting: 'Paragraph formatting',\n        documentStyle: 'Document Style',\n        extraKeys: 'Extra keys'\n      },\n      help: {\n        'insertParagraph': 'Insert Paragraph',\n        'undo': 'Undoes the last command',\n        'redo': 'Redoes the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n        'bold': 'Set a bold style',\n        'italic': 'Set a italic style',\n        'underline': 'Set a underline style',\n        'strikethrough': 'Set a strikethrough style',\n        'removeFormat': 'Clean a style',\n        'justifyLeft': 'Set left align',\n        'justifyCenter': 'Set center align',\n        'justifyRight': 'Set right align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList': 'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n        'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent on current paragraph',\n        'formatPara': 'Change current block\\'s format as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3': 'Change current block\\'s format as H3',\n        'formatH4': 'Change current block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule': 'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n      history: {\n        undo: 'Undo',\n        redo: 'Redo'\n      },\n      specialChar: {\n        specialChar: 'SPECIAL CHARACTERS',\n        select: 'Select Special characters'\n      }\n    }\n  });\n\n  /**\r\n   * @class core.key\r\n   *\r\n   * Object for keycodes.\r\n   *\r\n   * @singleton\r\n   * @alternateClassName key\r\n   */\n  var key = function () {\n    var keyMap = {\n      'BACKSPACE': 8,\n      'TAB': 9,\n      'ENTER': 13,\n      'SPACE': 32,\n      'DELETE': 46,\n\n      // Arrow\n      'LEFT': 37,\n      'UP': 38,\n      'RIGHT': 39,\n      'DOWN': 40,\n\n      // Number: 0-9\n      'NUM0': 48,\n      'NUM1': 49,\n      'NUM2': 50,\n      'NUM3': 51,\n      'NUM4': 52,\n      'NUM5': 53,\n      'NUM6': 54,\n      'NUM7': 55,\n      'NUM8': 56,\n\n      // Alphabet: a-z\n      'B': 66,\n      'E': 69,\n      'I': 73,\n      'J': 74,\n      'K': 75,\n      'L': 76,\n      'R': 82,\n      'S': 83,\n      'U': 85,\n      'V': 86,\n      'Y': 89,\n      'Z': 90,\n\n      'SLASH': 191,\n      'LEFTBRACKET': 219,\n      'BACKSLASH': 220,\n      'RIGHTBRACKET': 221\n    };\n\n    return {\n      /**\r\n       * @method isEdit\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\n      isEdit: function isEdit(keyCode) {\n        return list.contains([keyMap.BACKSPACE, keyMap.TAB, keyMap.ENTER, keyMap.SPACE, keyMap.DELETE], keyCode);\n      },\n      /**\r\n       * @method isMove\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\n      isMove: function isMove(keyCode) {\n        return list.contains([keyMap.LEFT, keyMap.UP, keyMap.RIGHT, keyMap.DOWN], keyCode);\n      },\n      /**\r\n       * @property {Object} nameFromCode\r\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\r\n       */\n      nameFromCode: func.invertObject(keyMap),\n      code: keyMap\n    };\n  }();\n\n  var range = function () {\n\n    /**\r\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\r\n     *\r\n     * @param {TextRange} textRange\r\n     * @param {Boolean} isStart\r\n     * @return {BoundaryPoint}\r\n     *\r\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\r\n     */\n    var textRangeToPoint = function textRangeToPoint(textRange, isStart) {\n      var container = textRange.parentElement(),\n          offset;\n\n      var tester = document.body.createTextRange(),\n          prevContainer;\n      var childNodes = list.from(container.childNodes);\n      for (offset = 0; offset < childNodes.length; offset++) {\n        if (dom.isText(childNodes[offset])) {\n          continue;\n        }\n        tester.moveToElementText(childNodes[offset]);\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n          break;\n        }\n        prevContainer = childNodes[offset];\n      }\n\n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\n        var textRangeStart = document.body.createTextRange(),\n            curTextNode = null;\n        textRangeStart.moveToElementText(prevContainer || container);\n        textRangeStart.collapse(!prevContainer);\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\n\n        var pointTester = textRange.duplicate();\n        pointTester.setEndPoint('StartToStart', textRangeStart);\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n\n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n\n        /* jshint ignore:start */\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\n        /* jshint ignore:end */\n\n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) && textCount === curTextNode.nodeValue.length) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n\n        container = curTextNode;\n        offset = textCount;\n      }\n\n      return {\n        cont: container,\n        offset: offset\n      };\n    };\n\n    /**\r\n     * return TextRange from boundary point (inspired by google closure-library)\r\n     * @param {BoundaryPoint} point\r\n     * @return {TextRange}\r\n     */\n    var pointToTextRange = function pointToTextRange(point) {\n      var textRangeInfo = function textRangeInfo(container, offset) {\n        var node, isCollapseToStart;\n\n        if (dom.isText(container)) {\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\n          var prevContainer = list.last(prevTextNodes).previousSibling;\n          node = prevContainer || container.parentNode;\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\n          isCollapseToStart = !prevContainer;\n        } else {\n          node = container.childNodes[offset] || container;\n          if (dom.isText(node)) {\n            return textRangeInfo(node, 0);\n          }\n\n          offset = 0;\n          isCollapseToStart = false;\n        }\n\n        return {\n          node: node,\n          collapseToStart: isCollapseToStart,\n          offset: offset\n        };\n      };\n\n      var textRange = document.body.createTextRange();\n      var info = textRangeInfo(point.node, point.offset);\n\n      textRange.moveToElementText(info.node);\n      textRange.collapse(info.collapseToStart);\n      textRange.moveStart('character', info.offset);\n      return textRange;\n    };\n\n    /**\r\n     * Wrapped Range\r\n     *\r\n     * @constructor\r\n     * @param {Node} sc - start container\r\n     * @param {Number} so - start offset\r\n     * @param {Node} ec - end container\r\n     * @param {Number} eo - end offset\r\n     */\n    var WrappedRange = function WrappedRange(sc, so, ec, eo) {\n      this.sc = sc;\n      this.so = so;\n      this.ec = ec;\n      this.eo = eo;\n\n      // nativeRange: get nativeRange from sc, so, ec, eo\n      var nativeRange = function nativeRange() {\n        if (agent.isW3CRangeSupport) {\n          var w3cRange = document.createRange();\n          w3cRange.setStart(sc, so);\n          w3cRange.setEnd(ec, eo);\n\n          return w3cRange;\n        } else {\n          var textRange = pointToTextRange({\n            node: sc,\n            offset: so\n          });\n\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\n            node: ec,\n            offset: eo\n          }));\n\n          return textRange;\n        }\n      };\n\n      this.getPoints = function () {\n        return {\n          sc: sc,\n          so: so,\n          ec: ec,\n          eo: eo\n        };\n      };\n\n      this.getStartPoint = function () {\n        return {\n          node: sc,\n          offset: so\n        };\n      };\n\n      this.getEndPoint = function () {\n        return {\n          node: ec,\n          offset: eo\n        };\n      };\n\n      /**\r\n       * select update visible range\r\n       */\n      this.select = function () {\n        var nativeRng = nativeRange();\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (selection.rangeCount > 0) {\n            selection.removeAllRanges();\n          }\n          selection.addRange(nativeRng);\n        } else {\n          nativeRng.select();\n        }\n\n        return this;\n      };\n\n      /**\r\n       * Moves the scrollbar to start container(sc) of current range\r\n       *\r\n       * @return {WrappedRange}\r\n       */\n      this.scrollIntoView = function (container) {\n        var height = $(container).height();\n        if (container.scrollTop + height < this.sc.offsetTop) {\n          container.scrollTop += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n        }\n\n        return this;\n      };\n\n      /**\r\n       * @return {WrappedRange}\r\n       */\n      this.normalize = function () {\n\n        /**\r\n         * @param {BoundaryPoint} point\r\n         * @param {Boolean} isLeftToRight\r\n         * @return {BoundaryPoint}\r\n         */\n        var getVisiblePoint = function getVisiblePoint(point, isLeftToRight) {\n          if (dom.isVisiblePoint(point) && !dom.isEdgePoint(point) || dom.isVisiblePoint(point) && dom.isRightEdgePoint(point) && !isLeftToRight || dom.isVisiblePoint(point) && dom.isLeftEdgePoint(point) && isLeftToRight || dom.isVisiblePoint(point) && dom.isBlock(point.node) && dom.isEmpty(point.node)) {\n            return point;\n          }\n\n          // point on block's edge\n          var block = dom.ancestor(point.node, dom.isBlock);\n          if ((dom.isLeftEdgePointOf(point, block) || dom.isVoid(dom.prevPoint(point).node)) && !isLeftToRight || (dom.isRightEdgePointOf(point, block) || dom.isVoid(dom.nextPoint(point).node)) && isLeftToRight) {\n\n            // returns point already on visible point\n            if (dom.isVisiblePoint(point)) {\n              return point;\n            }\n            // reverse direction \n            isLeftToRight = !isLeftToRight;\n          }\n\n          var nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint) : dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n          return nextPoint || point;\n        };\n\n        var endPoint = getVisiblePoint(this.getEndPoint(), false);\n        var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(), true);\n\n        return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset);\n      };\n\n      /**\r\n       * returns matched nodes on range\r\n       *\r\n       * @param {Function} [pred] - predicate function\r\n       * @param {Object} [options]\r\n       * @param {Boolean} [options.includeAncestor]\r\n       * @param {Boolean} [options.fullyContains]\r\n       * @return {Node[]}\r\n       */\n      this.nodes = function (pred, options) {\n        pred = pred || func.ok;\n\n        var includeAncestor = options && options.includeAncestor;\n        var fullyContains = options && options.fullyContains;\n\n        // TODO compare points and sort\n        var startPoint = this.getStartPoint();\n        var endPoint = this.getEndPoint();\n\n        var nodes = [];\n        var leftEdgeNodes = [];\n\n        dom.walkPoint(startPoint, endPoint, function (point) {\n          if (dom.isEditable(point.node)) {\n            return;\n          }\n\n          var node;\n          if (fullyContains) {\n            if (dom.isLeftEdgePoint(point)) {\n              leftEdgeNodes.push(point.node);\n            }\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\n              node = point.node;\n            }\n          } else if (includeAncestor) {\n            node = dom.ancestor(point.node, pred);\n          } else {\n            node = point.node;\n          }\n\n          if (node && pred(node)) {\n            nodes.push(node);\n          }\n        }, true);\n\n        return list.unique(nodes);\n      };\n\n      /**\r\n       * returns commonAncestor of range\r\n       * @return {Element} - commonAncestor\r\n       */\n      this.commonAncestor = function () {\n        return dom.commonAncestor(sc, ec);\n      };\n\n      /**\r\n       * returns expanded range by pred\r\n       *\r\n       * @param {Function} pred - predicate function\r\n       * @return {WrappedRange}\r\n       */\n      this.expand = function (pred) {\n        var startAncestor = dom.ancestor(sc, pred);\n        var endAncestor = dom.ancestor(ec, pred);\n\n        if (!startAncestor && !endAncestor) {\n          return new WrappedRange(sc, so, ec, eo);\n        }\n\n        var boundaryPoints = this.getPoints();\n\n        if (startAncestor) {\n          boundaryPoints.sc = startAncestor;\n          boundaryPoints.so = 0;\n        }\n\n        if (endAncestor) {\n          boundaryPoints.ec = endAncestor;\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\n        }\n\n        return new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n      };\n\n      /**\r\n       * @param {Boolean} isCollapseToStart\r\n       * @return {WrappedRange}\r\n       */\n      this.collapse = function (isCollapseToStart) {\n        if (isCollapseToStart) {\n          return new WrappedRange(sc, so, sc, so);\n        } else {\n          return new WrappedRange(ec, eo, ec, eo);\n        }\n      };\n\n      /**\r\n       * splitText on range\r\n       */\n      this.splitText = function () {\n        var isSameContainer = sc === ec;\n        var boundaryPoints = this.getPoints();\n\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\n          ec.splitText(eo);\n        }\n\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\n          boundaryPoints.sc = sc.splitText(so);\n          boundaryPoints.so = 0;\n\n          if (isSameContainer) {\n            boundaryPoints.ec = boundaryPoints.sc;\n            boundaryPoints.eo = eo - so;\n          }\n        }\n\n        return new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n      };\n\n      /**\r\n       * delete contents on range\r\n       * @return {WrappedRange}\r\n       */\n      this.deleteContents = function () {\n        if (this.isCollapsed()) {\n          return this;\n        }\n\n        var rng = this.splitText();\n        var nodes = rng.nodes(null, {\n          fullyContains: true\n        });\n\n        // find new cursor point\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\n          return !list.contains(nodes, point.node);\n        });\n\n        var emptyParents = [];\n        $.each(nodes, function (idx, node) {\n          // find empty parents\n          var parent = node.parentNode;\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\n            emptyParents.push(parent);\n          }\n          dom.remove(node, false);\n        });\n\n        // remove empty parents\n        $.each(emptyParents, function (idx, node) {\n          dom.remove(node, false);\n        });\n\n        return new WrappedRange(point.node, point.offset, point.node, point.offset).normalize();\n      };\n\n      /**\r\n       * makeIsOn: return isOn(pred) function\r\n       */\n      var makeIsOn = function makeIsOn(pred) {\n        return function () {\n          var ancestor = dom.ancestor(sc, pred);\n          return !!ancestor && ancestor === dom.ancestor(ec, pred);\n        };\n      };\n\n      // isOnEditable: judge whether range is on editable or not\n      this.isOnEditable = makeIsOn(dom.isEditable);\n      // isOnList: judge whether range is on list node or not\n      this.isOnList = makeIsOn(dom.isList);\n      // isOnAnchor: judge whether range is on anchor node or not\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\n      // isOnCell: judge whether range is on cell node or not\n      this.isOnCell = makeIsOn(dom.isCell);\n      // isOnData: judge whether range is on data node or not\n      this.isOnData = makeIsOn(dom.isData);\n\n      /**\r\n       * @param {Function} pred\r\n       * @return {Boolean}\r\n       */\n      this.isLeftEdgeOf = function (pred) {\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\n          return false;\n        }\n\n        var node = dom.ancestor(this.sc, pred);\n        return node && dom.isLeftEdgeOf(this.sc, node);\n      };\n\n      /**\r\n       * returns whether range was collapsed or not\r\n       */\n      this.isCollapsed = function () {\n        return sc === ec && so === eo;\n      };\n\n      /**\r\n       * wrap inline nodes which children of body with paragraph\r\n       *\r\n       * @return {WrappedRange}\r\n       */\n      this.wrapBodyInlineWithPara = function () {\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\n          sc.innerHTML = dom.emptyPara;\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\n        }\n\n        /**\r\n         * [workaround] firefox often create range on not visible point. so normalize here.\r\n         *  - firefox: |<p>text</p>|\r\n         *  - chrome: <p>|text|</p>\r\n         */\n        var rng = this.normalize();\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\n          return rng;\n        }\n\n        // find inline top ancestor\n        var topAncestor;\n        if (dom.isInline(rng.sc)) {\n          var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\n          topAncestor = list.last(ancestors);\n          if (!dom.isInline(topAncestor)) {\n            topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\n          }\n        } else {\n          topAncestor = rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\n        }\n\n        // siblings not in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\n\n        // wrap with paragraph\n        if (inlineSiblings.length) {\n          var para = dom.wrap(list.head(inlineSiblings), 'p');\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\n        }\n\n        return this.normalize();\n      };\n\n      /**\r\n       * insert node at current cursor\r\n       *\r\n       * @param {Node} node\r\n       * @return {Node}\r\n       */\n      this.insertNode = function (node) {\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n        if (info.rightNode) {\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\n        } else {\n          info.container.appendChild(node);\n        }\n\n        return node;\n      };\n\n      /**\r\n       * insert html at current cursor\r\n       */\n      this.pasteHTML = function (markup) {\n        var contentsContainer = $('<div></div>').html(markup)[0];\n        var childNodes = list.from(contentsContainer.childNodes);\n\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n\n        return childNodes.reverse().map(function (childNode) {\n          return rng.insertNode(childNode);\n        }).reverse();\n      };\n\n      /**\r\n       * returns text in range\r\n       *\r\n       * @return {String}\r\n       */\n      this.toString = function () {\n        var nativeRng = nativeRange();\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\n      };\n\n      /**\r\n       * returns range for word before cursor\r\n       *\r\n       * @param {Boolean} [findAfter] - find after cursor, default: false\r\n       * @return {WrappedRange}\r\n       */\n      this.getWordRange = function (findAfter) {\n        var endPoint = this.getEndPoint();\n\n        if (!dom.isCharPoint(endPoint)) {\n          return this;\n        }\n\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\n          return !dom.isCharPoint(point);\n        });\n\n        if (findAfter) {\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\n            return !dom.isCharPoint(point);\n          });\n        }\n\n        return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset);\n      };\n\n      /**\r\n       * create offsetPath bookmark\r\n       *\r\n       * @param {Node} editable\r\n       */\n      this.bookmark = function (editable) {\n        return {\n          s: {\n            path: dom.makeOffsetPath(editable, sc),\n            offset: so\n          },\n          e: {\n            path: dom.makeOffsetPath(editable, ec),\n            offset: eo\n          }\n        };\n      };\n\n      /**\r\n       * create offsetPath bookmark base on paragraph\r\n       *\r\n       * @param {Node[]} paras\r\n       */\n      this.paraBookmark = function (paras) {\n        return {\n          s: {\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\n            offset: so\n          },\n          e: {\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\n            offset: eo\n          }\n        };\n      };\n\n      /**\r\n       * getClientRects\r\n       * @return {Rect[]}\r\n       */\n      this.getClientRects = function () {\n        var nativeRng = nativeRange();\n        return nativeRng.getClientRects();\n      };\n    };\n\n    /**\r\n     * @class core.range\r\n     *\r\n     * Data structure\r\n     *  * BoundaryPoint: a point of dom tree\r\n     *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\r\n     *\r\n     * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\r\n     *\r\n     * @singleton\r\n     * @alternateClassName range\r\n     */\n    return {\n      /**\r\n       * create Range Object From arguments or Browser Selection\r\n       *\r\n       * @param {Node} sc - start container\r\n       * @param {Number} so - start offset\r\n       * @param {Node} ec - end container\r\n       * @param {Number} eo - end offset\r\n       * @return {WrappedRange}\r\n       */\n      create: function create(sc, so, ec, eo) {\n        if (arguments.length === 4) {\n          return new WrappedRange(sc, so, ec, eo);\n        } else if (arguments.length === 2) {\n          //collapsed\n          ec = sc;\n          eo = so;\n          return new WrappedRange(sc, so, ec, eo);\n        } else {\n          var wrappedRange = this.createFromSelection();\n          if (!wrappedRange && arguments.length === 1) {\n            wrappedRange = this.createFromNode(arguments[0]);\n            return wrappedRange.collapse(dom.emptyPara === arguments[0].innerHTML);\n          }\n          return wrappedRange;\n        }\n      },\n\n      createFromSelection: function createFromSelection() {\n        var sc, so, ec, eo;\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (!selection || selection.rangeCount === 0) {\n            return null;\n          } else if (dom.isBody(selection.anchorNode)) {\n            // Firefox: returns entire body as range on initialization.\n            // We won't never need it.\n            return null;\n          }\n\n          var nativeRng = selection.getRangeAt(0);\n          sc = nativeRng.startContainer;\n          so = nativeRng.startOffset;\n          ec = nativeRng.endContainer;\n          eo = nativeRng.endOffset;\n        } else {\n          // IE8: TextRange\n          var textRange = document.selection.createRange();\n          var textRangeEnd = textRange.duplicate();\n          textRangeEnd.collapse(false);\n          var textRangeStart = textRange;\n          textRangeStart.collapse(true);\n\n          var startPoint = textRangeToPoint(textRangeStart, true),\n              endPoint = textRangeToPoint(textRangeEnd, false);\n\n          // same visible point case: range was collapsed.\n          if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) && dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) && endPoint.node.nextSibling === startPoint.node) {\n            startPoint = endPoint;\n          }\n\n          sc = startPoint.cont;\n          so = startPoint.offset;\n          ec = endPoint.cont;\n          eo = endPoint.offset;\n        }\n\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from node\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\n      createFromNode: function createFromNode(node) {\n        var sc = node;\n        var so = 0;\n        var ec = node;\n        var eo = dom.nodeLength(ec);\n\n        // browsers can't target a picture or void node\n        if (dom.isVoid(sc)) {\n          so = dom.listPrev(sc).length - 1;\n          sc = sc.parentNode;\n        }\n        if (dom.isBR(ec)) {\n          eo = dom.listPrev(ec).length - 1;\n          ec = ec.parentNode;\n        } else if (dom.isVoid(ec)) {\n          eo = dom.listPrev(ec).length;\n          ec = ec.parentNode;\n        }\n\n        return this.create(sc, so, ec, eo);\n      },\n\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\n      createFromNodeBefore: function createFromNodeBefore(node) {\n        return this.createFromNode(node).collapse(true);\n      },\n\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\n      createFromNodeAfter: function createFromNodeAfter(node) {\n        return this.createFromNode(node).collapse();\n      },\n\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from bookmark\r\n       *\r\n       * @param {Node} editable\r\n       * @param {Object} bookmark\r\n       * @return {WrappedRange}\r\n       */\n      createFromBookmark: function createFromBookmark(editable, bookmark) {\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n        var so = bookmark.s.offset;\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n        var eo = bookmark.e.offset;\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\r\n       * @method \r\n       *\r\n       * create WrappedRange from paraBookmark\r\n       *\r\n       * @param {Object} bookmark\r\n       * @param {Node[]} paras\r\n       * @return {WrappedRange}\r\n       */\n      createFromParaBookmark: function createFromParaBookmark(bookmark, paras) {\n        var so = bookmark.s.offset;\n        var eo = bookmark.e.offset;\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\n\n        return new WrappedRange(sc, so, ec, eo);\n      }\n    };\n  }();\n\n  /**\r\n   * @class core.async\r\n   *\r\n   * Async functions which returns `Promise`\r\n   *\r\n   * @singleton\r\n   * @alternateClassName async\r\n   */\n  var async = function () {\n    /**\r\n     * @method readFileAsDataURL\r\n     *\r\n     * read contents of file as representing URL\r\n     *\r\n     * @param {File} file\r\n     * @return {Promise} - then: dataUrl\r\n     */\n    var readFileAsDataURL = function readFileAsDataURL(file) {\n      return $.Deferred(function (deferred) {\n        $.extend(new FileReader(), {\n          onload: function onload(e) {\n            var dataURL = e.target.result;\n            deferred.resolve(dataURL);\n          },\n          onerror: function onerror() {\n            deferred.reject(this);\n          }\n        }).readAsDataURL(file);\n      }).promise();\n    };\n\n    /**\r\n     * @method createImage\r\n     *\r\n     * create `<image>` from url string\r\n     *\r\n     * @param {String} url\r\n     * @return {Promise} - then: $image\r\n     */\n    var createImage = function createImage(url) {\n      return $.Deferred(function (deferred) {\n        var $img = $('<img>');\n\n        $img.one('load', function () {\n          $img.off('error abort');\n          deferred.resolve($img);\n        }).one('error abort', function () {\n          $img.off('load').detach();\n          deferred.reject($img);\n        }).css({\n          display: 'none'\n        }).appendTo(document.body).attr('src', url);\n      }).promise();\n    };\n\n    return {\n      readFileAsDataURL: readFileAsDataURL,\n      createImage: createImage\n    };\n  }();\n\n  /**\r\n   * @class editing.History\r\n   *\r\n   * Editor History\r\n   *\r\n   */\n  var History = function History($editable) {\n    var stack = [],\n        stackOffset = -1;\n    var editable = $editable[0];\n\n    var makeSnapshot = function makeSnapshot() {\n      var rng = range.create(editable);\n      var emptyBookmark = { s: { path: [], offset: 0 }, e: { path: [], offset: 0 } };\n\n      return {\n        contents: $editable.html(),\n        bookmark: rng ? rng.bookmark(editable) : emptyBookmark\n      };\n    };\n\n    var applySnapshot = function applySnapshot(snapshot) {\n      if (snapshot.contents !== null) {\n        $editable.html(snapshot.contents);\n      }\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(editable, snapshot.bookmark).select();\n      }\n    };\n\n    /**\r\n    * @method rewind\r\n    * Rewinds the history stack back to the first snapshot taken.\r\n    * Leaves the stack intact, so that \"Redo\" can still be used.\r\n    */\n    this.rewind = function () {\n      // Create snap shot if not yet recorded\n      if ($editable.html() !== stack[stackOffset].contents) {\n        this.recordUndo();\n      }\n\n      // Return to the first available snapshot.\n      stackOffset = 0;\n\n      // Apply that snapshot.\n      applySnapshot(stack[stackOffset]);\n    };\n\n    /**\r\n    * @method reset\r\n    * Resets the history stack completely; reverting to an empty editor.\r\n    */\n    this.reset = function () {\n      // Clear the stack.\n      stack = [];\n\n      // Restore stackOffset to its original value.\n      stackOffset = -1;\n\n      // Clear the editable area.\n      $editable.html('');\n\n      // Record our first snapshot (of nothing).\n      this.recordUndo();\n    };\n\n    /**\r\n     * undo\r\n     */\n    this.undo = function () {\n      // Create snap shot if not yet recorded\n      if ($editable.html() !== stack[stackOffset].contents) {\n        this.recordUndo();\n      }\n\n      if (0 < stackOffset) {\n        stackOffset--;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\r\n     * redo\r\n     */\n    this.redo = function () {\n      if (stack.length - 1 > stackOffset) {\n        stackOffset++;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\r\n     * recorded undo\r\n     */\n    this.recordUndo = function () {\n      stackOffset++;\n\n      // Wash out stack after stackOffset\n      if (stack.length > stackOffset) {\n        stack = stack.slice(0, stackOffset);\n      }\n\n      // Create new snapshot and push it to the end\n      stack.push(makeSnapshot());\n    };\n  };\n\n  /**\r\n   * @class editing.Style\r\n   *\r\n   * Style\r\n   *\r\n   */\n  var Style = function Style() {\n    /**\r\n     * @method jQueryCSS\r\n     *\r\n     * [workaround] for old jQuery\r\n     * passing an array of style properties to .css()\r\n     * will result in an object of property-value pairs.\r\n     * (compability with version < 1.9)\r\n     *\r\n     * @private\r\n     * @param  {jQuery} $obj\r\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\r\n     * @return {Object}\r\n     */\n    var jQueryCSS = function jQueryCSS($obj, propertyNames) {\n      if (agent.jqueryVersion < 1.9) {\n        var result = {};\n        $.each(propertyNames, function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n        });\n        return result;\n      }\n      return $obj.css.call($obj, propertyNames);\n    };\n\n    /**\r\n     * returns style object from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\n    this.fromNode = function ($node) {\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = jQueryCSS($node, properties) || {};\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\n      return styleInfo;\n    };\n\n    /**\r\n     * paragraph level style\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} styleInfo\r\n     */\n    this.stylePara = function (rng, styleInfo) {\n      $.each(rng.nodes(dom.isPara, {\n        includeAncestor: true\n      }), function (idx, para) {\n        $(para).css(styleInfo);\n      });\n    };\n\n    /**\r\n     * insert and returns styleNodes on range.\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} [options] - options for styleNodes\r\n     * @param {String} [options.nodeName] - default: `SPAN`\r\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\r\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\r\n     * @return {Node[]}\r\n     */\n    this.styleNodes = function (rng, options) {\n      rng = rng.splitText();\n\n      var nodeName = options && options.nodeName || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n      if (rng.isCollapsed()) {\n        return [rng.insertNode(dom.create(nodeName))];\n      }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes = rng.nodes(dom.isText, {\n        fullyContains: true\n      }).map(function (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains) {\n          var nodesInRange = rng.nodes();\n          // compose with partial contains predication\n          pred = func.and(pred, function (node) {\n            return list.contains(nodesInRange, node);\n          });\n        }\n\n        return nodes.map(function (node) {\n          var siblings = dom.withClosestSiblings(node, pred);\n          var head = list.head(siblings);\n          var tails = list.tail(siblings);\n          $.each(tails, function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n            dom.remove(elem);\n          });\n          return list.head(siblings);\n        });\n      } else {\n        return nodes;\n      }\n    };\n\n    /**\r\n     * get current style on cursor\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Object} - object contains style properties.\r\n     */\n    this.current = function (rng) {\n      var $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\n      var styleInfo = this.fromNode($cont);\n\n      // document.queryCommandState for toggle state\n      // [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n      try {\n        styleInfo = $.extend(styleInfo, {\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\n          'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\n          'font-underline': document.queryCommandState('underline') ? 'underline' : 'normal',\n          'font-subscript': document.queryCommandState('subscript') ? 'subscript' : 'normal',\n          'font-superscript': document.queryCommandState('superscript') ? 'superscript' : 'normal',\n          'font-strikethrough': document.queryCommandState('strikethrough') ? 'strikethrough' : 'normal',\n          'font-family': document.queryCommandValue('fontname') || styleInfo['font-family']\n        });\n      } catch (e) {}\n\n      // list-style-type to list-style(unordered, ordered)\n      if (!rng.isOnList()) {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var orderedTypes = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered = $.inArray(styleInfo['list-style-type'], orderedTypes) > -1;\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc, dom.isPara);\n      if (para && para.style['line-height']) {\n        styleInfo['line-height'] = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height'] = lineHeight.toFixed(1);\n      }\n\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\n      styleInfo.range = rng;\n\n      return styleInfo;\n    };\n  };\n\n  /**\r\n   * @class editing.Bullet\r\n   *\r\n   * @alternateClassName Bullet\r\n   */\n  var Bullet = function Bullet() {\n    var self = this;\n\n    /**\r\n     * toggle ordered list\r\n     */\n    this.insertOrderedList = function (editable) {\n      this.toggleList('OL', editable);\n    };\n\n    /**\r\n     * toggle unordered list\r\n     */\n    this.insertUnorderedList = function (editable) {\n      this.toggleList('UL', editable);\n    };\n\n    /**\r\n     * indent\r\n     */\n    this.indent = function (editable) {\n      var self = this;\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.wrapList(paras, head.parentNode.nodeName);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\r\n     * outdent\r\n     */\n    this.outdent = function (editable) {\n      var self = this;\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.releaseList([paras]);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              val = parseInt(val, 10) || 0;\n              return val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\r\n     * toggle list\r\n     *\r\n     * @param {String} listName - OL or UL\r\n     */\n    this.toggleList = function (listName, editable) {\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var bookmark = rng.paraBookmark(paras);\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      // paragraph to list\n      if (list.find(paras, dom.isPurePara)) {\n        var wrappedParas = [];\n        $.each(clustereds, function (idx, paras) {\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\n        });\n        paras = wrappedParas;\n        // list to paragraph or change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList, {\n          includeAncestor: true\n        }).filter(function (listNode) {\n          return !$.nodeName(listNode, listName);\n        });\n\n        if (diffLists.length) {\n          $.each(diffLists, function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n        } else {\n          paras = this.releaseList(clustereds, true);\n        }\n      }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    };\n\n    /**\r\n     * @param {Node[]} paras\r\n     * @param {String} listName\r\n     * @return {Node[]}\r\n     */\n    this.wrapList = function (paras, listName) {\n      var head = list.head(paras);\n      var last = list.last(paras);\n\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\n\n      // P to LI\n      paras = paras.map(function (para) {\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      });\n\n      // append to list(<ul>, <ol>)\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList) {\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\n        dom.remove(nextList);\n      }\n\n      return paras;\n    };\n\n    /**\r\n     * @method releaseList\r\n     *\r\n     * @param {Array[]} clustereds\r\n     * @param {Boolean} isEscapseToBody\r\n     * @return {Node[]}\r\n     */\n    this.releaseList = function (clustereds, isEscapseToBody) {\n      var releasedParas = [];\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        var last = list.last(paras);\n\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) : head.parentNode;\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\n          node: last.parentNode,\n          offset: dom.position(last) + 1\n        }, {\n          isSkipPaddingBlankHTML: true\n        }) : null;\n\n        var middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset: dom.position(head)\n        }, {\n          isSkipPaddingBlankHTML: true\n        });\n\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) : list.from(middleList.childNodes).filter(dom.isLi);\n\n        // LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras = paras.map(function (para) {\n            return dom.replace(para, 'P');\n          });\n        }\n\n        $.each(list.from(paras).reverse(), function (idx, para) {\n          dom.insertAfter(para, headList);\n        });\n\n        // remove empty lists\n        var rootLists = list.compact([headList, middleList, lastList]);\n        $.each(rootLists, function (idx, rootList) {\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(), function (idx, listNode) {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode, true);\n            }\n          });\n        });\n\n        releasedParas = releasedParas.concat(paras);\n      });\n\n      return releasedParas;\n    };\n  };\n\n  /**\r\n   * @class editing.Typing\r\n   *\r\n   * Typing\r\n   *\r\n   */\n  var Typing = function Typing() {\n\n    // a Bullet instance to toggle lists off\n    var bullet = new Bullet();\n\n    /**\r\n     * insert tab\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Number} tabsize\r\n     */\n    this.insertTab = function (rng, tabsize) {\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n      rng.insertNode(tab, true);\n\n      rng = range.create(tab, tabsize);\n      rng.select();\n    };\n\n    /**\r\n     * insert paragraph\r\n     */\n    this.insertParagraph = function (editable) {\n      var rng = range.create(editable);\n\n      // deleteContents on range.\n      rng = rng.deleteContents();\n\n      // Wrap range if it needs to be wrapped by paragraph\n      rng = rng.wrapBodyInlineWithPara();\n\n      // finding paragraph\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n\n      var nextPara;\n      // on paragraph: split paragraph\n      if (splitRoot) {\n        // if it is an empty line with li\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\n          // toogle UL/OL and escape\n          bullet.toggleList(splitRoot.parentNode.nodeName);\n          return;\n          // if it is an empty line with para on blockquote\n        } else if (dom.isEmpty(splitRoot) && dom.isPara(splitRoot) && dom.isBlockquote(splitRoot.parentNode)) {\n          // escape blockquote\n          dom.insertAfter(splitRoot, splitRoot.parentNode);\n          nextPara = splitRoot;\n          // if new line has content (not a line break)\n        } else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, function (idx, anchor) {\n            dom.remove(anchor);\n          });\n\n          // replace empty heading, pre or custom-made styleTag with P tag\n          if ((dom.isHeading(nextPara) || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara)) && dom.isEmpty(nextPara)) {\n            nextPara = dom.replace(nextPara, 'p');\n          }\n        }\n        // no paragraph: insert empty paragraph\n      } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara = $(dom.emptyPara)[0];\n        if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        } else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara, 0).normalize().select().scrollIntoView(editable);\n    };\n  };\n\n  /**\r\n   * @class Create a virtual table to create what actions to do in change.\r\n   * @param {object} startPoint Cell selected to apply change.\r\n   * @param {enum} where  Where change will be applied Row or Col. Use enum: TableResultAction.where\r\n   * @param {enum} action Action to be applied. Use enum: TableResultAction.requestAction\r\n   * @param {object} domTable Dom element of table to make changes.\r\n   */\n  var TableResultAction = function TableResultAction(startPoint, where, action, domTable) {\n    var _startPoint = { 'colPos': 0, 'rowPos': 0 };\n    var _virtualTable = [];\n    var _actionCellList = [];\n\n    //////////////////////////////////////////////\n    // Private functions\n    //////////////////////////////////////////////\n\n    /**\r\n     * Set the startPoint of action.\r\n     */\n    function setStartPoint() {\n      if (!startPoint || !startPoint.tagName || startPoint.tagName.toLowerCase() !== 'td' && startPoint.tagName.toLowerCase() !== 'th') {\n        console.error('Impossible to identify start Cell point.', startPoint);\n        return;\n      }\n      _startPoint.colPos = startPoint.cellIndex;\n      if (!startPoint.parentElement || !startPoint.parentElement.tagName || startPoint.parentElement.tagName.toLowerCase() !== 'tr') {\n        console.error('Impossible to identify start Row point.', startPoint);\n        return;\n      }\n      _startPoint.rowPos = startPoint.parentElement.rowIndex;\n    }\n\n    /**\r\n     * Define virtual table position info object.\r\n     * \r\n     * @param {int} rowIndex Index position in line of virtual table.\r\n     * @param {int} cellIndex Index position in column of virtual table.\r\n     * @param {object} baseRow Row affected by this position.\r\n     * @param {object} baseCell Cell affected by this position.\r\n     * @param {bool} isSpan Inform if it is an span cell/row.\r\n     */\n    function setVirtualTablePosition(rowIndex, cellIndex, baseRow, baseCell, isRowSpan, isColSpan, isVirtualCell) {\n      var objPosition = {\n        'baseRow': baseRow,\n        'baseCell': baseCell,\n        'isRowSpan': isRowSpan,\n        'isColSpan': isColSpan,\n        'isVirtual': isVirtualCell\n      };\n      if (!_virtualTable[rowIndex]) {\n        _virtualTable[rowIndex] = [];\n      }\n      _virtualTable[rowIndex][cellIndex] = objPosition;\n    }\n\n    /**\r\n     * Create action cell object.\r\n     * \r\n     * @param {object} virtualTableCellObj Object of specific position on virtual table.\r\n     * @param {enum} resultAction Action to be applied in that item.\r\n     */\n    function getActionCell(virtualTableCellObj, resultAction, virtualRowPosition, virtualColPosition) {\n      return {\n        'baseCell': virtualTableCellObj.baseCell,\n        'action': resultAction,\n        'virtualTable': {\n          'rowIndex': virtualRowPosition,\n          'cellIndex': virtualColPosition\n        }\n      };\n    }\n\n    /**\r\n     * Recover free index of row to append Cell.\r\n     * \r\n     * @param {int} rowIndex Index of row to find free space.\r\n     * @param {int} cellIndex Index of cell to find free space in table.\r\n     */\n    function recoverCellIndex(rowIndex, cellIndex) {\n      if (!_virtualTable[rowIndex]) {\n        return cellIndex;\n      }\n      if (!_virtualTable[rowIndex][cellIndex]) {\n        return cellIndex;\n      }\n\n      var newCellIndex = cellIndex;\n      while (_virtualTable[rowIndex][newCellIndex]) {\n        newCellIndex++;\n        if (!_virtualTable[rowIndex][newCellIndex]) {\n          return newCellIndex;\n        }\n      }\n    }\n\n    /**\r\n     * Recover info about row and cell and add information to virtual table.\r\n     * \r\n     * @param {object} row Row to recover information.\r\n     * @param {object} cell Cell to recover information.\r\n     */\n    function addCellInfoToVirtual(row, cell) {\n      var cellIndex = recoverCellIndex(row.rowIndex, cell.cellIndex);\n      var cellHasColspan = cell.colSpan > 1;\n      var cellHasRowspan = cell.rowSpan > 1;\n      var isThisSelectedCell = row.rowIndex === _startPoint.rowPos && cell.cellIndex === _startPoint.colPos;\n      setVirtualTablePosition(row.rowIndex, cellIndex, row, cell, cellHasRowspan, cellHasColspan, false);\n\n      // Add span rows to virtual Table.\n      var rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value, 10) : 0;\n      if (rowspanNumber > 1) {\n        for (var rp = 1; rp < rowspanNumber; rp++) {\n          var rowspanIndex = row.rowIndex + rp;\n          adjustStartPoint(rowspanIndex, cellIndex, cell, isThisSelectedCell);\n          setVirtualTablePosition(rowspanIndex, cellIndex, row, cell, true, cellHasColspan, true);\n        }\n      }\n\n      // Add span cols to virtual table.\n      var colspanNumber = cell.attributes.colSpan ? parseInt(cell.attributes.colSpan.value, 10) : 0;\n      if (colspanNumber > 1) {\n        for (var cp = 1; cp < colspanNumber; cp++) {\n          var cellspanIndex = recoverCellIndex(row.rowIndex, cellIndex + cp);\n          adjustStartPoint(row.rowIndex, cellspanIndex, cell, isThisSelectedCell);\n          setVirtualTablePosition(row.rowIndex, cellspanIndex, row, cell, cellHasRowspan, true, true);\n        }\n      }\n    }\n\n    /**\r\n     * Process validation and adjust of start point if needed\r\n     * \r\n     * @param {int} rowIndex \r\n     * @param {int} cellIndex \r\n     * @param {object} cell \r\n     * @param {bool} isSelectedCell \r\n     */\n    function adjustStartPoint(rowIndex, cellIndex, cell, isSelectedCell) {\n      if (rowIndex === _startPoint.rowPos && _startPoint.colPos >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell) {\n        _startPoint.colPos++;\n      }\n    }\n\n    /**\r\n     * Create virtual table of cells with all cells, including span cells.\r\n     */\n    function createVirtualTable() {\n      var rows = domTable.rows;\n      for (var rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n        var cells = rows[rowIndex].cells;\n        for (var cellIndex = 0; cellIndex < cells.length; cellIndex++) {\n          addCellInfoToVirtual(rows[rowIndex], cells[cellIndex]);\n        }\n      }\n    }\n\n    /**\r\n     * Get action to be applied on the cell.\r\n     * \r\n     * @param {object} cell virtual table cell to apply action\r\n     */\n    function getDeleteResultActionToCell(cell) {\n      switch (where) {\n        case TableResultAction.where.Column:\n          if (cell.isColSpan) {\n            return TableResultAction.resultAction.SubtractSpanCount;\n          }\n          break;\n        case TableResultAction.where.Row:\n          if (!cell.isVirtual && cell.isRowSpan) {\n            return TableResultAction.resultAction.AddCell;\n          } else if (cell.isRowSpan) {\n            return TableResultAction.resultAction.SubtractSpanCount;\n          }\n          break;\n      }\n      return TableResultAction.resultAction.RemoveCell;\n    }\n\n    /**\r\n     * Get action to be applied on the cell.\r\n     * \r\n     * @param {object} cell virtual table cell to apply action\r\n     */\n    function getAddResultActionToCell(cell) {\n      switch (where) {\n        case TableResultAction.where.Column:\n          if (cell.isColSpan) {\n            return TableResultAction.resultAction.SumSpanCount;\n          } else if (cell.isRowSpan && cell.isVirtual) {\n            return TableResultAction.resultAction.Ignore;\n          }\n          break;\n        case TableResultAction.where.Row:\n          if (cell.isRowSpan) {\n            return TableResultAction.resultAction.SumSpanCount;\n          } else if (cell.isColSpan && cell.isVirtual) {\n            return TableResultAction.resultAction.Ignore;\n          }\n          break;\n      }\n      return TableResultAction.resultAction.AddCell;\n    }\n\n    function init() {\n      setStartPoint();\n      createVirtualTable();\n    }\n\n    //////////////////////////////////////////////\n    // Public functions\n    //////////////////////////////////////////////\n\n    /**\r\n     * Recover array os what to do in table.\r\n     */\n    this.getActionList = function () {\n      var fixedRow = where === TableResultAction.where.Row ? _startPoint.rowPos : -1;\n      var fixedCol = where === TableResultAction.where.Column ? _startPoint.colPos : -1;\n\n      var actualPosition = 0;\n      var canContinue = true;\n      while (canContinue) {\n        var rowPosition = fixedRow >= 0 ? fixedRow : actualPosition;\n        var colPosition = fixedCol >= 0 ? fixedCol : actualPosition;\n        var row = _virtualTable[rowPosition];\n        if (!row) {\n          canContinue = false;\n          return _actionCellList;\n        }\n        var cell = row[colPosition];\n        if (!cell) {\n          canContinue = false;\n          return _actionCellList;\n        }\n\n        // Define action to be applied in this cell\n        var resultAction = TableResultAction.resultAction.Ignore;\n        switch (action) {\n          case TableResultAction.requestAction.Add:\n            resultAction = getAddResultActionToCell(cell);\n            break;\n          case TableResultAction.requestAction.Delete:\n            resultAction = getDeleteResultActionToCell(cell);\n            break;\n        }\n        _actionCellList.push(getActionCell(cell, resultAction, rowPosition, colPosition));\n        actualPosition++;\n      }\n\n      return _actionCellList;\n    };\n\n    init();\n  };\n  /**\r\n  * \r\n  * Where action occours enum.\r\n  */\n  TableResultAction.where = { 'Row': 0, 'Column': 1 };\n  /**\r\n  * \r\n  * Requested action to apply enum.\r\n  */\n  TableResultAction.requestAction = { 'Add': 0, 'Delete': 1 };\n  /**\r\n  * \r\n  * Result action to be executed enum.\r\n  */\n  TableResultAction.resultAction = { 'Ignore': 0, 'SubtractSpanCount': 1, 'RemoveCell': 2, 'AddCell': 3, 'SumSpanCount': 4 };\n\n  /**\r\n   * \r\n   * @class editing.Table\r\n   *\r\n   * Table\r\n   *\r\n   */\n  var Table = function Table() {\n    /**\r\n     * handle tab key\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Boolean} isShift\r\n     */\n    this.tab = function (rng, isShift) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table, dom.isCell);\n\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\n      if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n    };\n\n    /**\r\n     * Add a new row\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {String} position (top/bottom)\r\n     * @return {Node}\r\n     */\n    this.addRow = function (rng, position) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n\n      var currentTr = $(cell).closest('tr');\n      var trAttributes = this.recoverAttributes(currentTr);\n      var html = $('<tr' + trAttributes + '></tr>');\n\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row, TableResultAction.requestAction.Add, $(currentTr).closest('table')[0]);\n      var actions = vTable.getActionList();\n\n      for (var idCell = 0; idCell < actions.length; idCell++) {\n        var currentCell = actions[idCell];\n        var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n        switch (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n            html.append('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            break;\n          case TableResultAction.resultAction.SumSpanCount:\n            if (position === 'top') {\n              var baseCellTr = currentCell.baseCell.parent;\n              var isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest('tr').rowIndex) <= currentTr[0].rowIndex;\n              if (isTopFromRowSpan) {\n                var newTd = $('<div></div>').append($('<td' + tdAttributes + '>' + dom.blank + '</td>').removeAttr('rowspan')).html();\n                html.append(newTd);\n                break;\n              }\n            }\n            var rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n            rowspanNumber++;\n            currentCell.baseCell.setAttribute('rowSpan', rowspanNumber);\n            break;\n        }\n      }\n\n      if (position === 'top') {\n        currentTr.before(html);\n      } else {\n        var cellHasRowspan = cell.rowSpan > 1;\n        if (cellHasRowspan) {\n          var lastTrIndex = currentTr[0].rowIndex + (cell.rowSpan - 2);\n          $($(currentTr).parent().find('tr')[lastTrIndex]).after($(html));\n          return;\n        }\n        currentTr.after(html);\n      }\n    };\n\n    /**\r\n     * Add a new col\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {String} position (left/right)\r\n     * @return {Node}\r\n     */\n    this.addCol = function (rng, position) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = $(cell).closest('tr');\n      var rowsGroup = $(row).siblings();\n      rowsGroup.push(row);\n\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column, TableResultAction.requestAction.Add, $(row).closest('table')[0]);\n      var actions = vTable.getActionList();\n\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n        var currentCell = actions[actionIndex];\n        var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n        switch (currentCell.action) {\n          case TableResultAction.resultAction.AddCell:\n            if (position === 'right') {\n              $(currentCell.baseCell).after('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            } else {\n              $(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            }\n            break;\n          case TableResultAction.resultAction.SumSpanCount:\n            if (position === 'right') {\n              var colspanNumber = parseInt(currentCell.baseCell.colSpan, 10);\n              colspanNumber++;\n              currentCell.baseCell.setAttribute('colSpan', colspanNumber);\n            } else {\n              $(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\n            }\n            break;\n        }\n      }\n    };\n\n    /*\r\n    * Copy attributes from element.\r\n    *\r\n    * @param {object} Element to recover attributes.\r\n    * @return {string} Copied string elements.\r\n    */\n    this.recoverAttributes = function (el) {\n      var resultStr = '';\n\n      if (!el) {\n        return resultStr;\n      }\n\n      var attrList = el.attributes || [];\n\n      for (var i = 0; i < attrList.length; i++) {\n        if (attrList[i].name.toLowerCase() === 'id') {\n          continue;\n        }\n\n        if (attrList[i].specified) {\n          resultStr += ' ' + attrList[i].name + '=\\'' + attrList[i].value + '\\'';\n        }\n      }\n\n      return resultStr;\n    };\n\n    /**\r\n     * Delete current row\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\n    this.deleteRow = function (rng) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = $(cell).closest('tr');\n      var cellPos = row.children('td, th').index($(cell));\n      var rowPos = row[0].rowIndex;\n\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row, TableResultAction.requestAction.Delete, $(row).closest('table')[0]);\n      var actions = vTable.getActionList();\n\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex]) {\n          continue;\n        }\n\n        var baseCell = actions[actionIndex].baseCell;\n        var virtualPosition = actions[actionIndex].virtualTable;\n        var hasRowspan = baseCell.rowSpan && baseCell.rowSpan > 1;\n        var rowspanNumber = hasRowspan ? parseInt(baseCell.rowSpan, 10) : 0;\n        switch (actions[actionIndex].action) {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n          case TableResultAction.resultAction.AddCell:\n            var nextRow = row.next('tr')[0];\n            if (!nextRow) {\n              continue;\n            }\n            var cloneRow = row[0].cells[cellPos];\n            if (hasRowspan) {\n              if (rowspanNumber > 2) {\n                rowspanNumber--;\n                nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].setAttribute('rowSpan', rowspanNumber);\n                nextRow.cells[cellPos].innerHTML = '';\n              } else if (rowspanNumber === 2) {\n                nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                nextRow.cells[cellPos].removeAttribute('rowSpan');\n                nextRow.cells[cellPos].innerHTML = '';\n              }\n            }\n            continue;\n          case TableResultAction.resultAction.SubtractSpanCount:\n            if (hasRowspan) {\n              if (rowspanNumber > 2) {\n                rowspanNumber--;\n                baseCell.setAttribute('rowSpan', rowspanNumber);\n                if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n              } else if (rowspanNumber === 2) {\n                baseCell.removeAttribute('rowSpan');\n                if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n              }\n            }\n            continue;\n          case TableResultAction.resultAction.RemoveCell:\n            // Do not need remove cell because row will be deleted.\n            continue;\n        }\n      }\n      row.remove();\n    };\n\n    /**\r\n     * Delete current col\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\n    this.deleteCol = function (rng) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var row = $(cell).closest('tr');\n      var cellPos = row.children('td, th').index($(cell));\n\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column, TableResultAction.requestAction.Delete, $(row).closest('table')[0]);\n      var actions = vTable.getActionList();\n\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n        if (!actions[actionIndex]) {\n          continue;\n        }\n        switch (actions[actionIndex].action) {\n          case TableResultAction.resultAction.Ignore:\n            continue;\n          case TableResultAction.resultAction.SubtractSpanCount:\n            var baseCell = actions[actionIndex].baseCell;\n            var hasColspan = baseCell.colSpan && baseCell.colSpan > 1;\n            if (hasColspan) {\n              var colspanNumber = baseCell.colSpan ? parseInt(baseCell.colSpan, 10) : 0;\n              if (colspanNumber > 2) {\n                colspanNumber--;\n                baseCell.setAttribute('colSpan', colspanNumber);\n                if (baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n              } else if (colspanNumber === 2) {\n                baseCell.removeAttribute('colSpan');\n                if (baseCell.cellIndex === cellPos) {\n                  baseCell.innerHTML = '';\n                }\n              }\n            }\n            continue;\n          case TableResultAction.resultAction.RemoveCell:\n            dom.remove(actions[actionIndex].baseCell, true);\n            continue;\n        }\n      }\n    };\n\n    /**\r\n     * create empty table element\r\n     *\r\n     * @param {Number} rowCount\r\n     * @param {Number} colCount\r\n     * @return {Node}\r\n     */\n    this.createTable = function (colCount, rowCount, options) {\n      var tds = [],\n          tdHTML;\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank + '</td>');\n      }\n      tdHTML = tds.join('');\n\n      var trs = [],\n          trHTML;\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>' + tdHTML + '</tr>');\n      }\n      trHTML = trs.join('');\n      var $table = $('<table>' + trHTML + '</table>');\n      if (options && options.tableClassName) {\n        $table.addClass(options.tableClassName);\n      }\n\n      return $table[0];\n    };\n\n    /**\r\n     * Delete current table\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\n    this.deleteTable = function (rng) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      $(cell).closest('table').remove();\n    };\n  };\n\n  var KEY_BOGUS = 'bogus';\n\n  /**\r\n   * @class Editor\r\n   */\n  var Editor = function Editor(context) {\n    var self = this;\n\n    var $note = context.layoutInfo.note;\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    var editable = $editable[0];\n    var lastRange = null;\n\n    var style = new Style();\n    var table = new Table();\n    var typing = new Typing();\n    var bullet = new Bullet();\n    var history = new History($editable);\n\n    this.initialize = function () {\n      // bind custom events\n      $editable.on('keydown', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          context.triggerEvent('enter', event);\n        }\n        context.triggerEvent('keydown', event);\n\n        if (!event.isDefaultPrevented()) {\n          if (options.shortcuts) {\n            self.handleKeyMap(event);\n          } else {\n            self.preventDefaultEditableShortCuts(event);\n          }\n        }\n      }).on('keyup', function (event) {\n        context.triggerEvent('keyup', event);\n      }).on('focus', function (event) {\n        context.triggerEvent('focus', event);\n      }).on('blur', function (event) {\n        context.triggerEvent('blur', event);\n      }).on('mousedown', function (event) {\n        context.triggerEvent('mousedown', event);\n      }).on('mouseup', function (event) {\n        context.triggerEvent('mouseup', event);\n      }).on('scroll', function (event) {\n        context.triggerEvent('scroll', event);\n      }).on('paste', function (event) {\n        context.triggerEvent('paste', event);\n      });\n\n      // init content before set event\n      $editable.html(dom.html($note) || dom.emptyPara);\n\n      // [workaround] IE doesn't have input events for contentEditable\n      // - see: https://goo.gl/4bfIvA\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\n      $editable.on(changeEventName, func.debounce(function () {\n        context.triggerEvent('change', $editable.html());\n      }, 100));\n\n      $editor.on('focusin', function (event) {\n        context.triggerEvent('focusin', event);\n      }).on('focusout', function (event) {\n        context.triggerEvent('focusout', event);\n      });\n\n      if (!options.airMode) {\n        if (options.width) {\n          $editor.outerWidth(options.width);\n        }\n        if (options.height) {\n          $editable.outerHeight(options.height);\n        }\n        if (options.maxHeight) {\n          $editable.css('max-height', options.maxHeight);\n        }\n        if (options.minHeight) {\n          $editable.css('min-height', options.minHeight);\n        }\n      }\n\n      history.recordUndo();\n    };\n\n    this.destroy = function () {\n      $editable.off();\n    };\n\n    this.handleKeyMap = function (event) {\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      var keys = [];\n\n      if (event.metaKey) {\n        keys.push('CMD');\n      }\n      if (event.ctrlKey && !event.altKey) {\n        keys.push('CTRL');\n      }\n      if (event.shiftKey) {\n        keys.push('SHIFT');\n      }\n\n      var keyName = key.nameFromCode[event.keyCode];\n      if (keyName) {\n        keys.push(keyName);\n      }\n\n      var eventName = keyMap[keys.join('+')];\n      if (eventName) {\n        event.preventDefault();\n        context.invoke(eventName);\n      } else if (key.isEdit(event.keyCode)) {\n        this.afterCommand();\n      }\n    };\n\n    this.preventDefaultEditableShortCuts = function (event) {\n      // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\n      if ((event.ctrlKey || event.metaKey) && list.contains([66, 73, 85], event.keyCode)) {\n        event.preventDefault();\n      }\n    };\n\n    /**\r\n     * create range\r\n     * @return {WrappedRange}\r\n     */\n    this.createRange = function () {\n      this.focus();\n      return range.create(editable);\n    };\n\n    /**\r\n     * saveRange\r\n     *\r\n     * save current range\r\n     *\r\n     * @param {Boolean} [thenCollapse=false]\r\n     */\n    this.saveRange = function (thenCollapse) {\n      lastRange = this.createRange();\n      if (thenCollapse) {\n        lastRange.collapse().select();\n      }\n    };\n\n    /**\r\n     * restoreRange\r\n     *\r\n     * restore lately range\r\n     */\n    this.restoreRange = function () {\n      if (lastRange) {\n        lastRange.select();\n        this.focus();\n      }\n    };\n\n    this.saveTarget = function (node) {\n      $editable.data('target', node);\n    };\n\n    this.clearTarget = function () {\n      $editable.removeData('target');\n    };\n\n    this.restoreTarget = function () {\n      return $editable.data('target');\n    };\n\n    /**\r\n     * currentStyle\r\n     *\r\n     * current style\r\n     * @return {Object|Boolean} unfocus\r\n     */\n    this.currentStyle = function () {\n      var rng = range.create();\n      if (rng) {\n        rng = rng.normalize();\n      }\n      return rng ? style.current(rng) : style.fromNode($editable);\n    };\n\n    /**\r\n     * style from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\n    this.styleFromNode = function ($node) {\n      return style.fromNode($node);\n    };\n\n    /**\r\n     * undo\r\n     */\n    this.undo = function () {\n      context.triggerEvent('before.command', $editable.html());\n      history.undo();\n      context.triggerEvent('change', $editable.html());\n    };\n    context.memo('help.undo', lang.help.undo);\n\n    /**\r\n     * redo\r\n     */\n    this.redo = function () {\n      context.triggerEvent('before.command', $editable.html());\n      history.redo();\n      context.triggerEvent('change', $editable.html());\n    };\n    context.memo('help.redo', lang.help.redo);\n\n    /**\r\n     * before command\r\n     */\n    var beforeCommand = this.beforeCommand = function () {\n      context.triggerEvent('before.command', $editable.html());\n      // keep focus on editable before command execution\n      self.focus();\n    };\n\n    /**\r\n     * after command\r\n     * @param {Boolean} isPreventTrigger\r\n     */\n    var afterCommand = this.afterCommand = function (isPreventTrigger) {\n      history.recordUndo();\n      if (!isPreventTrigger) {\n        context.triggerEvent('change', $editable.html());\n      }\n    };\n\n    /* jshint ignore:start */\n    // native commands(with execCommand), generate function for execCommand\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'formatBlock', 'removeFormat', 'backColor', 'fontName'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx++) {\n      this[commands[idx]] = function (sCmd) {\n        return function (value) {\n          beforeCommand();\n          document.execCommand(sCmd, false, value);\n          afterCommand(true);\n        };\n      }(commands[idx]);\n      context.memo('help.' + commands[idx], lang.help[commands[idx]]);\n    }\n    /* jshint ignore:end */\n\n    /**\r\n     * handle tab key\r\n     */\n    this.tab = function () {\n      var rng = this.createRange();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng);\n      } else {\n        beforeCommand();\n        typing.insertTab(rng, options.tabSize);\n        afterCommand();\n      }\n    };\n    context.memo('help.tab', lang.help.tab);\n\n    /**\r\n     * handle shift+tab key\r\n     */\n    this.untab = function () {\n      var rng = this.createRange();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng, true);\n      }\n    };\n    context.memo('help.untab', lang.help.untab);\n\n    /**\r\n     * run given function between beforeCommand and afterCommand\r\n     */\n    this.wrapCommand = function (fn) {\n      return function () {\n        beforeCommand();\n        fn.apply(self, arguments);\n        afterCommand();\n      };\n    };\n\n    /**\r\n     * insert paragraph\r\n     */\n    this.insertParagraph = this.wrapCommand(function () {\n      typing.insertParagraph(editable);\n    });\n    context.memo('help.insertParagraph', lang.help.insertParagraph);\n\n    this.insertOrderedList = this.wrapCommand(function () {\n      bullet.insertOrderedList(editable);\n    });\n    context.memo('help.insertOrderedList', lang.help.insertOrderedList);\n\n    this.insertUnorderedList = this.wrapCommand(function () {\n      bullet.insertUnorderedList(editable);\n    });\n    context.memo('help.insertUnorderedList', lang.help.insertUnorderedList);\n\n    this.indent = this.wrapCommand(function () {\n      bullet.indent(editable);\n    });\n    context.memo('help.indent', lang.help.indent);\n\n    this.outdent = this.wrapCommand(function () {\n      bullet.outdent(editable);\n    });\n    context.memo('help.outdent', lang.help.outdent);\n\n    /**\r\n     * insert image\r\n     *\r\n     * @param {String} src\r\n     * @param {String|Function} param\r\n     * @return {Promise}\r\n     */\n    this.insertImage = function (src, param) {\n      return async.createImage(src, param).then(function ($image) {\n        beforeCommand();\n\n        if (typeof param === 'function') {\n          param($image);\n        } else {\n          if (typeof param === 'string') {\n            $image.attr('data-filename', param);\n          }\n          $image.css('width', Math.min($editable.width(), $image.width()));\n        }\n\n        $image.show();\n        range.create(editable).insertNode($image[0]);\n        range.createFromNodeAfter($image[0]).select();\n        afterCommand();\n      }).fail(function (e) {\n        context.triggerEvent('image.upload.error', e);\n      });\n    };\n\n    /**\r\n     * insertImages\r\n     * @param {File[]} files\r\n     */\n    this.insertImages = function (files) {\n      $.each(files, function (idx, file) {\n        var filename = file.name;\n        if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\n          context.triggerEvent('image.upload.error', lang.image.maximumFileSizeError);\n        } else {\n          async.readFileAsDataURL(file).then(function (dataURL) {\n            return self.insertImage(dataURL, filename);\n          }).fail(function () {\n            context.triggerEvent('image.upload.error');\n          });\n        }\n      });\n    };\n\n    /**\r\n     * insertImagesOrCallback\r\n     * @param {File[]} files\r\n     */\n    this.insertImagesOrCallback = function (files) {\n      var callbacks = options.callbacks;\n\n      // If onImageUpload options setted\n      if (callbacks.onImageUpload) {\n        context.triggerEvent('image.upload', files);\n        // else insert Image as dataURL\n      } else {\n        this.insertImages(files);\n      }\n    };\n\n    /**\r\n     * insertNode\r\n     * insert node\r\n     * @param {Node} node\r\n     */\n    this.insertNode = this.wrapCommand(function (node) {\n      var rng = this.createRange();\n      rng.insertNode(node);\n      range.createFromNodeAfter(node).select();\n    });\n\n    /**\r\n     * insert text\r\n     * @param {String} text\r\n     */\n    this.insertText = this.wrapCommand(function (text) {\n      var rng = this.createRange();\n      var textNode = rng.insertNode(dom.createText(text));\n      range.create(textNode, dom.nodeLength(textNode)).select();\n    });\n\n    /**\r\n     * return selected plain text\r\n     * @return {String} text\r\n     */\n    this.getSelectedText = function () {\n      var rng = this.createRange();\n\n      // if range on anchor, expand range with anchor\n      if (rng.isOnAnchor()) {\n        rng = range.createFromNode(dom.ancestor(rng.sc, dom.isAnchor));\n      }\n\n      return rng.toString();\n    };\n\n    /**\r\n     * paste HTML\r\n     * @param {String} markup\r\n     */\n    this.pasteHTML = this.wrapCommand(function (markup) {\n      var contents = this.createRange().pasteHTML(markup);\n      range.createFromNodeAfter(list.last(contents)).select();\n    });\n\n    /**\r\n     * formatBlock\r\n     *\r\n     * @param {String} tagName\r\n     */\n    this.formatBlock = this.wrapCommand(function (tagName, $target) {\n      var onApplyCustomStyle = context.options.callbacks.onApplyCustomStyle;\n      if (onApplyCustomStyle) {\n        onApplyCustomStyle.call(this, $target, context, this.onFormatBlock);\n      } else {\n        this.onFormatBlock(tagName);\n      }\n    });\n\n    this.onFormatBlock = function (tagName) {\n      // [workaround] for MSIE, IE need `<`\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\n      document.execCommand('FormatBlock', false, tagName);\n    };\n\n    this.formatPara = function () {\n      this.formatBlock('P');\n    };\n    context.memo('help.formatPara', lang.help.formatPara);\n\n    /* jshint ignore:start */\n    for (var idx = 1; idx <= 6; idx++) {\n      this['formatH' + idx] = function (idx) {\n        return function () {\n          this.formatBlock('H' + idx);\n        };\n      }(idx);\n      context.memo('help.formatH' + idx, lang.help['formatH' + idx]);\n    };\n    /* jshint ignore:end */\n\n    /**\r\n     * fontSize\r\n     *\r\n     * @param {String} value - px\r\n     */\n    this.fontSize = function (value) {\n      var rng = this.createRange();\n\n      if (rng && rng.isCollapsed()) {\n        var spans = style.styleNodes(rng);\n        var firstSpan = list.head(spans);\n\n        $(spans).css({\n          'font-size': value + 'px'\n        });\n\n        // [workaround] added styled bogus span for style\n        //  - also bogus character needed for cursor position\n        if (firstSpan && !dom.nodeLength(firstSpan)) {\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n          range.createFromNodeAfter(firstSpan.firstChild).select();\n          $editable.data(KEY_BOGUS, firstSpan);\n        }\n      } else {\n        beforeCommand();\n        $(style.styleNodes(rng)).css({\n          'font-size': value + 'px'\n        });\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * insert horizontal rule\r\n     */\n    this.insertHorizontalRule = this.wrapCommand(function () {\n      var hrNode = this.createRange().insertNode(dom.create('HR'));\n      if (hrNode.nextSibling) {\n        range.create(hrNode.nextSibling, 0).normalize().select();\n      }\n    });\n    context.memo('help.insertHorizontalRule', lang.help.insertHorizontalRule);\n\n    /**\r\n     * remove bogus node and character\r\n     */\n    this.removeBogus = function () {\n      var bogusNode = $editable.data(KEY_BOGUS);\n      if (!bogusNode) {\n        return;\n      }\n\n      var textNode = list.find(list.from(bogusNode.childNodes), dom.isText);\n\n      var bogusCharIdx = textNode.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);\n      if (bogusCharIdx !== -1) {\n        textNode.deleteData(bogusCharIdx, 1);\n      }\n\n      if (dom.isEmpty(bogusNode)) {\n        dom.remove(bogusNode);\n      }\n\n      $editable.removeData(KEY_BOGUS);\n    };\n\n    /**\r\n     * lineHeight\r\n     * @param {String} value\r\n     */\n    this.lineHeight = this.wrapCommand(function (value) {\n      style.stylePara(this.createRange(), {\n        lineHeight: value\n      });\n    });\n\n    /**\r\n     * unlink\r\n     *\r\n     * @type command\r\n     */\n    this.unlink = function () {\n      var rng = this.createRange();\n      if (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        rng = range.createFromNode(anchor);\n        rng.select();\n\n        beforeCommand();\n        document.execCommand('unlink');\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * create link (command)\r\n     *\r\n     * @param {Object} linkInfo\r\n     */\n    this.createLink = this.wrapCommand(function (linkInfo) {\n      var linkUrl = linkInfo.url;\n      var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.isNewWindow;\n      var rng = linkInfo.range || this.createRange();\n      var isTextChanged = rng.toString() !== linkText;\n\n      // handle spaced urls from input\n      if (typeof linkUrl === 'string') {\n        linkUrl = linkUrl.trim();\n      }\n\n      if (options.onCreateLink) {\n        linkUrl = options.onCreateLink(linkUrl);\n      } else {\n        // if url doesn't match an URL schema, set http:// as default\n        linkUrl = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(linkUrl) ? linkUrl : 'http://' + linkUrl;\n      }\n\n      var anchors = [];\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\n        anchors.push(anchor);\n      } else {\n        anchors = style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling: true,\n          onlyPartialContains: true\n        });\n      }\n\n      $.each(anchors, function (idx, anchor) {\n        $(anchor).attr('href', linkUrl);\n        if (isNewWindow) {\n          $(anchor).attr('target', '_blank');\n        } else {\n          $(anchor).removeAttr('target');\n        }\n      });\n\n      var startRange = range.createFromNodeBefore(list.head(anchors));\n      var startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNodeAfter(list.last(anchors));\n      var endPoint = endRange.getEndPoint();\n\n      range.create(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset).select();\n    });\n\n    /**\r\n     * returns link info\r\n     *\r\n     * @return {Object}\r\n     * @return {WrappedRange} return.range\r\n     * @return {String} return.text\r\n     * @return {Boolean} [return.isNewWindow=true]\r\n     * @return {String} [return.url=\"\"]\r\n     */\n    this.getLinkInfo = function () {\n      var rng = this.createRange().expand(dom.isAnchor);\n\n      // Get the first anchor on range(for edit).\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\n      var linkInfo = {\n        range: rng,\n        text: rng.toString(),\n        url: $anchor.length ? $anchor.attr('href') : ''\n      };\n\n      // Define isNewWindow when anchor exists.\n      if ($anchor.length) {\n        linkInfo.isNewWindow = $anchor.attr('target') === '_blank';\n      }\n\n      return linkInfo;\n    };\n\n    /**\r\n     * setting color\r\n     *\r\n     * @param {Object} sObjColor  color code\r\n     * @param {String} sObjColor.foreColor foreground color\r\n     * @param {String} sObjColor.backColor background color\r\n     */\n    this.color = this.wrapCommand(function (colorInfo) {\n      var foreColor = colorInfo.foreColor;\n      var backColor = colorInfo.backColor;\n\n      if (foreColor) {\n        document.execCommand('foreColor', false, foreColor);\n      }\n      if (backColor) {\n        document.execCommand('backColor', false, backColor);\n      }\n    });\n\n    /**\r\n     * Set foreground color\r\n     *\r\n     * @param {String} colorCode foreground color code\r\n     */\n    this.foreColor = this.wrapCommand(function (colorInfo) {\n      document.execCommand('styleWithCSS', false, true);\n      document.execCommand('foreColor', false, colorInfo);\n    });\n\n    /**\r\n     * insert Table\r\n     *\r\n     * @param {String} dimension of table (ex : \"5x5\")\r\n     */\n    this.insertTable = this.wrapCommand(function (dim) {\n      var dimension = dim.split('x');\n\n      var rng = this.createRange().deleteContents();\n      rng.insertNode(table.createTable(dimension[0], dimension[1], options));\n    });\n\n    /**\r\n    * @method addRow\r\n    *\r\n    *\r\n    */\n    this.addRow = function (position) {\n      var rng = this.createRange($editable);\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        beforeCommand();\n        table.addRow(rng, position);\n        afterCommand();\n      }\n    };\n\n    /**\r\n    * @method addCol\r\n    *\r\n    *\r\n    */\n    this.addCol = function (position) {\n      var rng = this.createRange($editable);\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        beforeCommand();\n        table.addCol(rng, position);\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * @method deleteRow\r\n     *\r\n     *\r\n     */\n    this.deleteRow = function () {\n      var rng = this.createRange($editable);\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        beforeCommand();\n        table.deleteRow(rng);\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * @method deleteCol\r\n     *\r\n     *\r\n     */\n    this.deleteCol = function () {\n      var rng = this.createRange($editable);\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        beforeCommand();\n        table.deleteCol(rng);\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * @method deleteTable\r\n     *\r\n     *\r\n     */\n    this.deleteTable = function () {\n      var rng = this.createRange($editable);\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        beforeCommand();\n        table.deleteTable(rng);\n        afterCommand();\n      }\n    };\n\n    /**\r\n     * float me\r\n     *\r\n     * @param {String} value\r\n     */\n    this.floatMe = this.wrapCommand(function (value) {\n      var $target = $(this.restoreTarget());\n      $target.toggleClass('note-float-left', value === 'left');\n      $target.toggleClass('note-float-right', value === 'right');\n      $target.css('float', value);\n    });\n\n    /**\r\n     * resize overlay element\r\n     * @param {String} value\r\n     */\n    this.resize = this.wrapCommand(function (value) {\n      var $target = $(this.restoreTarget());\n      $target.css({\n        width: value * 100 + '%',\n        height: ''\n      });\n    });\n\n    /**\r\n     * @param {Position} pos\r\n     * @param {jQuery} $target - target element\r\n     * @param {Boolean} [bKeepRatio] - keep ratio\r\n     */\n    this.resizeTo = function (pos, $target, bKeepRatio) {\n      var imageSize;\n      if (bKeepRatio) {\n        var newRatio = pos.y / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height: ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n      $target.css(imageSize);\n    };\n\n    /**\r\n     * remove media object\r\n     */\n    this.removeMedia = this.wrapCommand(function () {\n      var $target = $(this.restoreTarget()).detach();\n      context.triggerEvent('media.delete', $target, $editable);\n    });\n\n    /**\r\n     * returns whether editable area has focus or not.\r\n     */\n    this.hasFocus = function () {\n      return $editable.is(':focus');\n    };\n\n    /**\r\n     * set focus\r\n     */\n    this.focus = function () {\n      // [workaround] Screen will move when page is scolled in IE.\n      //  - do focus when not focused\n      if (!this.hasFocus()) {\n        $editable.focus();\n      }\n    };\n\n    /**\r\n     * returns whether contents is empty or not.\r\n     * @return {Boolean}\r\n     */\n    this.isEmpty = function () {\n      return dom.isEmpty($editable[0]) || dom.emptyPara === $editable.html();\n    };\n\n    /**\r\n     * Removes all contents and restores the editable instance to an _emptyPara_.\r\n     */\n    this.empty = function () {\n      context.invoke('code', dom.emptyPara);\n    };\n  };\n\n  var Clipboard = function Clipboard(context) {\n    var self = this;\n\n    var $editable = context.layoutInfo.editable;\n\n    this.events = {\n      'summernote.keydown': function summernoteKeydown(we, e) {\n        if (self.needKeydownHook()) {\n          if ((e.ctrlKey || e.metaKey) && e.keyCode === key.code.V) {\n            context.invoke('editor.saveRange');\n            self.$paste.focus();\n\n            setTimeout(function () {\n              self.pasteByHook();\n            }, 0);\n          }\n        }\n      }\n    };\n\n    this.needKeydownHook = function () {\n      return agent.isMSIE && agent.browserVersion > 10 || agent.isFF;\n    };\n\n    this.initialize = function () {\n      // [workaround] getting image from clipboard\n      //  - IE11 and Firefox: CTRL+v hook\n      //  - Webkit: event.clipboardData\n      if (this.needKeydownHook()) {\n        this.$paste = $('<div tabindex=\"-1\" />').attr('contenteditable', true).css({\n          position: 'absolute',\n          left: -100000,\n          opacity: 0\n        });\n        $editable.before(this.$paste);\n\n        this.$paste.on('paste', function (event) {\n          context.triggerEvent('paste', event);\n        });\n      } else {\n        $editable.on('paste', this.pasteByEvent);\n      }\n    };\n\n    this.destroy = function () {\n      if (this.needKeydownHook()) {\n        this.$paste.remove();\n        this.$paste = null;\n      }\n    };\n\n    this.pasteByHook = function () {\n      var node = this.$paste[0].firstChild;\n\n      var src = node && node.src;\n      if (dom.isImg(node) && src.indexOf('data:') === 0) {\n        var decodedData = atob(node.src.split(',')[1]);\n        var array = new Uint8Array(decodedData.length);\n        for (var i = 0; i < decodedData.length; i++) {\n          array[i] = decodedData.charCodeAt(i);\n        }\n\n        var blob = new Blob([array], { type: 'image/png' });\n        blob.name = 'clipboard.png';\n\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.focus');\n        context.invoke('editor.insertImagesOrCallback', [blob]);\n      } else {\n        var pasteContent = $('<div />').html(this.$paste.html()).html();\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.focus');\n\n        if (pasteContent) {\n          context.invoke('editor.pasteHTML', pasteContent);\n        }\n      }\n\n      this.$paste.empty();\n    };\n\n    /**\r\n     * paste by clipboard event\r\n     *\r\n     * @param {Event} event\r\n     */\n    this.pasteByEvent = function (event) {\n      var clipboardData = event.originalEvent.clipboardData;\n      if (clipboardData && clipboardData.items && clipboardData.items.length) {\n        var item = list.head(clipboardData.items);\n        if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\n          context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\n        }\n        context.invoke('editor.afterCommand');\n      }\n    };\n  };\n\n  var Dropzone = function Dropzone(context) {\n    var $document = $(document);\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n    var lang = options.langInfo;\n    var documentEventHandlers = {};\n\n    var $dropzone = $(['<div class=\"note-dropzone\">', '  <div class=\"note-dropzone-message\"/>', '</div>'].join('')).prependTo($editor);\n\n    var detachDocumentEvent = function detachDocumentEvent() {\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(documentEventHandlers).forEach(function (key) {\n        $document.off(key.substr(2).toLowerCase(), documentEventHandlers[key]);\n      });\n      documentEventHandlers = {};\n    };\n\n    /**\r\n     * attach Drag and Drop Events\r\n     */\n    this.initialize = function () {\n      if (options.disableDragAndDrop) {\n        // prevent default drop event\n        documentEventHandlers.onDrop = function (e) {\n          e.preventDefault();\n        };\n        $document.on('drop', documentEventHandlers.onDrop);\n      } else {\n        this.attachDragAndDropEvent();\n      }\n    };\n\n    /**\r\n     * attach Drag and Drop Events\r\n     */\n    this.attachDragAndDropEvent = function () {\n      var collection = $(),\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\n\n      documentEventHandlers.onDragenter = function (e) {\n        var isCodeview = context.invoke('codeview.isActivated');\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\n        if (!isCodeview && !collection.length && hasEditorSize) {\n          $editor.addClass('dragover');\n          $dropzone.width($editor.width());\n          $dropzone.height($editor.height());\n          $dropzoneMessage.text(lang.image.dragImageHere);\n        }\n        collection = collection.add(e.target);\n      };\n\n      documentEventHandlers.onDragleave = function (e) {\n        collection = collection.not(e.target);\n        if (!collection.length) {\n          $editor.removeClass('dragover');\n        }\n      };\n\n      documentEventHandlers.onDrop = function () {\n        collection = $();\n        $editor.removeClass('dragover');\n      };\n\n      // show dropzone on dragenter when dragging a object to document\n      // -but only if the editor is visible, i.e. has a positive width and height\n      $document.on('dragenter', documentEventHandlers.onDragenter).on('dragleave', documentEventHandlers.onDragleave).on('drop', documentEventHandlers.onDrop);\n\n      // change dropzone's message on hover.\n      $dropzone.on('dragenter', function () {\n        $dropzone.addClass('hover');\n        $dropzoneMessage.text(lang.image.dropImage);\n      }).on('dragleave', function () {\n        $dropzone.removeClass('hover');\n        $dropzoneMessage.text(lang.image.dragImageHere);\n      });\n\n      // attach dropImage\n      $dropzone.on('drop', function (event) {\n        var dataTransfer = event.originalEvent.dataTransfer;\n\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          event.preventDefault();\n          $editable.focus();\n          context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\n        } else {\n          $.each(dataTransfer.types, function (idx, type) {\n            var content = dataTransfer.getData(type);\n\n            if (type.toLowerCase().indexOf('text') > -1) {\n              context.invoke('editor.pasteHTML', content);\n            } else {\n              $(content).each(function () {\n                context.invoke('editor.insertNode', this);\n              });\n            }\n          });\n        }\n      }).on('dragover', false); // prevent default dragover event\n    };\n\n    this.destroy = function () {\n      detachDocumentEvent();\n    };\n  };\n\n  var CodeMirror;\n  if (agent.hasCodeMirror) {\n    if (agent.isSupportAmd) {\n      new Promise(function(resolve) { resolve(); }).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"59BI\")]; (function (cm) {\n        CodeMirror = cm;\n      }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);\n    } else {\n      CodeMirror = window.CodeMirror;\n    }\n  }\n\n  /**\r\n   * @class Codeview\r\n   */\n  var Codeview = function Codeview(context) {\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var $codable = context.layoutInfo.codable;\n    var options = context.options;\n\n    this.sync = function () {\n      var isCodeview = this.isActivated();\n      if (isCodeview && agent.hasCodeMirror) {\n        $codable.data('cmEditor').save();\n      }\n    };\n\n    /**\r\n     * @return {Boolean}\r\n     */\n    this.isActivated = function () {\n      return $editor.hasClass('codeview');\n    };\n\n    /**\r\n     * toggle codeview\r\n     */\n    this.toggle = function () {\n      if (this.isActivated()) {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n      context.triggerEvent('codeview.toggled');\n    };\n\n    /**\r\n     * activate code view\r\n     */\n    this.activate = function () {\n      $codable.val(dom.html($editable, options.prettifyHtml));\n      $codable.height($editable.height());\n\n      context.invoke('toolbar.updateCodeview', true);\n      $editor.addClass('codeview');\n      $codable.focus();\n\n      // activate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\n\n        // CodeMirror TernServer\n        if (options.codemirror.tern) {\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\n          cmEditor.ternServer = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n          });\n        }\n\n        // CodeMirror hasn't Padding.\n        cmEditor.setSize(null, $editable.outerHeight());\n        $codable.data('cmEditor', cmEditor);\n      }\n    };\n\n    /**\r\n     * deactivate code view\r\n     */\n    this.deactivate = function () {\n      // deactivate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = $codable.data('cmEditor');\n        $codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n      }\n\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\n      var isChange = $editable.html() !== value;\n\n      $editable.html(value);\n      $editable.height(options.height ? $codable.height() : 'auto');\n      $editor.removeClass('codeview');\n\n      if (isChange) {\n        context.triggerEvent('change', $editable.html(), $editable);\n      }\n\n      $editable.focus();\n\n      context.invoke('toolbar.updateCodeview', false);\n    };\n\n    this.destroy = function () {\n      if (this.isActivated()) {\n        this.deactivate();\n      }\n    };\n  };\n\n  var EDITABLE_PADDING = 24;\n\n  var Statusbar = function Statusbar(context) {\n    var $document = $(document);\n    var $statusbar = context.layoutInfo.statusbar;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n\n    this.initialize = function () {\n      if (options.airMode || options.disableResizeEditor) {\n        this.destroy();\n        return;\n      }\n\n      $statusbar.on('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        var editableTop = $editable.offset().top - $document.scrollTop();\n        var onMouseMove = function onMouseMove(event) {\n          var height = event.clientY - (editableTop + EDITABLE_PADDING);\n\n          height = options.minheight > 0 ? Math.max(height, options.minheight) : height;\n          height = options.maxHeight > 0 ? Math.min(height, options.maxHeight) : height;\n\n          $editable.height(height);\n        };\n\n        $document.on('mousemove', onMouseMove).one('mouseup', function () {\n          $document.off('mousemove', onMouseMove);\n        });\n      });\n    };\n\n    this.destroy = function () {\n      $statusbar.off();\n      $statusbar.remove();\n    };\n  };\n\n  var Fullscreen = function Fullscreen(context) {\n    var self = this;\n    var $editor = context.layoutInfo.editor;\n    var $toolbar = context.layoutInfo.toolbar;\n    var $editable = context.layoutInfo.editable;\n    var $codable = context.layoutInfo.codable;\n\n    var $window = $(window);\n    var $scrollbar = $('html, body');\n\n    this.resizeTo = function (size) {\n      $editable.css('height', size.h);\n      $codable.css('height', size.h);\n      if ($codable.data('cmeditor')) {\n        $codable.data('cmeditor').setsize(null, size.h);\n      }\n    };\n\n    this.onResize = function () {\n      self.resizeTo({\n        h: $window.height() - $toolbar.outerHeight()\n      });\n    };\n\n    /**\r\n     * toggle fullscreen\r\n     */\n    this.toggle = function () {\n      $editor.toggleClass('fullscreen');\n      if (this.isFullscreen()) {\n        $editable.data('orgHeight', $editable.css('height'));\n        $window.on('resize', this.onResize).trigger('resize');\n        $scrollbar.css('overflow', 'hidden');\n      } else {\n        $window.off('resize', this.onResize);\n        this.resizeTo({ h: $editable.data('orgHeight') });\n        $scrollbar.css('overflow', 'visible');\n      }\n\n      context.invoke('toolbar.updateFullscreen', this.isFullscreen());\n    };\n\n    this.isFullscreen = function () {\n      return $editor.hasClass('fullscreen');\n    };\n  };\n\n  var Handle = function Handle(context) {\n    var self = this;\n\n    var $document = $(document);\n    var $editingArea = context.layoutInfo.editingArea;\n    var options = context.options;\n\n    this.events = {\n      'summernote.mousedown': function summernoteMousedown(we, e) {\n        if (self.update(e.target)) {\n          e.preventDefault();\n        }\n      },\n      'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown': function summernoteKeyupSummernoteScrollSummernoteChangeSummernoteDialogShown() {\n        self.update();\n      },\n      'summernote.disable': function summernoteDisable() {\n        self.hide();\n      },\n      'summernote.codeview.toggled': function summernoteCodeviewToggled() {\n        self.update();\n      }\n    };\n\n    this.initialize = function () {\n      this.$handle = $(['<div class=\"note-handle\">', '<div class=\"note-control-selection\">', '<div class=\"note-control-selection-bg\"></div>', '<div class=\"note-control-holder note-control-nw\"></div>', '<div class=\"note-control-holder note-control-ne\"></div>', '<div class=\"note-control-holder note-control-sw\"></div>', '<div class=\"', options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing', ' note-control-se\"></div>', options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>', '</div>', '</div>'].join('')).prependTo($editingArea);\n\n      this.$handle.on('mousedown', function (event) {\n        if (dom.isControlSizing(event.target)) {\n          event.preventDefault();\n          event.stopPropagation();\n\n          var $target = self.$handle.find('.note-control-selection').data('target'),\n              posStart = $target.offset(),\n              scrollTop = $document.scrollTop();\n\n          var onMouseMove = function onMouseMove(event) {\n            context.invoke('editor.resizeTo', {\n              x: event.clientX - posStart.left,\n              y: event.clientY - (posStart.top - scrollTop)\n            }, $target, !event.shiftKey);\n\n            self.update($target[0]);\n          };\n\n          $document.on('mousemove', onMouseMove).one('mouseup', function (e) {\n            e.preventDefault();\n            $document.off('mousemove', onMouseMove);\n            context.invoke('editor.afterCommand');\n          });\n\n          if (!$target.data('ratio')) {\n            // original ratio.\n            $target.data('ratio', $target.height() / $target.width());\n          }\n        }\n      });\n\n      // Listen for scrolling on the handle overlay.\n      this.$handle.on('wheel', function (e) {\n        e.preventDefault();\n        self.update();\n      });\n    };\n\n    this.destroy = function () {\n      this.$handle.remove();\n    };\n\n    this.update = function (target) {\n      if (context.isDisabled()) {\n        return false;\n      }\n\n      var isImage = dom.isImg(target);\n      var $selection = this.$handle.find('.note-control-selection');\n\n      context.invoke('imagePopover.update', target);\n\n      if (isImage) {\n        var $image = $(target);\n        var position = $image.position();\n        var pos = {\n          left: position.left + parseInt($image.css('marginLeft'), 10),\n          top: position.top + parseInt($image.css('marginTop'), 10)\n        };\n\n        // exclude margin\n        var imageSize = {\n          w: $image.outerWidth(false),\n          h: $image.outerHeight(false)\n        };\n\n        $selection.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height: imageSize.h\n        }).data('target', $image); // save current image element.\n\n        var sizingText = imageSize.w + 'x' + imageSize.h;\n        $selection.find('.note-control-selection-info').text(sizingText);\n        context.invoke('editor.saveTarget', target);\n      } else {\n        this.hide();\n      }\n\n      return isImage;\n    };\n\n    /**\r\n     * hide\r\n     *\r\n     * @param {jQuery} $handle\r\n     */\n    this.hide = function () {\n      context.invoke('editor.clearTarget');\n      this.$handle.children().hide();\n    };\n  };\n\n  var AutoLink = function AutoLink(context) {\n    var self = this;\n    var defaultScheme = 'http://';\n    var linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\n    this.events = {\n      'summernote.keyup': function summernoteKeyup(we, e) {\n        if (!e.isDefaultPrevented()) {\n          self.handleKeyup(e);\n        }\n      },\n      'summernote.keydown': function summernoteKeydown(we, e) {\n        self.handleKeydown(e);\n      }\n    };\n\n    this.initialize = function () {\n      this.lastWordRange = null;\n    };\n\n    this.destroy = function () {\n      this.lastWordRange = null;\n    };\n\n    this.replace = function () {\n      if (!this.lastWordRange) {\n        return;\n      }\n\n      var keyword = this.lastWordRange.toString();\n      var match = keyword.match(linkPattern);\n\n      if (match && (match[1] || match[2])) {\n        var link = match[1] ? keyword : defaultScheme + keyword;\n        var node = $('<a />').html(keyword).attr('href', link)[0];\n\n        this.lastWordRange.insertNode(node);\n        this.lastWordRange = null;\n        context.invoke('editor.focus');\n      }\n    };\n\n    this.handleKeydown = function (e) {\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n        var wordRange = context.invoke('editor.createRange').getWordRange();\n        this.lastWordRange = wordRange;\n      }\n    };\n\n    this.handleKeyup = function (e) {\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n        this.replace();\n      }\n    };\n  };\n\n  /**\r\n   * textarea auto sync.\r\n   */\n  var AutoSync = function AutoSync(context) {\n    var $note = context.layoutInfo.note;\n\n    this.events = {\n      'summernote.change': function summernoteChange() {\n        $note.val(context.invoke('code'));\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return dom.isTextarea($note[0]);\n    };\n  };\n\n  var Placeholder = function Placeholder(context) {\n    var self = this;\n    var $editingArea = context.layoutInfo.editingArea;\n    var options = context.options;\n\n    this.events = {\n      'summernote.init summernote.change': function summernoteInitSummernoteChange() {\n        self.update();\n      },\n      'summernote.codeview.toggled': function summernoteCodeviewToggled() {\n        self.update();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !!options.placeholder;\n    };\n\n    this.initialize = function () {\n      this.$placeholder = $('<div class=\"note-placeholder\">');\n      this.$placeholder.on('click', function () {\n        context.invoke('focus');\n      }).text(options.placeholder).prependTo($editingArea);\n\n      this.update();\n    };\n\n    this.destroy = function () {\n      this.$placeholder.remove();\n    };\n\n    this.update = function () {\n      var isShow = !context.invoke('codeview.isActivated') && context.invoke('editor.isEmpty');\n      this.$placeholder.toggle(isShow);\n    };\n  };\n\n  var Buttons = function Buttons(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $toolbar = context.layoutInfo.toolbar;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    var invertedKeyMap = func.invertObject(options.keyMap[agent.isMac ? 'mac' : 'pc']);\n\n    var representShortcut = this.representShortcut = function (editorMethod) {\n      var shortcut = invertedKeyMap[editorMethod];\n      if (!options.shortcuts || !shortcut) {\n        return '';\n      }\n\n      if (agent.isMac) {\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\n      }\n\n      shortcut = shortcut.replace('BACKSLASH', '\\\\').replace('SLASH', '/').replace('LEFTBRACKET', '[').replace('RIGHTBRACKET', ']');\n\n      return ' (' + shortcut + ')';\n    };\n\n    this.initialize = function () {\n      this.addToolbarButtons();\n      this.addImagePopoverButtons();\n      this.addLinkPopoverButtons();\n      this.addTablePopoverButtons();\n      this.fontInstalledMap = {};\n    };\n\n    this.destroy = function () {\n      delete this.fontInstalledMap;\n    };\n\n    this.isFontInstalled = function (name) {\n      if (!self.fontInstalledMap.hasOwnProperty(name)) {\n        self.fontInstalledMap[name] = agent.isFontInstalled(name) || list.contains(options.fontNamesIgnoreCheck, name);\n      }\n\n      return self.fontInstalledMap[name];\n    };\n\n    this.addToolbarButtons = function () {\n      context.memo('button.style', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents(ui.icon(options.icons.magic), options),\n          tooltip: lang.style.style,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdown({\n          className: 'dropdown-style',\n          items: context.options.styleTags,\n          template: function template(item) {\n\n            if (typeof item === 'string') {\n              item = { tag: item, title: lang.style.hasOwnProperty(item) ? lang.style[item] : item };\n            }\n\n            var tag = item.tag;\n            var title = item.title;\n            var style = item.style ? ' style=\"' + item.style + '\" ' : '';\n            var className = item.className ? ' class=\"' + item.className + '\"' : '';\n\n            return '<' + tag + style + className + '>' + title + '</' + tag + '>';\n          },\n          click: context.createInvokeHandler('editor.formatBlock')\n        })]).render();\n      });\n\n      context.memo('button.bold', function () {\n        return ui.button({\n          className: 'note-btn-bold',\n          contents: ui.icon(options.icons.bold),\n          tooltip: lang.font.bold + representShortcut('bold'),\n          click: context.createInvokeHandlerAndUpdateState('editor.bold')\n        }).render();\n      });\n\n      context.memo('button.italic', function () {\n        return ui.button({\n          className: 'note-btn-italic',\n          contents: ui.icon(options.icons.italic),\n          tooltip: lang.font.italic + representShortcut('italic'),\n          click: context.createInvokeHandlerAndUpdateState('editor.italic')\n        }).render();\n      });\n\n      context.memo('button.underline', function () {\n        return ui.button({\n          className: 'note-btn-underline',\n          contents: ui.icon(options.icons.underline),\n          tooltip: lang.font.underline + representShortcut('underline'),\n          click: context.createInvokeHandlerAndUpdateState('editor.underline')\n        }).render();\n      });\n\n      context.memo('button.clear', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.eraser),\n          tooltip: lang.font.clear + representShortcut('removeFormat'),\n          click: context.createInvokeHandler('editor.removeFormat')\n        }).render();\n      });\n\n      context.memo('button.strikethrough', function () {\n        return ui.button({\n          className: 'note-btn-strikethrough',\n          contents: ui.icon(options.icons.strikethrough),\n          tooltip: lang.font.strikethrough + representShortcut('strikethrough'),\n          click: context.createInvokeHandlerAndUpdateState('editor.strikethrough')\n        }).render();\n      });\n\n      context.memo('button.superscript', function () {\n        return ui.button({\n          className: 'note-btn-superscript',\n          contents: ui.icon(options.icons.superscript),\n          tooltip: lang.font.superscript,\n          click: context.createInvokeHandlerAndUpdateState('editor.superscript')\n        }).render();\n      });\n\n      context.memo('button.subscript', function () {\n        return ui.button({\n          className: 'note-btn-subscript',\n          contents: ui.icon(options.icons.subscript),\n          tooltip: lang.font.subscript,\n          click: context.createInvokeHandlerAndUpdateState('editor.subscript')\n        }).render();\n      });\n\n      context.memo('button.fontname', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents('<span class=\"note-current-fontname\"/>', options),\n          tooltip: lang.font.name,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdownCheck({\n          className: 'dropdown-fontname',\n          checkClassName: options.icons.menuCheck,\n          items: options.fontNames.filter(self.isFontInstalled),\n          template: function template(item) {\n            return '<span style=\"font-family:' + item + '\">' + item + '</span>';\n          },\n          click: context.createInvokeHandlerAndUpdateState('editor.fontName')\n        })]).render();\n      });\n\n      context.memo('button.fontsize', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents('<span class=\"note-current-fontsize\"/>', options),\n          tooltip: lang.font.size,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdownCheck({\n          className: 'dropdown-fontsize',\n          checkClassName: options.icons.menuCheck,\n          items: options.fontSizes,\n          click: context.createInvokeHandlerAndUpdateState('editor.fontSize')\n        })]).render();\n      });\n\n      context.memo('button.color', function () {\n        return ui.buttonGroup({\n          className: 'note-color',\n          children: [ui.button({\n            className: 'note-current-color-button',\n            contents: ui.icon(options.icons.font + ' note-recent-color'),\n            tooltip: lang.color.recent,\n            click: function click(e) {\n              var $button = $(e.currentTarget);\n              context.invoke('editor.color', {\n                backColor: $button.attr('data-backColor'),\n                foreColor: $button.attr('data-foreColor')\n              });\n            },\n            callback: function callback($button) {\n              var $recentColor = $button.find('.note-recent-color');\n              $recentColor.css('background-color', '#FFFF00');\n              $button.attr('data-backColor', '#FFFF00');\n            }\n          }), ui.button({\n            className: 'dropdown-toggle',\n            contents: ui.dropdownButtonContents('', options),\n            tooltip: lang.color.more,\n            data: {\n              toggle: 'dropdown'\n            }\n          }), ui.dropdown({\n            items: ['<div class=\"note-palette\">', '  <div class=\"note-palette-title\">' + lang.color.background + '</div>', '  <div>', '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"backColor\" data-value=\"inherit\">', lang.color.transparent, '    </button>', '  </div>', '  <div class=\"note-holder\" data-event=\"backColor\"/>', '</div>', '<div class=\"note-palette\">', '  <div class=\"note-palette-title\">' + lang.color.foreground + '</div>', '  <div>', '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"removeFormat\" data-value=\"foreColor\">', lang.color.resetToDefault, '    </button>', '  </div>', '  <div class=\"note-holder\" data-event=\"foreColor\"/>', '</div>'].join(''),\n            callback: function callback($dropdown) {\n              $dropdown.find('.note-holder').each(function () {\n                var $holder = $(this);\n                $holder.append(ui.palette({\n                  colors: options.colors,\n                  eventName: $holder.data('event'),\n                  tooltip: options.tooltip\n                }).render());\n              });\n            },\n            click: function click(event) {\n              var $button = $(event.target);\n              var eventName = $button.data('event');\n              var value = $button.data('value');\n\n              if (eventName && value) {\n                var key = eventName === 'backColor' ? 'background-color' : 'color';\n                var $color = $button.closest('.note-color').find('.note-recent-color');\n                var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n\n                $color.css(key, value);\n                $currentButton.attr('data-' + eventName, value);\n                context.invoke('editor.' + eventName, value);\n              }\n            }\n          })]\n        }).render();\n      });\n\n      context.memo('button.ul', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.unorderedlist),\n          tooltip: lang.lists.unordered + representShortcut('insertUnorderedList'),\n          click: context.createInvokeHandler('editor.insertUnorderedList')\n        }).render();\n      });\n\n      context.memo('button.ol', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.orderedlist),\n          tooltip: lang.lists.ordered + representShortcut('insertOrderedList'),\n          click: context.createInvokeHandler('editor.insertOrderedList')\n        }).render();\n      });\n\n      var justifyLeft = ui.button({\n        contents: ui.icon(options.icons.alignLeft),\n        tooltip: lang.paragraph.left + representShortcut('justifyLeft'),\n        click: context.createInvokeHandler('editor.justifyLeft')\n      });\n\n      var justifyCenter = ui.button({\n        contents: ui.icon(options.icons.alignCenter),\n        tooltip: lang.paragraph.center + representShortcut('justifyCenter'),\n        click: context.createInvokeHandler('editor.justifyCenter')\n      });\n\n      var justifyRight = ui.button({\n        contents: ui.icon(options.icons.alignRight),\n        tooltip: lang.paragraph.right + representShortcut('justifyRight'),\n        click: context.createInvokeHandler('editor.justifyRight')\n      });\n\n      var justifyFull = ui.button({\n        contents: ui.icon(options.icons.alignJustify),\n        tooltip: lang.paragraph.justify + representShortcut('justifyFull'),\n        click: context.createInvokeHandler('editor.justifyFull')\n      });\n\n      var outdent = ui.button({\n        contents: ui.icon(options.icons.outdent),\n        tooltip: lang.paragraph.outdent + representShortcut('outdent'),\n        click: context.createInvokeHandler('editor.outdent')\n      });\n\n      var indent = ui.button({\n        contents: ui.icon(options.icons.indent),\n        tooltip: lang.paragraph.indent + representShortcut('indent'),\n        click: context.createInvokeHandler('editor.indent')\n      });\n\n      context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\n      context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\n      context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\n      context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\n      context.memo('button.outdent', func.invoke(outdent, 'render'));\n      context.memo('button.indent', func.invoke(indent, 'render'));\n\n      context.memo('button.paragraph', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents(ui.icon(options.icons.alignLeft), options),\n          tooltip: lang.paragraph.paragraph,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdown([ui.buttonGroup({\n          className: 'note-align',\n          children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\n        }), ui.buttonGroup({\n          className: 'note-list',\n          children: [outdent, indent]\n        })])]).render();\n      });\n\n      context.memo('button.height', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents(ui.icon(options.icons.textHeight), options),\n          tooltip: lang.font.height,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdownCheck({\n          items: options.lineHeights,\n          checkClassName: options.icons.menuCheck,\n          className: 'dropdown-line-height',\n          click: context.createInvokeHandler('editor.lineHeight')\n        })]).render();\n      });\n\n      context.memo('button.table', function () {\n        return ui.buttonGroup([ui.button({\n          className: 'dropdown-toggle',\n          contents: ui.dropdownButtonContents(ui.icon(options.icons.table), options),\n          tooltip: lang.table.table,\n          data: {\n            toggle: 'dropdown'\n          }\n        }), ui.dropdown({\n          className: 'note-table',\n          items: ['<div class=\"note-dimension-picker\">', '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>', '  <div class=\"note-dimension-picker-highlighted\"/>', '  <div class=\"note-dimension-picker-unhighlighted\"/>', '</div>', '<div class=\"note-dimension-display\">1 x 1</div>'].join('')\n        })], {\n          callback: function callback($node) {\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\n            $catcher.css({\n              width: options.insertTableMaxSize.col + 'em',\n              height: options.insertTableMaxSize.row + 'em'\n            }).mousedown(context.createInvokeHandler('editor.insertTable')).on('mousemove', self.tableMoveHandler);\n          }\n        }).render();\n      });\n\n      context.memo('button.link', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.link),\n          tooltip: lang.link.link + representShortcut('linkDialog.show'),\n          click: context.createInvokeHandler('linkDialog.show')\n        }).render();\n      });\n\n      context.memo('button.picture', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.picture),\n          tooltip: lang.image.image,\n          click: context.createInvokeHandler('imageDialog.show')\n        }).render();\n      });\n\n      context.memo('button.video', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.video),\n          tooltip: lang.video.video,\n          click: context.createInvokeHandler('videoDialog.show')\n        }).render();\n      });\n\n      context.memo('button.hr', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.minus),\n          tooltip: lang.hr.insert + representShortcut('insertHorizontalRule'),\n          click: context.createInvokeHandler('editor.insertHorizontalRule')\n        }).render();\n      });\n\n      context.memo('button.fullscreen', function () {\n        return ui.button({\n          className: 'btn-fullscreen',\n          contents: ui.icon(options.icons.arrowsAlt),\n          tooltip: lang.options.fullscreen,\n          click: context.createInvokeHandler('fullscreen.toggle')\n        }).render();\n      });\n\n      context.memo('button.codeview', function () {\n        return ui.button({\n          className: 'btn-codeview',\n          contents: ui.icon(options.icons.code),\n          tooltip: lang.options.codeview,\n          click: context.createInvokeHandler('codeview.toggle')\n        }).render();\n      });\n\n      context.memo('button.redo', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.redo),\n          tooltip: lang.history.redo + representShortcut('redo'),\n          click: context.createInvokeHandler('editor.redo')\n        }).render();\n      });\n\n      context.memo('button.undo', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.undo),\n          tooltip: lang.history.undo + representShortcut('undo'),\n          click: context.createInvokeHandler('editor.undo')\n        }).render();\n      });\n\n      context.memo('button.help', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.question),\n          tooltip: lang.options.help,\n          click: context.createInvokeHandler('helpDialog.show')\n        }).render();\n      });\n    };\n\n    /**\r\n     * image : [\r\n     *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n     *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\r\n     *   ['remove', ['removeMedia']]\r\n     * ],\r\n     */\n    this.addImagePopoverButtons = function () {\n      // Image Size Buttons\n      context.memo('button.imageSize100', function () {\n        return ui.button({\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\n          tooltip: lang.image.resizeFull,\n          click: context.createInvokeHandler('editor.resize', '1')\n        }).render();\n      });\n      context.memo('button.imageSize50', function () {\n        return ui.button({\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\n          tooltip: lang.image.resizeHalf,\n          click: context.createInvokeHandler('editor.resize', '0.5')\n        }).render();\n      });\n      context.memo('button.imageSize25', function () {\n        return ui.button({\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\n          tooltip: lang.image.resizeQuarter,\n          click: context.createInvokeHandler('editor.resize', '0.25')\n        }).render();\n      });\n\n      // Float Buttons\n      context.memo('button.floatLeft', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignLeft),\n          tooltip: lang.image.floatLeft,\n          click: context.createInvokeHandler('editor.floatMe', 'left')\n        }).render();\n      });\n\n      context.memo('button.floatRight', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignRight),\n          tooltip: lang.image.floatRight,\n          click: context.createInvokeHandler('editor.floatMe', 'right')\n        }).render();\n      });\n\n      context.memo('button.floatNone', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignJustify),\n          tooltip: lang.image.floatNone,\n          click: context.createInvokeHandler('editor.floatMe', 'none')\n        }).render();\n      });\n\n      // Remove Buttons\n      context.memo('button.removeMedia', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.trash),\n          tooltip: lang.image.remove,\n          click: context.createInvokeHandler('editor.removeMedia')\n        }).render();\n      });\n    };\n\n    this.addLinkPopoverButtons = function () {\n      context.memo('button.linkDialogShow', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.link),\n          tooltip: lang.link.edit,\n          click: context.createInvokeHandler('linkDialog.show')\n        }).render();\n      });\n\n      context.memo('button.unlink', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.unlink),\n          tooltip: lang.link.unlink,\n          click: context.createInvokeHandler('editor.unlink')\n        }).render();\n      });\n    };\n\n    /**\r\n     * table : [\r\n     *  ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\r\n     *  ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\r\n     * ],\r\n     */\n    this.addTablePopoverButtons = function () {\n      context.memo('button.addRowUp', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.rowAbove),\n          tooltip: lang.table.addRowAbove,\n          click: context.createInvokeHandler('editor.addRow', 'top')\n        }).render();\n      });\n      context.memo('button.addRowDown', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.rowBelow),\n          tooltip: lang.table.addRowBelow,\n          click: context.createInvokeHandler('editor.addRow', 'bottom')\n        }).render();\n      });\n      context.memo('button.addColLeft', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.colBefore),\n          tooltip: lang.table.addColLeft,\n          click: context.createInvokeHandler('editor.addCol', 'left')\n        }).render();\n      });\n      context.memo('button.addColRight', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.colAfter),\n          tooltip: lang.table.addColRight,\n          click: context.createInvokeHandler('editor.addCol', 'right')\n        }).render();\n      });\n      context.memo('button.deleteRow', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.rowRemove),\n          tooltip: lang.table.delRow,\n          click: context.createInvokeHandler('editor.deleteRow')\n        }).render();\n      });\n      context.memo('button.deleteCol', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.colRemove),\n          tooltip: lang.table.delCol,\n          click: context.createInvokeHandler('editor.deleteCol')\n        }).render();\n      });\n      context.memo('button.deleteTable', function () {\n        return ui.button({\n          className: 'btn-md',\n          contents: ui.icon(options.icons.trash),\n          tooltip: lang.table.delTable,\n          click: context.createInvokeHandler('editor.deleteTable')\n        }).render();\n      });\n    };\n\n    this.build = function ($container, groups) {\n      for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\n        var group = groups[groupIdx];\n        var groupName = group[0];\n        var buttons = group[1];\n\n        var $group = ui.buttonGroup({\n          className: 'note-' + groupName\n        }).render();\n\n        for (var idx = 0, len = buttons.length; idx < len; idx++) {\n          var button = context.memo('button.' + buttons[idx]);\n          if (button) {\n            $group.append(typeof button === 'function' ? button(context) : button);\n          }\n        }\n        $group.appendTo($container);\n      }\n    };\n\n    /**\r\n     * @param {jQuery} [$container]\r\n     */\n    this.updateCurrentStyle = function ($container) {\n      var $cont = $container || $toolbar;\n\n      var styleInfo = context.invoke('editor.currentStyle');\n      this.updateBtnStates($cont, {\n        '.note-btn-bold': function noteBtnBold() {\n          return styleInfo['font-bold'] === 'bold';\n        },\n        '.note-btn-italic': function noteBtnItalic() {\n          return styleInfo['font-italic'] === 'italic';\n        },\n        '.note-btn-underline': function noteBtnUnderline() {\n          return styleInfo['font-underline'] === 'underline';\n        },\n        '.note-btn-subscript': function noteBtnSubscript() {\n          return styleInfo['font-subscript'] === 'subscript';\n        },\n        '.note-btn-superscript': function noteBtnSuperscript() {\n          return styleInfo['font-superscript'] === 'superscript';\n        },\n        '.note-btn-strikethrough': function noteBtnStrikethrough() {\n          return styleInfo['font-strikethrough'] === 'strikethrough';\n        }\n      });\n\n      if (styleInfo['font-family']) {\n        var fontNames = styleInfo['font-family'].split(',').map(function (name) {\n          return name.replace(/[\\'\\\"]/g, '').replace(/\\s+$/, '').replace(/^\\s+/, '');\n        });\n        var fontName = list.find(fontNames, self.isFontInstalled);\n\n        $cont.find('.dropdown-fontname a').each(function () {\n          var $item = $(this);\n          // always compare string to avoid creating another func.\n          var isChecked = $item.data('value') + '' === fontName + '';\n          $item.toggleClass('checked', isChecked);\n        });\n        $cont.find('.note-current-fontname').text(fontName);\n      }\n\n      if (styleInfo['font-size']) {\n        var fontSize = styleInfo['font-size'];\n        $cont.find('.dropdown-fontsize a').each(function () {\n          var $item = $(this);\n          // always compare with string to avoid creating another func.\n          var isChecked = $item.data('value') + '' === fontSize + '';\n          $item.toggleClass('checked', isChecked);\n        });\n        $cont.find('.note-current-fontsize').text(fontSize);\n      }\n\n      if (styleInfo['line-height']) {\n        var lineHeight = styleInfo['line-height'];\n        $cont.find('.dropdown-line-height li a').each(function () {\n          // always compare with string to avoid creating another func.\n          var isChecked = $(this).data('value') + '' === lineHeight + '';\n          this.className = isChecked ? 'checked' : '';\n        });\n      }\n    };\n\n    this.updateBtnStates = function ($container, infos) {\n      $.each(infos, function (selector, pred) {\n        ui.toggleBtnActive($container.find(selector), pred());\n      });\n    };\n\n    this.tableMoveHandler = function (event) {\n      var PX_PER_EM = 18;\n      var $picker = $(event.target.parentNode); // target is mousecatcher\n      var $dimensionDisplay = $picker.next();\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\n\n      var posOffset;\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\n      if (event.offsetX === undefined) {\n        var posCatcher = $(event.target).offset();\n        posOffset = {\n          x: event.pageX - posCatcher.left,\n          y: event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset = {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n      var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\n      $catcher.data('value', dim.c + 'x' + dim.r);\n\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\n        $unhighlighted.css({ width: dim.c + 1 + 'em' });\n      }\n\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\n        $unhighlighted.css({ height: dim.r + 1 + 'em' });\n      }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    };\n  };\n\n  var Toolbar = function Toolbar(context) {\n    var ui = $.summernote.ui;\n\n    var $note = context.layoutInfo.note;\n    var $editor = context.layoutInfo.editor;\n    var $toolbar = context.layoutInfo.toolbar;\n    var options = context.options;\n\n    this.shouldInitialize = function () {\n      return !options.airMode;\n    };\n\n    this.initialize = function () {\n      options.toolbar = options.toolbar || [];\n\n      if (!options.toolbar.length) {\n        $toolbar.hide();\n      } else {\n        context.invoke('buttons.build', $toolbar, options.toolbar);\n      }\n\n      if (options.toolbarContainer) {\n        $toolbar.appendTo(options.toolbarContainer);\n      }\n\n      this.changeContainer(false);\n\n      $note.on('summernote.keyup summernote.mouseup summernote.change', function () {\n        context.invoke('buttons.updateCurrentStyle');\n      });\n\n      context.invoke('buttons.updateCurrentStyle');\n    };\n\n    this.destroy = function () {\n      $toolbar.children().remove();\n    };\n\n    this.changeContainer = function (isFullscreen) {\n      if (isFullscreen) {\n        $toolbar.prependTo($editor);\n      } else {\n        if (options.toolbarContainer) {\n          $toolbar.appendTo(options.toolbarContainer);\n        }\n      }\n    };\n\n    this.updateFullscreen = function (isFullscreen) {\n      ui.toggleBtnActive($toolbar.find('.btn-fullscreen'), isFullscreen);\n\n      this.changeContainer(isFullscreen);\n    };\n\n    this.updateCodeview = function (isCodeview) {\n      ui.toggleBtnActive($toolbar.find('.btn-codeview'), isCodeview);\n      if (isCodeview) {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n    };\n\n    this.activate = function (isIncludeCodeview) {\n      var $btn = $toolbar.find('button');\n      if (!isIncludeCodeview) {\n        $btn = $btn.not('.btn-codeview');\n      }\n      ui.toggleBtn($btn, true);\n    };\n\n    this.deactivate = function (isIncludeCodeview) {\n      var $btn = $toolbar.find('button');\n      if (!isIncludeCodeview) {\n        $btn = $btn.not('.btn-codeview');\n      }\n      ui.toggleBtn($btn, false);\n    };\n  };\n\n  var LinkDialog = function LinkDialog(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = '<div class=\"form-group note-form-group\">' + '<label class=\"note-form-label\">' + lang.link.textToDisplay + '</label>' + '<input class=\"note-link-text form-control ' + ' note-form-control  note-input\" type=\"text\" />' + '</div>' + '<div class=\"form-group note-form-group\">' + '<label class=\"note-form-label\">' + lang.link.url + '</label>' + '<input class=\"note-link-url form-control note-form-control ' + 'note-input\" type=\"text\" value=\"http://\" />' + '</div>' + (!options.disableLinkTarget ? $('<div/>').append(ui.checkbox({ id: 'sn-checkbox-open-in-new-window', text: lang.link.openInNewWindow, checked: true }).render()).html() : '');\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary ' + 'note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        className: 'link-dialog',\n        title: lang.link.insert,\n        fade: options.dialogsFade,\n        body: body,\n        footer: footer\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    /**\r\n     * toggle update button\r\n     */\n    this.toggleLinkBtn = function ($linkBtn, $linkText, $linkUrl) {\n      ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\n    };\n\n    /**\r\n     * Show link dialog and set event handlers on dialog controls.\r\n     *\r\n     * @param {Object} linkInfo\r\n     * @return {Promise}\r\n     */\n    this.showLinkDialog = function (linkInfo) {\n      return $.Deferred(function (deferred) {\n        var $linkText = self.$dialog.find('.note-link-text'),\n            $linkUrl = self.$dialog.find('.note-link-url'),\n            $linkBtn = self.$dialog.find('.note-link-btn'),\n            $openInNewWindow = self.$dialog.find('input[type=checkbox]');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          // if no url was given, copy text to url\n          if (!linkInfo.url) {\n            linkInfo.url = linkInfo.text;\n          }\n\n          $linkText.val(linkInfo.text);\n\n          var handleLinkTextUpdate = function handleLinkTextUpdate() {\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n            // if linktext was modified by keyup,\n            // stop cloning text from linkUrl\n            linkInfo.text = $linkText.val();\n          };\n\n          $linkText.on('input', handleLinkTextUpdate).on('paste', function () {\n            setTimeout(handleLinkTextUpdate, 0);\n          });\n\n          var handleLinkUrlUpdate = function handleLinkUrlUpdate() {\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n            // display same link on `Text to display` input\n            // when create a new link\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n            }\n          };\n\n          $linkUrl.on('input', handleLinkUrlUpdate).on('paste', function () {\n            setTimeout(handleLinkUrlUpdate, 0);\n          }).val(linkInfo.url).trigger('focus');\n\n          self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n          self.bindEnterKey($linkUrl, $linkBtn);\n          self.bindEnterKey($linkText, $linkBtn);\n\n          var isChecked = linkInfo.isNewWindow !== undefined ? linkInfo.isNewWindow : context.options.linkTargetBlank;\n\n          $openInNewWindow.prop('checked', isChecked);\n\n          $linkBtn.one('click', function (event) {\n            event.preventDefault();\n\n            deferred.resolve({\n              range: linkInfo.range,\n              url: $linkUrl.val(),\n              text: $linkText.val(),\n              isNewWindow: $openInNewWindow.is(':checked')\n            });\n            ui.hideDialog(self.$dialog);\n          });\n        });\n\n        ui.onDialogHidden(self.$dialog, function () {\n          // detach events\n          $linkText.off('input paste keypress');\n          $linkUrl.off('input paste keypress');\n          $linkBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      }).promise();\n    };\n\n    /**\r\n     * @param {Object} layoutInfo\r\n     */\n    this.show = function () {\n      var linkInfo = context.invoke('editor.getLinkInfo');\n\n      context.invoke('editor.saveRange');\n      this.showLinkDialog(linkInfo).then(function (linkInfo) {\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.createLink', linkInfo);\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n    context.memo('help.linkDialog.show', options.langInfo.help['linkDialog.show']);\n  };\n\n  var LinkPopover = function LinkPopover(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    this.events = {\n      'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteChangeSummernoteScroll() {\n        self.update();\n      },\n      'summernote.disable summernote.dialog.shown': function summernoteDisableSummernoteDialogShown() {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !list.isEmpty(options.popover.link);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-link-popover',\n        callback: function callback($node) {\n          var $content = $node.find('.popover-content,.note-popover-content');\n          $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n        }\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.link);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function () {\n      // Prevent focusing on editable when invoke('code') is executed\n      if (!context.invoke('editor.hasFocus')) {\n        this.hide();\n        return;\n      }\n\n      var rng = context.invoke('editor.createRange');\n      if (rng.isCollapsed() && rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        var href = $(anchor).attr('href');\n        this.$popover.find('a').attr('href', href).html(href);\n\n        var pos = dom.posFromPlaceholder(anchor);\n        this.$popover.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var ImageDialog = function ImageDialog(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var imageLimitation = '';\n      if (options.maximumImageFileSize) {\n        var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\n        var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 + ' ' + ' KMGTP'[unit] + 'B';\n        imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\n      }\n\n      var body = '<div class=\"form-group note-form-group note-group-select-from-files\">' + '<label class=\"note-form-label\">' + lang.image.selectFromFiles + '</label>' + '<input class=\"note-image-input form-control note-form-control note-input\" ' + ' type=\"file\" name=\"files\" accept=\"image/jpg,image/jpeg,image/png,image/gif,image/webp,image/bmp\" multiple=\"multiple\" />' + imageLimitation + '</div>' + '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">' + '<label class=\"note-form-label\">' + lang.image.url + '</label>' + '<input class=\"note-image-url form-control note-form-control note-input ' + ' col-md-12\" type=\"text\" />' + '</div>';\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary ' + 'note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        title: lang.image.insert,\n        fade: options.dialogsFade,\n        body: body,\n        footer: footer\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    this.show = function () {\n      context.invoke('editor.saveRange');\n      this.showImageDialog().then(function (data) {\n        // [workaround] hide dialog before restore range for IE range focus\n        ui.hideDialog(self.$dialog);\n        context.invoke('editor.restoreRange');\n\n        if (typeof data === 'string') {\n          // image url\n          context.invoke('editor.insertImage', data);\n        } else {\n          // array of files\n          context.invoke('editor.insertImagesOrCallback', data);\n        }\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\n    this.showImageDialog = function () {\n      return $.Deferred(function (deferred) {\n        var $imageInput = self.$dialog.find('.note-image-input'),\n            $imageUrl = self.$dialog.find('.note-image-url'),\n            $imageBtn = self.$dialog.find('.note-image-btn');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          // Cloning imageInput to clear element.\n          $imageInput.replaceWith($imageInput.clone().on('change', function () {\n            deferred.resolve(this.files || this.value);\n          }).val(''));\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($imageUrl.val());\n          });\n\n          $imageUrl.on('keyup paste', function () {\n            var url = $imageUrl.val();\n            ui.toggleBtn($imageBtn, url);\n          }).val('').trigger('focus');\n          self.bindEnterKey($imageUrl, $imageBtn);\n        });\n\n        ui.onDialogHidden(self.$dialog, function () {\n          $imageInput.off('change');\n          $imageUrl.off('keyup paste keypress');\n          $imageBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      });\n    };\n  };\n\n  /**\r\n   * Image popover module\r\n   *  mouse events that show/hide popover will be handled by Handle.js.\r\n   *  Handle.js will receive the events and invoke 'imagePopover.update'.\r\n   */\n  var ImagePopover = function ImagePopover(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editable = context.layoutInfo.editable;\n    var editable = $editable[0];\n    var options = context.options;\n\n    this.events = {\n      'summernote.disable': function summernoteDisable() {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !list.isEmpty(options.popover.image);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-image-popover'\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.image);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function (target) {\n      if (dom.isImg(target)) {\n        var pos = dom.posFromPlaceholder(target);\n        var posEditor = dom.posFromPlaceholder(editable);\n\n        this.$popover.css({\n          display: 'block',\n          left: pos.left,\n          top: Math.min(pos.top, posEditor.top)\n        });\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var TablePopover = function TablePopover(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    this.events = {\n      'summernote.mousedown': function summernoteMousedown(we, e) {\n        self.update(e.target);\n      },\n      'summernote.keyup summernote.scroll summernote.change': function summernoteKeyupSummernoteScrollSummernoteChange() {\n        self.update();\n      },\n      'summernote.disable': function summernoteDisable() {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !list.isEmpty(options.popover.table);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-table-popover'\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.table);\n\n      // [workaround] Disable Firefox's default table editor\n      if (agent.isFF) {\n        document.execCommand('enableInlineTableEditing', false, false);\n      }\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function (target) {\n      if (context.isDisabled()) {\n        return false;\n      }\n\n      var isCell = dom.isCell(target);\n\n      if (isCell) {\n        var pos = dom.posFromPlaceholder(target);\n        this.$popover.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n\n      return isCell;\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var VideoDialog = function VideoDialog(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = '<div class=\"form-group note-form-group row-fluid\">' + '<label class=\"note-form-label\">' + lang.video.url + ' <small class=\"text-muted\">' + lang.video.providers.toString() + '</small></label>' + '<input class=\"note-video-url form-control  note-form-control note-input span12\" ' + ' type=\"text\" />' + '</div><div class=\"alert alert-danger note-video-danger hidden\" style=\"padding:0px 15px\" role=\"alert\">' + '</div>';\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary' + ' note-video-btn disabled\" disabled>' + lang.video.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        title: lang.video.insert,\n        fade: options.dialogsFade,\n        body: body,\n        footer: footer\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    /**\r\n     * createVideoNode 创建视频\r\n     * @update 2017/11/30\r\n     * @param  { String } str 用户填入视频元素可能是iframe、oject等\r\n     * @return {[type]}     [description]\r\n     */\n    this.createVideoNode = function (str) {\n\n      var $video = $(str);\n      $video.addClass('note-video-clip');\n      console.log($video);\n      return $video[0];\n    };\n    // this.createVideoNode = function (url) {\n    //   // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\n    //   var ytRegExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n    //   var ytMatch = url.match(ytRegExp);\n\n    //   var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n    //   var igMatch = url.match(igRegExp);\n\n    //   var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n    //   var vMatch = url.match(vRegExp);\n\n    //   var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n    //   var vimMatch = url.match(vimRegExp);\n\n    //   var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n    //   var dmMatch = url.match(dmRegExp);\n\n    //   var youkuRegExp = /\\/\\/player\\.youku\\.com\\/embed\\/(.*)/;\n    //   var youkuMatch = url.match(youkuRegExp);\n\n    //   var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n    //   var qqMatch = url.match(qqRegExp);\n\n    //   var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n    //   var qqMatch2 = url.match(qqRegExp2);\n    //   //2017/11/24\n    //   var qqRegExp3 = /\\/\\/imgcache\\.qq\\.com.*/;\n    //   var qqMatch3 = url.match(qqRegExp3);\n\n    //   var mp4RegExp = /^.+.(mp4|m4v)$/;\n    //   var mp4Match = url.match(mp4RegExp);\n\n    //   var oggRegExp = /^.+.(ogg|ogv)$/;\n    //   var oggMatch = url.match(oggRegExp);\n\n    //   var webmRegExp = /^.+.(webm)$/;\n    //   var webmMatch = url.match(webmRegExp);\n\n    //   //2017/11/24新增\n    //   //爱奇艺\n    //   var iqiyiRegExp = /\\/\\/player\\.video\\.qiyi\\.com\\/(.*)/;\n    //   var iqiyiMatch = url.match(iqiyiRegExp)\n    //   var iqiyiRegExp2 = /\\/\\/open\\.iqiyi\\.com\\/developer\\/player\\_js\\/(.*)/;\n    //   var iqiyiMatch2 = url.match(iqiyiRegExp2)\n    //   //芒果TV\n    //   var mgtvRegExp = /\\/\\/player\\.mgtv\\.com\\/mgtv_v5_main\\/main\\.swf\\?play_type\\=1\\&video\\_id\\=(\\d+)/;\n    //   var mgtvMatch = url.match(mgtvRegExp);\n    //   //新浪视频\n    //   var sinaRegExp = /\\/\\/video\\.sina\\.com\\.cn\\/share\\/video\\/(\\d+)\\.swf\\&topBar\\=1\\&autoplay\\=false\\&plid\\=(\\d+)/;\n    //   var singMatch = url.match(sinaRegExp);\n    //   //凤凰视频;\n    //   var ifengRegExp = /\\/\\/v\\.ifeng\\.com\\/include\\/exterior\\.swf\\?guid\\=(.*)\\&AutoPlay\\=false/;\n    //   var ifengMatch = url.match(ifengRegExp);\n    //   //搜狐\n    //   var sohuRegExp = /\\/\\/share\\.vrs\\.sohu\\.com\\/(\\d+)\\/v\\.swf/;\n    //   var sohuMatch = url.match(sohuRegExp);\n    //   var sohuRegExp2 = /\\/\\/tv\\.sohu\\.com\\/upload\\/static\\/share\\/share\\_play\\.html\\#(.*)/;\n    //   var sohuMatch2 = url.match(sohuRegExp2);\n    //   //乐视\n    //   var leRegExp = /\\/\\/(.*)\\.letv\\.com\\/ptv\\/player\\/swfPlayer\\.swf\\?autoPlay\\=0\\&id\\=(\\d+)/;\n    //   var leMatch = url.match(leRegExp);\n    //   //bilibili\n    //   var bilibiliRegExp = /static\\.hdslb\\.com\\/miniloader\\.swf\\?aid\\=(\\d+)\\&page/;\n    //   var bilibiliMatch = url.match(bilibiliRegExp);\n\n    //   var $video;\n    //   var $embed = $('<embed allowFullScreen=\"true\" quality=\"high\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\">')\n    //   if (ytMatch && ytMatch[1].length === 11) {\n    //     var youtubeId = ytMatch[1];\n    //     $video = $('<iframe>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', '//www.youtube.com/embed/' + youtubeId)\n    //         .attr('width', '640').attr('height', '360');\n    //   } else if(bilibiliMatch && bilibiliMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//static.hdslb.com/miniloader.swf?aid='+ bilibiliMatch[1] +'&page=1');         \n    //   } else if(leMatch && leMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//'+ leMatch[1] +'.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id='+ leMatch[2]); \n    //   } else if(sohuMatch2 && sohuMatch2[1].length){\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n    //         .attr('frameborder', 0)\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//tv.sohu.com/upload/static/share/share_play.html#'+ sohuMatch2[1]);   \n    //   } else if(sohuMatch && sohuMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//share.vrs.sohu.com/'+ sohuMatch[1] +'/v.swf&topBar=1&autoplay=false&plid='+ sohuMatch[2] +'&pub_catecode=0&from=page');            \n    //   } else if(ifengMatch && ifengMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//v.ifeng.com/include/exterior.swf?guid=' + ifengMatch[1] + '&AutoPlay=false');       \n\n    //   } else if(singMatch && singMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//video.sina.com.cn/share/video/' + singMatch[1] + '.swf');          \n    //   } else if(mgtvMatch && mgtvMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '425')\n    //         .attr('width', '580')\n    //         .attr('src', '//player.mgtv.com/mgtv_v5_main/main.swf?play_type=1&video_id=' + mgtvMatch[1]);        \n    //   } else if(iqiyiMatch && iqiyiMatch[1].length){\n    //     $video = $embed\n    //         .attr('height', '360')\n    //         .attr('width', '640')\n    //         .attr('src', '//player.video.qiyi.com/' + iqiyiMatch[1]);\n    //   } else if(iqiyiMatch2 && iqiyiMatch2[1].length){\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', '//open.iqiyi.com/developer/player_js/' + iqiyiMatch2[1])\n    //         .attr('width', '640').attr('height', '360');\n    //   } else if (igMatch && igMatch[0].length) {\n    //     $video = $('<iframe>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\n    //         .attr('width', '612').attr('height', '710')\n    //         .attr('scrolling', 'no')\n    //         .attr('allowtransparency', 'true');\n    //   } else if (vMatch && vMatch[0].length) {\n    //     $video = $('<iframe>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', vMatch[0] + '/embed/simple')\n    //         .attr('width', '600').attr('height', '600')\n    //         .attr('class', 'vine-embed');\n    //   } else if (vimMatch && vimMatch[3].length) {\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\n    //         .attr('width', '640').attr('height', '360');\n    //   } else if (dmMatch && dmMatch[2].length) {\n    //     $video = $('<iframe>')\n    //         .attr('frameborder', 0)\n    //         .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\n    //         .attr('width', '640').attr('height', '360');\n    //   } else if (youkuMatch && youkuMatch[1].length) {\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n    //         .attr('frameborder', 0)\n    //         .attr('height', '498')\n    //         .attr('width', '510')\n    //         .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\n    //   } else if(qqMatch3 && qqMatch3[0].length){\n    //     $video = $('<embed allowFullScreen=\"true\" quality=\"high\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\">')\n    //         .attr('height', '498')\n    //         .attr('width', '640')\n    //         .attr('src', qqMatch3[0]);\n    //   } else if ((qqMatch && qqMatch[1].length) || (qqMatch2 && qqMatch2[2].length)) {\n    //     var vid = ((qqMatch && qqMatch[1].length) ? qqMatch[1]:qqMatch2[2]);\n    //     $video = $('<embed webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n    //         .attr('frameborder', 0)\n    //         .attr('height', '310')\n    //         .attr('width', '500')\n    //         .attr('src', 'http://v.qq.com/iframe/player.html?vid=' + vid + '&amp;auto=0');\n    //   } else if (mp4Match || oggMatch || webmMatch) {\n    //     $video = $('<video controls>')\n    //         .attr('src', url)\n    //         .attr('width', '640').attr('height', '360');\n    //   } else {\n    //     // this is not a known video link. Now what, Cat? Now what?\n    //     return false;\n    //   }\n\n    //   $video.addClass('note-video-clip');\n\n    //   return $video[0];\n    // };\n    this.show = function () {\n      var text = context.invoke('editor.getSelectedText');\n      context.invoke('editor.saveRange');\n      this.showVideoDialog(text).then(function (url) {\n        // [workaround] hide dialog before restore range for IE range focus\n        ui.hideDialog(self.$dialog);\n        context.invoke('editor.restoreRange');\n\n        // build node\n        var $node = self.createVideoNode(url);\n\n        if ($node) {\n          // insert video node\n          context.invoke('editor.insertNode', $node);\n        }\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\n    this.showVideoDialog = function (text) {\n      return $.Deferred(function (deferred) {\n        var $videoUrl = self.$dialog.find('.note-video-url'),\n\n        //2017-11-20\n        $videoError = self.$dialog.find('.note-video-danger'),\n            $videoBtn = self.$dialog.find('.note-video-btn');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          $videoUrl.val(text).on('input', function () {\n            var $node = self.createVideoNode($videoUrl.val());\n            ui.toggleBtn($videoBtn, $node);\n          }).trigger('focus');\n\n          $videoBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($videoUrl.val());\n          });\n\n          self.bindEnterKey($videoUrl, $videoBtn);\n        });\n        //2017-11-20\n        $videoUrl.on('keyup keydown change blur', function () {\n          var url = $videoUrl.val();\n          if (url) {\n            var $node = self.createVideoNode($videoUrl.val());\n            if (!$node) {\n              $videoError.removeClass('hidden');\n              $videoError.html('视频格式不正确，请重新输入；');\n            } else {\n              $videoError.addClass('hidden');\n            }\n          } else {\n            $videoError.addClass('hidden');\n          }\n        });\n        ui.onDialogHidden(self.$dialog, function () {\n          $videoUrl.off('input');\n          $videoBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      });\n    };\n  };\n\n  var HelpDialog = function HelpDialog(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.createShortCutList = function () {\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(keyMap).map(function (key) {\n        var command = keyMap[key];\n        var $row = $('<div><div class=\"help-list-item\"/></div>');\n        $row.append($('<label><kbd>' + key + '</kdb></label>').css({\n          'width': 180,\n          'margin-right': 10\n        })).append($('<span/>').html(context.memo('help.' + command) || command));\n        return $row.html();\n      }).join('');\n    };\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = ['<p class=\"text-center\">', '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.8</a> · ', '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a> · ', '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>', '</p>'].join('');\n\n      this.$dialog = ui.dialog({\n        title: lang.options.help,\n        fade: options.dialogsFade,\n        body: this.createShortCutList(),\n        footer: body,\n        callback: function callback($node) {\n          $node.find('.modal-body,.note-modal-body').css({\n            'max-height': 300,\n            'overflow': 'scroll'\n          });\n        }\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    /**\r\n     * show help dialog\r\n     *\r\n     * @return {Promise}\r\n     */\n    this.showHelpDialog = function () {\n      return $.Deferred(function (deferred) {\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n          deferred.resolve();\n        });\n        ui.showDialog(self.$dialog);\n      }).promise();\n    };\n\n    this.show = function () {\n      context.invoke('editor.saveRange');\n      this.showHelpDialog().then(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n  };\n\n  var AirPopover = function AirPopover(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    var AIR_MODE_POPOVER_X_OFFSET = 20;\n\n    this.events = {\n      'summernote.keyup summernote.mouseup summernote.scroll': function summernoteKeyupSummernoteMouseupSummernoteScroll() {\n        self.update();\n      },\n      'summernote.disable summernote.change summernote.dialog.shown': function summernoteDisableSummernoteChangeSummernoteDialogShown() {\n        self.hide();\n      },\n      'summernote.focusout': function summernoteFocusout(we, e) {\n        // [workaround] Firefox doesn't support relatedTarget on focusout\n        //  - Ignore hide action on focus out in FF.\n        if (agent.isFF) {\n          return;\n        }\n\n        if (!e.relatedTarget || !dom.ancestor(e.relatedTarget, func.eq(self.$popover[0]))) {\n          self.hide();\n        }\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return options.airMode && !list.isEmpty(options.popover.air);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-air-popover'\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.air);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function () {\n      var styleInfo = context.invoke('editor.currentStyle');\n      if (styleInfo.range && !styleInfo.range.isCollapsed()) {\n        var rect = list.last(styleInfo.range.getClientRects());\n        if (rect) {\n          var bnd = func.rect2bnd(rect);\n          this.$popover.css({\n            display: 'block',\n            left: Math.max(bnd.left + bnd.width / 2, 0) - AIR_MODE_POPOVER_X_OFFSET,\n            top: bnd.top + bnd.height\n          });\n          context.invoke('buttons.updateCurrentStyle', this.$popover);\n        }\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var HintPopover = function HintPopover(context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var POPOVER_DIST = 5;\n    var hint = context.options.hint || [];\n    var direction = context.options.hintDirection || 'bottom';\n    var hints = $.isArray(hint) ? hint : [hint];\n\n    this.events = {\n      'summernote.keyup': function summernoteKeyup(we, e) {\n        if (!e.isDefaultPrevented()) {\n          self.handleKeyup(e);\n        }\n      },\n      'summernote.keydown': function summernoteKeydown(we, e) {\n        self.handleKeydown(e);\n      },\n      'summernote.disable summernote.dialog.shown': function summernoteDisableSummernoteDialogShown() {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return hints.length > 0;\n    };\n\n    this.initialize = function () {\n      this.lastWordRange = null;\n      this.$popover = ui.popover({\n        className: 'note-hint-popover',\n        hideArrow: true,\n        direction: ''\n      }).render().appendTo('body');\n\n      this.$popover.hide();\n\n      this.$content = this.$popover.find('.popover-content,.note-popover-content');\n\n      this.$content.on('click', '.note-hint-item', function () {\n        self.$content.find('.active').removeClass('active');\n        $(this).addClass('active');\n        self.replace();\n      });\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.selectItem = function ($item) {\n      this.$content.find('.active').removeClass('active');\n      $item.addClass('active');\n\n      this.$content[0].scrollTop = $item[0].offsetTop - this.$content.innerHeight() / 2;\n    };\n\n    this.moveDown = function () {\n      var $current = this.$content.find('.note-hint-item.active');\n      var $next = $current.next();\n\n      if ($next.length) {\n        this.selectItem($next);\n      } else {\n        var $nextGroup = $current.parent().next();\n\n        if (!$nextGroup.length) {\n          $nextGroup = this.$content.find('.note-hint-group').first();\n        }\n\n        this.selectItem($nextGroup.find('.note-hint-item').first());\n      }\n    };\n\n    this.moveUp = function () {\n      var $current = this.$content.find('.note-hint-item.active');\n      var $prev = $current.prev();\n\n      if ($prev.length) {\n        this.selectItem($prev);\n      } else {\n        var $prevGroup = $current.parent().prev();\n\n        if (!$prevGroup.length) {\n          $prevGroup = this.$content.find('.note-hint-group').last();\n        }\n\n        this.selectItem($prevGroup.find('.note-hint-item').last());\n      }\n    };\n\n    this.replace = function () {\n      var $item = this.$content.find('.note-hint-item.active');\n\n      if ($item.length) {\n        var node = this.nodeFromItem($item);\n        // XXX: consider to move codes to editor for recording redo/undo.\n        this.lastWordRange.insertNode(node);\n        range.createFromNode(node).collapse().select();\n\n        this.lastWordRange = null;\n        this.hide();\n        context.triggerEvent('change', context.layoutInfo.editable.html(), context.layoutInfo.editable);\n        context.invoke('editor.focus');\n      }\n    };\n\n    this.nodeFromItem = function ($item) {\n      var hint = hints[$item.data('index')];\n      var item = $item.data('item');\n      var node = hint.content ? hint.content(item) : item;\n      if (typeof node === 'string') {\n        node = dom.createText(node);\n      }\n      return node;\n    };\n\n    this.createItemTemplates = function (hintIdx, items) {\n      var hint = hints[hintIdx];\n      return items.map(function (item, idx) {\n        var $item = $('<div class=\"note-hint-item\"/>');\n        $item.append(hint.template ? hint.template(item) : item + '');\n        $item.data({\n          'index': hintIdx,\n          'item': item\n        });\n\n        if (hintIdx === 0 && idx === 0) {\n          $item.addClass('active');\n        }\n        return $item;\n      });\n    };\n\n    this.handleKeydown = function (e) {\n      if (!this.$popover.is(':visible')) {\n        return;\n      }\n\n      if (e.keyCode === key.code.ENTER) {\n        e.preventDefault();\n        this.replace();\n      } else if (e.keyCode === key.code.UP) {\n        e.preventDefault();\n        this.moveUp();\n      } else if (e.keyCode === key.code.DOWN) {\n        e.preventDefault();\n        this.moveDown();\n      }\n    };\n\n    this.searchKeyword = function (index, keyword, callback) {\n      var hint = hints[index];\n      if (hint && hint.match.test(keyword) && hint.search) {\n        var matches = hint.match.exec(keyword);\n        hint.search(matches[1], callback);\n      } else {\n        callback();\n      }\n    };\n\n    this.createGroup = function (idx, keyword) {\n      var $group = $('<div class=\"note-hint-group note-hint-group-' + idx + '\"/>');\n      this.searchKeyword(idx, keyword, function (items) {\n        items = items || [];\n        if (items.length) {\n          $group.html(self.createItemTemplates(idx, items));\n          self.show();\n        }\n      });\n\n      return $group;\n    };\n\n    this.handleKeyup = function (e) {\n      if (list.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode)) {\n        if (e.keyCode === key.code.ENTER) {\n          if (this.$popover.is(':visible')) {\n            return;\n          }\n        }\n      } else {\n        var wordRange = context.invoke('editor.createRange').getWordRange();\n        var keyword = wordRange.toString();\n        if (hints.length && keyword) {\n          this.$content.empty();\n\n          var bnd = func.rect2bnd(list.last(wordRange.getClientRects()));\n          if (bnd) {\n\n            this.$popover.hide();\n\n            this.lastWordRange = wordRange;\n\n            hints.forEach(function (hint, idx) {\n              if (hint.match.test(keyword)) {\n                self.createGroup(idx, keyword).appendTo(self.$content);\n              }\n            });\n\n            // set position for popover after group is created\n            if (direction === 'top') {\n              this.$popover.css({\n                left: bnd.left,\n                top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\n              });\n            } else {\n              this.$popover.css({\n                left: bnd.left,\n                top: bnd.top + bnd.height + POPOVER_DIST\n              });\n            }\n          }\n        } else {\n          this.hide();\n        }\n      }\n    };\n\n    this.show = function () {\n      this.$popover.show();\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  $.summernote = $.extend($.summernote, {\n    version: '0.8.8',\n    ui: ui,\n    dom: dom,\n\n    plugins: {},\n\n    options: {\n      modules: {\n        'editor': Editor,\n        'clipboard': Clipboard,\n        'dropzone': Dropzone,\n        'codeview': Codeview,\n        'statusbar': Statusbar,\n        'fullscreen': Fullscreen,\n        'handle': Handle,\n        // FIXME: HintPopover must be front of autolink\n        //  - Script error about range when Enter key is pressed on hint popover\n        'hintPopover': HintPopover,\n        'autoLink': AutoLink,\n        'autoSync': AutoSync,\n        'placeholder': Placeholder,\n        'buttons': Buttons,\n        'toolbar': Toolbar,\n        'linkDialog': LinkDialog,\n        'linkPopover': LinkPopover,\n        'imageDialog': ImageDialog,\n        'imagePopover': ImagePopover,\n        'tablePopover': TablePopover,\n        'videoDialog': VideoDialog,\n        'helpDialog': HelpDialog,\n        'airPopover': AirPopover\n      },\n\n      buttons: {},\n\n      lang: 'en-US',\n\n      // toolbar\n      toolbar: [['style', ['style']], ['font', ['bold', 'underline', 'clear']], ['fontname', ['fontname']], ['color', ['color']], ['para', ['ul', 'ol', 'paragraph']], ['table', ['table']], ['insert', ['link', 'picture', 'video']], ['view', ['fullscreen', 'codeview', 'help']]],\n\n      // popover\n      popover: {\n        image: [['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']], ['float', ['floatLeft', 'floatRight', 'floatNone']], ['remove', ['removeMedia']]],\n        link: [['link', ['linkDialogShow', 'unlink']]],\n        table: [['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']], ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]],\n        air: [['color', ['color']], ['font', ['bold', 'underline', 'clear']], ['para', ['ul', 'paragraph']], ['table', ['table']], ['insert', ['link', 'picture']]]\n      },\n\n      // air mode: inline editor\n      airMode: false,\n\n      width: null,\n      height: null,\n      linkTargetBlank: true,\n\n      focus: false,\n      tabSize: 4,\n      styleWithSpan: true,\n      shortcuts: true,\n      textareaAutoSync: true,\n      direction: null,\n      tooltip: 'auto',\n\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n      fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', 'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande', 'Tahoma', 'Times New Roman', 'Verdana'],\n\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\n\n      // pallete colors(n x n)\n      colors: [['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'], ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'], ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'], ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'], ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'], ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'], ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'], ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']],\n\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n\n      tableClassName: 'table table-bordered',\n\n      insertTableMaxSize: {\n        col: 10,\n        row: 10\n      },\n\n      dialogsInBody: false,\n      dialogsFade: false,\n\n      maximumImageFileSize: null,\n\n      callbacks: {\n        onInit: null,\n        onFocus: null,\n        onBlur: null,\n        onEnter: null,\n        onKeyup: null,\n        onKeydown: null,\n        onImageUpload: null,\n        onImageUploadError: null\n      },\n\n      codemirror: {\n        mode: 'text/html',\n        htmlMode: true,\n        lineNumbers: true\n      },\n\n      keyMap: {\n        pc: {\n          'ENTER': 'insertParagraph',\n          'CTRL+Z': 'undo',\n          'CTRL+Y': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CTRL+B': 'bold',\n          'CTRL+I': 'italic',\n          'CTRL+U': 'underline',\n          'CTRL+SHIFT+S': 'strikethrough',\n          'CTRL+BACKSLASH': 'removeFormat',\n          'CTRL+SHIFT+L': 'justifyLeft',\n          'CTRL+SHIFT+E': 'justifyCenter',\n          'CTRL+SHIFT+R': 'justifyRight',\n          'CTRL+SHIFT+J': 'justifyFull',\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\n          'CTRL+LEFTBRACKET': 'outdent',\n          'CTRL+RIGHTBRACKET': 'indent',\n          'CTRL+NUM0': 'formatPara',\n          'CTRL+NUM1': 'formatH1',\n          'CTRL+NUM2': 'formatH2',\n          'CTRL+NUM3': 'formatH3',\n          'CTRL+NUM4': 'formatH4',\n          'CTRL+NUM5': 'formatH5',\n          'CTRL+NUM6': 'formatH6',\n          'CTRL+ENTER': 'insertHorizontalRule',\n          'CTRL+K': 'linkDialog.show'\n        },\n\n        mac: {\n          'ENTER': 'insertParagraph',\n          'CMD+Z': 'undo',\n          'CMD+SHIFT+Z': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CMD+B': 'bold',\n          'CMD+I': 'italic',\n          'CMD+U': 'underline',\n          'CMD+SHIFT+S': 'strikethrough',\n          'CMD+BACKSLASH': 'removeFormat',\n          'CMD+SHIFT+L': 'justifyLeft',\n          'CMD+SHIFT+E': 'justifyCenter',\n          'CMD+SHIFT+R': 'justifyRight',\n          'CMD+SHIFT+J': 'justifyFull',\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\n          'CMD+LEFTBRACKET': 'outdent',\n          'CMD+RIGHTBRACKET': 'indent',\n          'CMD+NUM0': 'formatPara',\n          'CMD+NUM1': 'formatH1',\n          'CMD+NUM2': 'formatH2',\n          'CMD+NUM3': 'formatH3',\n          'CMD+NUM4': 'formatH4',\n          'CMD+NUM5': 'formatH5',\n          'CMD+NUM6': 'formatH6',\n          'CMD+ENTER': 'insertHorizontalRule',\n          'CMD+K': 'linkDialog.show'\n        }\n      },\n      icons: {\n        'align': 'note-icon-align',\n        'alignCenter': 'note-icon-align-center',\n        'alignJustify': 'note-icon-align-justify',\n        'alignLeft': 'note-icon-align-left',\n        'alignRight': 'note-icon-align-right',\n        'rowBelow': 'note-icon-row-below',\n        'colBefore': 'note-icon-col-before',\n        'colAfter': 'note-icon-col-after',\n        'rowAbove': 'note-icon-row-above',\n        'rowRemove': 'note-icon-row-remove',\n        'colRemove': 'note-icon-col-remove',\n        'indent': 'note-icon-align-indent',\n        'outdent': 'note-icon-align-outdent',\n        'arrowsAlt': 'note-icon-arrows-alt',\n        'bold': 'note-icon-bold',\n        'caret': 'note-icon-caret',\n        'circle': 'note-icon-circle',\n        'close': 'note-icon-close',\n        'code': 'note-icon-code',\n        'eraser': 'note-icon-eraser',\n        'font': 'note-icon-font',\n        'frame': 'note-icon-frame',\n        'italic': 'note-icon-italic',\n        'link': 'note-icon-link',\n        'unlink': 'note-icon-chain-broken',\n        'magic': 'note-icon-magic',\n        'menuCheck': 'note-icon-menu-check',\n        'minus': 'note-icon-minus',\n        'orderedlist': 'note-icon-orderedlist',\n        'pencil': 'note-icon-pencil',\n        'picture': 'note-icon-picture',\n        'question': 'note-icon-question',\n        'redo': 'note-icon-redo',\n        'square': 'note-icon-square',\n        'strikethrough': 'note-icon-strikethrough',\n        'subscript': 'note-icon-subscript',\n        'superscript': 'note-icon-superscript',\n        'table': 'note-icon-table',\n        'textHeight': 'note-icon-text-height',\n        'trash': 'note-icon-trash',\n        'underline': 'note-icon-underline',\n        'undo': 'note-icon-undo',\n        'unorderedlist': 'note-icon-unorderedlist',\n        'video': 'note-icon-video'\n      }\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"zk77\")(module), __webpack_require__(\"bXvV\")))\n\n/***/ }),\n\n/***/ \"/8vw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//test\n// export const increment = ({commit}) => {\n// \tconsole.log('nihao', commit)\n//     commit('INCREMENT')\n// }\n\n// export const decrement = ({commit}) => {\n//     commit('DECREMENT')\n// }\n\n// export const updateUserSelectedSku = ({commit}) => {\n// \tconsole.log('nihao', commit)\n//     commit('UPDATE_USER_SELECTED_THE_SKU')\n// }\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tupdateUserSelectedSku: function updateUserSelectedSku(_ref, data) {\n\t\tvar commit = _ref.commit;\n\n\t\tcommit('UPDATE_USER_SELECTED_THE_SKU', data);\n\t},\n\tupdateProdcutSkuQuantity: function updateProdcutSkuQuantity(_ref2, data) {\n\t\tvar commit = _ref2.commit;\n\n\t\tcommit('UPDATE_PRODCUT_SKU_QUANTITY', data);\n\t}\n});\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"0F4G\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Full_vue__ = __webpack_require__(\"rL1v\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__goodsManagementRoutes_js__ = __webpack_require__(\"D+Io\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shopsManagementRoutes_js__ = __webpack_require__(\"hLst\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__transactionRoutes_js__ = __webpack_require__(\"t7ut\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__marketingCenterRoutes_js__ = __webpack_require__(\"ZMT0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__home_js__ = __webpack_require__(\"roEk\");\n\n\n//店铺管理路由\n\n\n/*交易管理路由*/\n\n\n/*营销路由管理*/\n\n\n//首页路由\n\nvar asyncRouterArr = [{\n\n    path: '/seller-management',\n    component: __WEBPACK_IMPORTED_MODULE_0__components_Full_vue__[\"a\" /* default */],\n    redirect: '/seller-management/goods',\n    name: '商品管理',\n    iconCls: 'iconfont icon-shangpu', //图标样式class\n    children: __WEBPACK_IMPORTED_MODULE_1__goodsManagementRoutes_js__[\"a\" /* default */]\n}, {\n    path: '/transaction',\n    component: __WEBPACK_IMPORTED_MODULE_0__components_Full_vue__[\"a\" /* default */],\n    name: '交易管理',\n    iconCls: 'iconfont icon-jiaoyiguanli', //图标样式class\n    children: __WEBPACK_IMPORTED_MODULE_3__transactionRoutes_js__[\"a\" /* default */]\n}, {\n    path: '/store',\n    component: __WEBPACK_IMPORTED_MODULE_0__components_Full_vue__[\"a\" /* default */],\n    name: '店铺管理',\n    iconCls: 'iconfont icon-shangpinguanli',\n    children: __WEBPACK_IMPORTED_MODULE_2__shopsManagementRoutes_js__[\"a\" /* default */]\n}, { path: '/marketing-center',\n    component: __WEBPACK_IMPORTED_MODULE_0__components_Full_vue__[\"a\" /* default */],\n    name: '营销中心',\n    iconCls: 'iconfont icon-yingxiaozhongxin',\n    children: __WEBPACK_IMPORTED_MODULE_4__marketingCenterRoutes_js__[\"a\" /* default */]\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (asyncRouterArr);\n\n/***/ }),\n\n/***/ \"0FdO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(\"GxZn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(\"Edqs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_summernote_summernote_js__ = __webpack_require__(\"/7i6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_summernote_lang_summernote_zh_CN_js__ = __webpack_require__(\"yEst\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_jquery__ = __webpack_require__(\"bXvV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_jquery__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\n  install: function install(Vue, options) {\n\n    Vue.component('vue-summernote', {\n      render: function render(createElement) {\n        return createElement('div');\n      },\n      mounted: function mounted() {\n        var self = this;\n        var initOptions = {\n          lang: 'zh-CN',\n          placeholder: self.placeholder,\n          height: self.height,\n          minHeight: self.minHeight,\n          maxHeight: self.maxHeight,\n          focus: self.focus,\n          callbacks: {\n            onInit: function onInit() {\n              self.$emit('onInit');\n            },\n            onEnter: function onEnter() {\n              self.$emit('onEnter');\n            },\n            onFocus: function onFocus() {\n              self.$emit('onFocus');\n            },\n            onBlur: function onBlur() {\n              self.$emit('onBlur');\n            },\n            onKeyup: function onKeyup(e) {\n              self.$emit('onKeyup', e);\n            },\n            onKeydown: function onKeydown(e) {\n              self.$emit('onKeydown', e);\n            },\n            onPaste: function onPaste(e) {\n              self.$emit('onPaste', e);\n            },\n            onImageUpload: function onImageUpload(files) {\n              self.$emit('onImageUpload', files);\n            },\n            onChange: function onChange(contents) {\n              self.$emit('onChange', contents);\n            }\n          }\n        };\n        var params = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, initOptions, options);\n        __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.$el).summernote(params);\n      },\n      beforeDestroy: function beforeDestroy() {\n        __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.$el).summernote('destroy');\n      },\n      props: {\n        placeholder: {\n          type: String,\n          default: '请输入内容'\n        },\n        height: {\n          type: Number,\n          default: 500\n        },\n        minHeight: {\n          type: Number,\n          default: 200\n        },\n        maxHeight: {\n          type: Number,\n          default: 700\n        },\n        focus: {\n          type: Boolean,\n          default: false\n        }\n      },\n      methods: {\n        /**\r\n         * run summernote API\r\n         * @param {String} code\r\n         * @param {String | Number} value\r\n         * @returns {*|jQuery}\r\n         */\n        run: function run(code, value) {\n          if ((typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(value)) === undefined) {\n            return __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.$el).summernote(code);\n          } else {\n            return __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.$el).summernote(code, value);\n          }\n        }\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"2SIn\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"4Kl9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container bgColor\"},[_c('app-header',{attrs:{\"sysUserName\":_vm.sysUserName}}),_vm._v(\" \"),_c('div',{staticClass:\"shadows\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"main mains\"},[_c('section',{staticClass:\"content-container\"},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('div',{staticClass:\"content-wrapper\",attrs:{\"span\":24}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view',{key:_vm.key})],1)],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"errorTop\"},[_c('a',{staticClass:\"topCont\",attrs:{\"href\":\"javascript:;\"}},[_c('div',{staticClass:\"logos\"}),_vm._v(\" \"),_c('p',[_vm._v(\"商户中心登录\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"6RtZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Header__ = __webpack_require__(\"teIl\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { AppHeader: __WEBPACK_IMPORTED_MODULE_0__Header__[\"a\" /* default */] },\n  data: function data() {\n    return {\n      sysName: '商户中心',\n      sysUserName: '',\n      sysUserAvatar: ''\n    };\n  },\n  created: function created() {},\n\n  computed: {\n    key: function key() {\n      return this.$route.name !== undefined ? this.$route.name + new Date() : this.$route + new Date();\n    }\n  },\n  watch: {\n    '$route': function $route(to, from) {}\n  },\n  methods: {\n    //退出登录\n    logout: function logout() {\n      var _this = this;\n      this.$confirm('确认退出吗?', '提示', {\n        //type: 'warning'\n      }).then(function () {\n        sessionStorage.removeItem('user');\n        _this.$router.push('/login');\n      }).catch(function () {});\n    }\n  },\n  mounted: function mounted() {\n\n    var user = sessionStorage.getItem('user');\n    if (user) {\n      user = JSON.parse(user);\n      this.sysUserName = user.name || '';\n      this.sysUserAvatar = user.avatar || '';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"841c\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_toolApi__ = __webpack_require__(\"8bmq\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app-header',\n  data: function data() {\n    return {\n      total: null,\n      ueseName: '',\n\n      elXuanzhuan1: false,\n      elXuanzhuan2: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var params = {\n      uid: config.uid,\n      page: 1,\n      size: 20\n    };\n    Object(__WEBPACK_IMPORTED_MODULE_0__api_toolApi__[\"g\" /* msgNumber */])(params).then(function (res) {\n      if (res.data.data) {\n        var tal = Number(res.data.data);\n        _this.total = tal > 999 ? '999+' : tal;\n      }\n    }).catch(function (res) {});\n  },\n\n  props: {\n    sysName: {\n      type: String,\n      default: '商户中心'\n    },\n    sysUserName: {\n      type: String,\n      default: ''\n    }\n  },\n  components: {},\n  computed: {},\n  mounted: function mounted() {\n    this.ueseName = config.userName;\n  },\n\n  methods: {\n    //跳转首页，手机版页面前判断是否是入驻页面\n    jump: function jump(str) {\n      console.log(this.$route.path);\n      if (this.$route.path == \"/merchant/merchant-enter-before\" || this.$route.path == \"/merchant/merchant-enter\") {\n        return false;\n      }\n      if (str == \"index\") {\n        this.$router.push({ path: '/home/index' });\n      } else if (str == \"phone\") {\n        this.$router.push({ path: '/home/phone' });\n      } else {\n        this.$router.push({ path: '/person/message' });\n      }\n    },\n    handleCommand: function handleCommand(command) {\n      if (command == \"exit\") {\n        Object(__WEBPACK_IMPORTED_MODULE_0__api_toolApi__[\"m\" /* userLogout */])({}).then(function (res) {\n          window.location.href = config.apiHost + '/login';\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n\n    //下拉框出现/隐藏时触发\n    triangle: function triangle(isShow) {\n      if (isShow) {\n        this.elXuanzhuan1 = true;\n        this.elXuanzhuan2 = false;\n      } else {\n        this.elXuanzhuan1 = false;\n        this.elXuanzhuan2 = true;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"8bmq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return toolList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return productList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return createAct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return actLastData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return changeAct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return storeActList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return platformActList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return platformActDetail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return attendAct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return changeAttendAct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return msgList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return msgNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return userLogout; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__newAxios__ = __webpack_require__(\"Kriy\");\n\n\nvar base = config.apiHost;\n\n/*获取营销工具*/\nvar toolList = function toolList(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/marketing/tools/shop', { params: params });\n};\n\n/*获取店铺商品列表*/\nvar productList = function productList(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/product/listontheshelves', { params: params });\n};\n\n/*店铺创建活动*/\nvar createAct = function createAct(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].post(base + '/marketing/activity/save', params);\n};\n\n/*获取活动详情*/\nvar actLastData = function actLastData(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/marketing/activity/detail', { params: params });\n};\n\n/*修改店铺活动*/\nvar changeAct = function changeAct(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].post(base + '/marketing/activity/update', params);\n};\n\n/*获取店铺活动*/\nvar storeActList = function storeActList(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/marketing/activity/list', { params: params });\n};\n\n/*获取平台活动*/\nvar platformActList = function platformActList(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/marketing/activity/platform/list', { params: params });\n};\n\n/*平台活动详情*/\nvar platformActDetail = function platformActDetail(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/marketing/activity/platform/detail', { params: params });\n};\n\n/*参与平台活动*/\nvar attendAct = function attendAct(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].post(base + '/marketing/activity/sign', params);\n};\n\n/*修改报名平台活动*/\nvar changeAttendAct = function changeAttendAct(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].post(base + '/marketing/activity/sign/update', params);\n};\n\n/*获取消息*/\nvar msgList = function msgList(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/msg/page', { params: params });\n};\n\n/*消息条数*/\nvar msgNumber = function msgNumber(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/user/msg/count', { params: params });\n};\n\n//退出接口\nvar userLogout = function userLogout(params) {\n  return __WEBPACK_IMPORTED_MODULE_0__newAxios__[\"a\" /* default */].get(base + '/user/logout', { params: params });\n};\n\n/***/ }),\n\n/***/ \"9gGt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Demo_vue__ = __webpack_require__(\"xliq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4567d049_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Demo_vue__ = __webpack_require__(\"McuT\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Phe6\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4567d049\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Demo_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4567d049_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Demo_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"AlR3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"BDSo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'LoadingMask',\n  data: function data() {\n    return {};\n  }\n});\n\n/***/ }),\n\n/***/ \"D+Io\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*商家管理 =S */\nvar CateSelection = function CateSelection(resolve) {\n    return __webpack_require__.e/* require */(14).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"szQW\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Logistics = function Logistics(resolve) {\n    return __webpack_require__.e/* require */(20).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"puMd\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar GoodsForm = function GoodsForm(resolve) {\n    return __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"OV3K\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar UnderReview = function UnderReview(resolve) {\n    return __webpack_require__.e/* require */(8).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"snaM\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar UpShelve = function UpShelve(resolve) {\n    return __webpack_require__.e/* require */(10).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"u16V\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar DownShelve = function DownShelve(resolve) {\n    return __webpack_require__.e/* require */(9).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"DG25\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar NotPass = function NotPass(resolve) {\n    return __webpack_require__.e/* require */(6).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"TEq/\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar ToBeShelved = function ToBeShelved(resolve) {\n    return __webpack_require__.e/* require */(7).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"fb5Q\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar DraftBox = function DraftBox(resolve) {\n    return __webpack_require__.e/* require */(11).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"KYxA\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar RecycleBin = function RecycleBin(resolve) {\n    return __webpack_require__.e/* require */(12).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"TGDV\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*商家管理 =E */\nvar routers = [{\n    path: '/seller-management/goods',\n    component: CateSelection,\n    name: '创建商品',\n    showChildrenName: true,\n    children: [{ path: '/seller-management/goods/create', component: CateSelection, name: '选择类目' }, { path: '/seller-management/goods/form', component: GoodsForm, name: '新建商品' }, { path: '/seller-management/goods/editor', component: GoodsForm, name: '编辑商品' }]\n}, {\n    path: '/seller-management/logistics',\n    component: Logistics,\n    name: '物流模板',\n    children: [{ path: '/seller-management/logistics/create', component: Logistics, name: '新建物流模板' }, { path: '/seller-management/logistics/editor', component: Logistics, name: '编辑物流模板' }]\n}, { path: '/seller-management/underreview', component: UnderReview, name: '审核中列表' }, { path: '/seller-management/upshelve', component: UpShelve, name: '已上架列表' }, { path: '/seller-management/downshelve', component: DownShelve, name: '已下架列表' }, { path: '/seller-management/notpass', component: NotPass, name: '审核未通过列表' }, { path: '/seller-management/tobeshelved', component: ToBeShelved, name: '待上架列表' }, { path: '/seller-management/draftbox', component: DraftBox, name: '草稿箱' }, { path: '/seller-management/recyclebin', component: RecycleBin, name: '回收站' }];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"DMbx\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*阶段一*/\nvar NotFound = function NotFound(resolve) {\n    return __webpack_require__.e/* require */(44).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"xoUC\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n/*手机端下载页面*/\nvar Phone = function Phone(resolve) {\n    return __webpack_require__.e/* require */(42).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"6SgA\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar routers = [{\n    path: '/404',\n    component: NotFound,\n    name: ''\n}, {\n    path: '/home/phone',\n    component: Phone,\n    name: ''\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"GcVu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_LoadingMask_vue__ = __webpack_require__(\"BDSo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_fbacdfbe_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_LoadingMask_vue__ = __webpack_require__(\"WJS9\");\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_LoadingMask_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_fbacdfbe_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_LoadingMask_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"HeTw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Header__ = __webpack_require__(\"teIl\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { AppHeader: __WEBPACK_IMPORTED_MODULE_0__Header__[\"a\" /* default */] },\n  data: function data() {\n    return {\n      sysName: '',\n      sysUserName: '',\n      sysUserAvatar: ''\n    };\n  },\n  created: function created() {},\n\n  computed: {\n    key: function key() {\n      return this.$route.name !== undefined ? this.$route.name + new Date() : this.$route + new Date();\n    }\n  },\n  watch: {\n    /*'$route' (to, from) {\n       console.log(this.$route.path)\n    }*/\n  },\n  methods: {\n    //退出登录\n    logout: function logout() {\n      var _this = this;\n      this.$confirm('确认退出吗?', '提示', {\n        //type: 'warning'\n      }).then(function () {\n        sessionStorage.removeItem('user');\n        _this.$router.push('/login');\n      }).catch(function () {});\n    }\n    //折叠导航栏\n    // collapse:function(){\n    //   this.isCollapse=!this.isCollapse;\n    // },\n    // showMenu(i,status){\n    //   this.$refs.menuisCollapse.getElementsByClassName('submenu-hook-'+i)[0].style.display=status?'block':'none';\n    // }\n  },\n  mounted: function mounted() {\n\n    var user = sessionStorage.getItem('user');\n    if (user) {\n      user = JSON.parse(user);\n      this.sysUserName = user.name || '';\n      this.sysUserAvatar = user.avatar || '';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Kriy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(\"cZQX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n\n\nvar newAxios = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create({\n    headers: { 'X-Requested-With': 'ajax' }\n});\n\nnewAxios.interceptors.response.use(function (res) {\n    if (res.headers.redirect) {\n        window.location.href = res.headers.contentpath;\n    }\n    return res;\n}, function (error) {\n    console.log(res);\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (newAxios);\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"dYPY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_19acfbe8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"jK5q\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"rIFi\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_19acfbe8_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"McuT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  这是一个Demo\\n  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.price},on:{\"keyup\":_vm.inputHandle,\"input\":_vm.inputHandle}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.price},on:{\"keyup\":function($event){_vm.onafterpasteHandle($event)},\"input\":_vm.onafterpasteHandle}}),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('input',{attrs:{\"type\":\"text\",\"value\":\"0\",\"name\":\"\"},on:{\"focus\":_vm.focusHandle}})]),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"100px\"}},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"默认\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间选择\",\"rules\":[{ required: true, validator: _vm.validatePass, trigger: 'blur, change' }],\"prop\":\"dateValue\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},on:{\"change\":_vm.changeHandle},model:{value:(_vm.ruleForm.dateValue),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"dateValue\", $$v)},expression:\"ruleForm.dateValue\"}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"KEcs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_editer__ = __webpack_require__(\"0FdO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui__ = __webpack_require__(\"gcms\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_loading___ = __webpack_require__(\"e5RB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_resource__ = __webpack_require__(\"/oTv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__vuex_store__ = __webpack_require__(\"YtJ0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vuex__ = __webpack_require__(\"QJ6d\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__router___ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__theme_index_css__ = __webpack_require__(\"Xcu2\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__theme_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__theme_index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__assets_iconfont_iconfont_css__ = __webpack_require__(\"muQq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__assets_iconfont_iconfont_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__assets_iconfont_iconfont_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__assets_iconfont_iconfont_js__ = __webpack_require__(\"f8sx\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__assets_iconfont_iconfont_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__assets_iconfont_iconfont_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__styles_main_css__ = __webpack_require__(\"asJK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__styles_main_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__styles_main_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__permission_js__ = __webpack_require__(\"kTXO\");\n// import babelpolyfill from 'babel-polyfill'\n\n\n\n\n\n\n\n// import VueRouter from 'vue-router'\n\n\n\n\n\n\n\n //权限\n//import NProgress from 'nprogress'\n//import 'nprogress/nprogress.css'\n// 载入bootstrap.js\n__webpack_require__(\"rDZd\");\n__webpack_require__(\"gPGO\");\n__webpack_require__(\"AlR3\");\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_5_vue_resource__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_3_element_ui___default.a);\n// Vue.use(VueRouter)\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_7_vuex__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_4__components_loading___[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2__components_editer__[\"a\" /* default */], {\n  height: 300,\n  disableDragAndDrop: true,\n  toolbar: [['style', ['style']], ['font', ['bold', 'underline', 'clear']], ['fontname', ['fontname']], ['fontsize', ['fontsize']], ['color', ['color']], ['para', ['ul', 'ol', 'paragraph']], ['table', ['table']], ['insert', ['link', 'picture', 'video']], ['view', ['fullscreen']]\n  // ['view', ['fullscreen', 'codeview', 'help']]\n  ]\n});\n\n//NProgress.configure({ showSpinner: false });\n/*\r\nrouter.beforeEach((to, from, next) => {\r\n  //NProgress.start();\r\n  // if (to.path == '/login') {\r\n  //   sessionStorage.removeItem('user');\r\n  // }\r\n  // let user = JSON.parse(sessionStorage.getItem('user'));\r\n  // if (!user && to.path != '/login') {\r\n  //   next({ path: '/login' })\r\n  // } else {\r\n  //   next()\r\n  // }\r\n  next()\r\n})*/\n__WEBPACK_IMPORTED_MODULE_8__router___[\"a\" /* default */].beforeEach(function (to, from, next) {\n  if (localStorage.getItem('merchant') == 1) {\n    //控制入驻成功后刷新页面\n    localStorage.setItem(\"merchant\", 0);\n    next({ path: '/store/message' }); // 确保一定要调用 next()\n  }\n\n  next(); // 确保一定要调用 next()\n});\n\n//router.afterEach(transition => {\n//NProgress.done();\n//});\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].filter('numbers', function (value) {\n  return value.replace(/[^\\d]/g, '');\n});\n\nvar app2 = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  //el: '#app',\n  //template: '<App/>',\n  router: __WEBPACK_IMPORTED_MODULE_8__router___[\"a\" /* default */],\n  store: __WEBPACK_IMPORTED_MODULE_6__vuex_store__[\"a\" /* default */],\n\n  //components: { App }\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */]);\n  }\n}).$mount('#app');\n\n/***/ }),\n\n/***/ \"Phe6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"QquN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('app-header',{attrs:{\"sysUserName\":_vm.sysUserName}}),_vm._v(\" \"),_c('div',{staticClass:\"shadows\"}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('el-menu',{staticClass:\"pro-sidebar\",attrs:{\"default-active\":_vm.$route.path,\"unique-opened\":\"\",\"router\":\"\",\"backgroundColor\":\"#545c64\",\"textColor\":\"#fff\",\"activeTextColor\":\"#ffd04b\"}},[_vm._l((_vm.$router.options.routes),function(item,index){return (!item.hidden)?[(!item.leaf)?_c('el-submenu',{attrs:{\"index\":index+''}},[_c('template',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{class:item.iconCls}),_c('span',{staticClass:\"side-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_vm._l((item.children),function(child){return (!child.hidden)?_c('el-menu-item',{key:child.name,attrs:{\"index\":child.path}},[_vm._v(_vm._s(child.name))]):_vm._e()})],2):_vm._e(),_vm._v(\" \"),(item.leaf && item.children.length>0)?_c('el-menu-item',{staticClass:\"sub-title\",attrs:{\"index\":item.children[0].path}},[_c('i',{class:item.iconCls}),_vm._v(_vm._s(item.children[0].name))]):_vm._e()]:_vm._e()})],2),_vm._v(\" \"),_c('section',{staticClass:\"content-container\"},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('div',{staticClass:\"content-wrapper\",attrs:{\"span\":24}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view',{key:_vm.key})],1)],1)])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"WJS9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"el-loading-mask\"},[_c('div',{staticClass:\"el-loading-spinner\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"WMeU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCount\", function() { return getCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStoreId\", function() { return getStoreId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserSelectedSku\", function() { return getUserSelectedSku; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProductSkuQuantity\", function() { return getProductSkuQuantity; });\n//test\nvar getCount = function getCount(state) {\n    return state.count;\n};\n\nvar getStoreId = function getStoreId(state) {\n    return state.storeId;\n};\n\nvar getUserSelectedSku = function getUserSelectedSku(state) {\n    return state.userSelectedTheSku;\n};\n\nvar getProductSkuQuantity = function getProductSkuQuantity(state) {\n    return state.productForm.skuQuantity;\n};\n\n/***/ }),\n\n/***/ \"X1Wg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"message-con\"},[_vm._l((_vm.message),function(item,index){return _c('div',{staticClass:\"message-item\"},[_c('div',{staticClass:\"message-item-top\",on:{\"click\":function($event){_vm.toggleDown(item.bottom,index)}}},[_c('div',{staticClass:\"message-title\"},[_c('i',[_vm._v(\"•\")]),_vm._v(\" \"),_c('span',[_vm._v(\"【\"+_vm._s(_vm.switchType(item.majorType))+\"】\"+_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"message-time\"},[_vm._v(\"\\n                \"+_vm._s(_vm.switchTime(item.createdAt))+\"\\n                \"),(!item.bottom)?_c('i',{staticClass:\"el-icon-caret-bottom\"}):_c('i',{staticClass:\"el-icon-caret-top\"})])]),_vm._v(\" \"),(item.bottom)?_c('div',{staticClass:\"message-item-detail\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(item.content)}}),_vm._v(\" \"),(item.jumpNot != \"\")?_c('router-link',{attrs:{\"to\":item.jumpLink}},[_vm._v(\"查看详情\")]):_vm._e()],1):_vm._e()])}),_vm._v(\" \"),(_vm.total > _vm.pageSize)?_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[20,50,100],\"page-size\":_vm.pageSize,\"layout\":\"sizes, prev, pager, next, jumper,total\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Xcu2\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"KEcs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"1eSk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Full_vue__ = __webpack_require__(\"rL1v\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_FullNoLeft_vue__ = __webpack_require__(\"n+LW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__views_Demo__ = __webpack_require__(\"9gGt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__views_message_PersonMessage_vue__ = __webpack_require__(\"qweL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__goodsManagementRoutes_js__ = __webpack_require__(\"D+Io\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__home_js__ = __webpack_require__(\"roEk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__404_js__ = __webpack_require__(\"DMbx\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__merchantEnter_js__ = __webpack_require__(\"a0e0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__shopsManagementRoutes_js__ = __webpack_require__(\"hLst\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__transactionRoutes_js__ = __webpack_require__(\"t7ut\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__marketingCenterRoutes_js__ = __webpack_require__(\"ZMT0\");\n\n\n\n\n\n\n/*import MerchantEnter from '@/views/shops//MerchantEnter.vue'\r\nimport MerchantEnter1 from '@/views/shops//MerchantEnter1.vue'*/\n\n//import mendian from '@/views/charts/mendian.vue'\n\n\n//商品管理路由\n\n\n//首页路由\n\n\n/*404*/\n\n\n//商家入驻\n\n\n//店铺管理路由\n\n\n/*交易管理路由*/\n\n\n/*营销路由管理*/\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\nvar routers = new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n    routes: [{\n        path: '/',\n        component: __WEBPACK_IMPORTED_MODULE_2__components_Full_vue__[\"a\" /* default */],\n        name: '',\n        hidden: true,\n        redirect: '/home/index'\n    }, {\n        path: '/demo',\n        component: __WEBPACK_IMPORTED_MODULE_4__views_Demo__[\"a\" /* default */],\n        name: 'demo',\n        hidden: true\n    }, {\n        path: '/home',\n        component: __WEBPACK_IMPORTED_MODULE_2__components_Full_vue__[\"a\" /* default */],\n        name: '',\n        hidden: true,\n        redirect: '/home/index',\n        children: __WEBPACK_IMPORTED_MODULE_7__home_js__[\"a\" /* default */]\n    },\n\n    /*消息中心*/\n    {\n        path: '/person',\n        component: __WEBPACK_IMPORTED_MODULE_2__components_Full_vue__[\"a\" /* default */],\n        name: '',\n        hidden: true,\n        children: [{\n            path: '/person/message',\n            component: __WEBPACK_IMPORTED_MODULE_5__views_message_PersonMessage_vue__[\"a\" /* default */],\n            name: '消息中心'\n        }]\n    },\n    /*{\r\n        path: '/merchant-enter',\r\n        component: MerchantEnter,\r\n        name: '',\r\n        hidden: true\r\n    },*/\n    {\n        path: '/merchant',\n        component: __WEBPACK_IMPORTED_MODULE_3__components_FullNoLeft_vue__[\"a\" /* default */],\n        name: '',\n        hidden: true,\n        children: __WEBPACK_IMPORTED_MODULE_9__merchantEnter_js__[\"a\" /* default */]\n    }, {\n        path: '/404',\n        component: __WEBPACK_IMPORTED_MODULE_3__components_FullNoLeft_vue__[\"a\" /* default */],\n        name: '',\n        children: __WEBPACK_IMPORTED_MODULE_8__404_js__[\"a\" /* default */],\n        hidden: true\n    }, {\n        path: '*',\n        redirect: '/404',\n        hidden: true\n    }]\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"YtJ0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"KEcs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"QJ6d\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__actions__ = __webpack_require__(\"/8vw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__getters__ = __webpack_require__(\"WMeU\");\n\n\n\n\nvar storeId = window.config && window.config.storeId ? window.config.storeId : '';\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */]);\n\n// 应用初始状态\nvar state = {\n    count: 10,\n    storeId: storeId,\n    userName: '',\n    userId: '',\n    storeType: '',\n    apiHost: '',\n    productForm: {\n        skuQuantity: ''\n    },\n    userSelectedTheSku: [],\n    templateValueList: []\n\n    // 定义所需的 mutations\n};var mutations = {\n    INCREMENT: function INCREMENT(state) {\n        state.count++;\n    },\n    DECREMENT: function DECREMENT(state) {\n        state.count--;\n    },\n    UPDATE_TEMPLATE_VALUE_LIST: function UPDATE_TEMPLATE_VALUE_LIST(state) {\n        state.templateValueList = state;\n    },\n    UPDATE_USER_SELECTED_THE_SKU: function UPDATE_USER_SELECTED_THE_SKU(state, data) {\n        //state.userSelectedTheSku = data\n        __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].set(state, 'userSelectedTheSku', data);\n    },\n\n    //更新商品库存\n    UPDATE_PRODCUT_SKU_QUANTITY: function UPDATE_PRODCUT_SKU_QUANTITY(state, data) {\n        state.productForm.skuQuantity = data;\n    }\n};\n\n// 创建 store 实例\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */].Store({\n    actions: __WEBPACK_IMPORTED_MODULE_2__actions__[\"a\" /* default */],\n    getters: __WEBPACK_IMPORTED_MODULE_3__getters__,\n    state: state,\n    mutations: mutations\n}));\n\n/***/ }),\n\n/***/ \"ZMT0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n/*营销中心*/\nvar Tool = function Tool(resolve) {\n    return __webpack_require__.e/* require */(40).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"x+Lg\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Rule = function Rule(resolve) {\n    return __webpack_require__.e/* require */(39).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"CaYF\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Create = function Create(resolve) {\n    return __webpack_require__.e/* require */(24).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"2y8o\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Management = function Management(resolve) {\n    return __webpack_require__.e/* require */(43).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"aOEQ\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Attend = function Attend(resolve) {\n    return __webpack_require__.e/* require */(16).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"v+sN\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar routers = [{ path: '/marketing-center/tool', component: Tool, name: '营销工具',\n    children: [{ path: '/marketing-center/tool/detail', component: Rule, name: '现金券' }, { path: '/marketing-center/tool/create', component: Create, name: '创建活动' }]\n}, { path: '/marketing-center/management', component: Management, name: '活动管理',\n    children: [{ path: '/marketing-center/management/detail', component: Create, name: '活动明细' }, { path: '/marketing-center/management/attend', component: Attend, name: '活动详情' }]\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"a0e0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*商家入驻*/\nvar merchantEnterBefore = function merchantEnterBefore(resolve) {\n    return __webpack_require__.e/* require */(41).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"ouau\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar merchantEnter = function merchantEnter(resolve) {\n    return __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"NxvQ\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar routers = [{\n    path: '/merchant/merchant-enter-before',\n    component: merchantEnterBefore,\n    hidden: true\n}, {\n    path: '/merchant/merchant-enter',\n    component: merchantEnter,\n    hidden: true\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"asJK\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"dYPY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  components: {}\n});\n\n/***/ }),\n\n/***/ \"dmSZ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"e5RB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__LoadingMask__ = __webpack_require__(\"GcVu\");\n\n\nvar loading = {\n    install: function install(Vue) {\n        Vue.component('LoadingMask', __WEBPACK_IMPORTED_MODULE_0__LoadingMask__[\"a\" /* default */]);\n    } //'Loading'这就是后面可以使用的组件的名字，install是默认的一个方法\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (loading);\n\n/***/ }),\n\n/***/ \"eGGH\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"f8sx\":\n/***/ (function(module, exports) {\n\n(function (window) {\n  var svgSprite = '<svg><symbol id=\"icon-iconfonterror\" viewBox=\"0 0 1024 1024\"><path d=\"M514.15386963 168.64401245c-188.89041138 0-342.01620484 153.12579346-342.01620484 342.01620484s153.12579346 342.01620484 342.01620484 342.01620483 342.01620484-153.12579346 342.01620483-342.01620483S703.04345703 168.64401245 514.15386963 168.64401245zM632.35879516 630.62927246c-8.83630372 8.83630372-21.2659607 8.04611206-21.26596068 8.04611206-16.2355957 0-23.70904541-8.9079895-23.70904542-8.9079895l-73.23074341-73.23074341-73.22909546 73.23074341c0 0-7.47344971 8.9079895-23.70986938 8.9079895 0 0-12.42800903 0.79019165-21.26513672-8.04611206 0 0-9.91488648-10.20162964-9.91488648-22.84716797 0 0 0-16.2355957 10.05825807-24.42590332l72.52212524-72.35897827-73.33786011-73.33786011c-11.35107422-11.35107422-9.05136109-24.28253174-9.05136109-24.28253173 0-13.93753052 8.76461792-20.97756958 8.76461793-20.97756958 9.62649536-9.62649536 21.40933227-9.76986695 21.40933227-9.76986695 15.37371826 0 24.42590333 9.76986695 24.42590332 9.76986695l73.32714844 73.16235351 73.32879639-73.16235351c0 0 9.05136109-9.76986695 24.42590331-9.76986695 0 0 11.78283692 0.14337158 21.40933229 9.76986695 0 0 8.76461792 7.04003906 8.76461791 20.97756957 0 0 2.29806518 12.93145752-9.05300903 24.28253174l-73.33786011 73.33786011 72.52377319 72.35897827c10.05743408 8.19113159 10.05743408 24.42590333 10.05743409 24.42590333C642.27285766 620.42681885 632.35879516 630.62927246 632.35879516 630.62927246z\"  ></path></symbol><symbol id=\"icon-xiangyou\" viewBox=\"0 0 1024 1024\"><path d=\"M724.913 511.998 342.432 129.516l-43.343 43.343 339.14 339.141-339.141 339.14 43.343 43.346L724.913 511.998z\"  ></path></symbol><symbol id=\"icon-dengyuhao\" viewBox=\"0 0 1024 1024\"><path d=\"M995.84 386.56 28.16 386.56C12.8 386.56 0 378.88 0 358.4c0-15.36 15.36-23.04 28.16-23.04l967.68 0c15.36 0 28.16 7.68 28.16 23.04C1024 381.44 1008.64 386.56 995.84 386.56L995.84 386.56 995.84 386.56z\"  ></path><path d=\"M995.84 680.96 28.16 680.96c-15.36 0-28.16-7.68-28.16-23.04 0-15.36 12.8-28.16 28.16-28.16l967.68 0c15.36 0 28.16 15.36 28.16 28.16C1024 670.72 1008.64 680.96 995.84 680.96L995.84 680.96 995.84 680.96z\"  ></path></symbol><symbol id=\"icon-dengyu\" viewBox=\"0 0 1024 1024\"><path d=\"M67.971 306.879h888.861z\"  ></path><path d=\"M956.831 318.944h-888.861c-6.434 0-12.066-5.631-12.066-12.066s5.631-12.066 12.066-12.066h888.861c6.434 0 12.066 5.631 12.066 12.066s-5.631 12.066-12.066 12.066z\"  ></path><path d=\"M67.971 717.121h888.861z\"  ></path><path d=\"M956.831 729.187h-888.861c-6.434 0-12.066-5.631-12.066-12.066s5.631-12.066 12.066-12.066h888.861c6.434 0 12.066 5.631 12.066 12.066s-5.631 12.066-12.066 12.066z\"  ></path></symbol><symbol id=\"icon-guanbi1\" viewBox=\"0 0 1024 1024\"><path d=\"M512 142.859375C308.47085571 142.859375 142.859375 308.4453125 142.859375 512s165.5859375 369.140625 369.140625 369.140625c203.52914429 0 369.140625-165.5859375 369.140625-369.140625S715.5546875 142.859375 512 142.859375z m150.58300781 482.8359375c10.28320313 10.3359375 10.25683594 27-0.05191039 37.28320313a26.3152771 26.3152771 0 0 1-18.61523438 7.69921875c-6.77636719 0-13.52636719-2.58398438-18.66879273-7.75195313l-113.37890625-113.72167969-113.74804687 112.53598023c-5.14077758 5.0625-11.83886719 7.61929321-18.53613282 7.61929321a26.2732544 26.2732544 0 0 1-18.74707031-7.83105469c-10.23046875-10.36230469-10.15136719-27.02636719 0.21176148-37.28320312L474.6640625 511.86816406 361.46890258 398.3046875c-10.28320313-10.31039429-10.25601196-27 0.05273438-37.28320313 10.31039429-10.31039429 26.97280883-10.25683594 37.28320312 0.0519104l113.35253907 113.69613648L625.90542602 362.234375c10.33511352-10.25601196 27.0519104-10.15136719 37.28320313 0.21176148 10.25601196 10.36230469 10.15136719 27.0519104-0.21176147 37.28320312L549.36230469 512.10464477l113.22070312 113.59066773z\" fill=\"\" ></path></symbol><symbol id=\"icon-guanbi2\" viewBox=\"0 0 1024 1024\"><path d=\"M514.53125 525.5m-343.40625 0a343.40625 343.40625 0 1 0 686.8125 0 343.40625 343.40625 0 1 0-686.8125 0Z\" fill=\"#EA9325\" ></path><path d=\"M518.75 575.28125L638.5625 692.5625c16.875 16.03125 43.03125 16.03125 59.0625-0.84375 16.03125-16.875 16.03125-43.03125-0.84375-59.0625L577.8125 516.21875l113.0625-115.59375c16.03125-16.875 16.03125-43.03125-0.84375-59.0625-16.875-16.03125-43.03125-16.03125-59.0625 0.84375L517.90625 457.15625 398.9375 339.875c-16.875-16.03125-43.03125-16.03125-59.0625 0.84375-16.03125 16.875-16.03125 43.03125 0.84375 59.0625l118.96875 117.28125-121.5 123.1875c-16.03125 16.875-16.03125 43.03125 0.84375 59.0625 16.875 16.03125 43.03125 16.03125 59.0625-0.84375l120.65625-123.1875z\" fill=\"#FFFFFF\" ></path></symbol><symbol id=\"icon-gouxuan1\" viewBox=\"0 0 1024 1024\"><path d=\"M512.021 65.661c-247 0-447.185 200.206-447.185 447.185S265.02 960.031 512.021 960.031c246.955 0 447.186-200.206 447.186-447.185S758.977 65.661 512.02 65.661zM748.28 396.334L462.237 682.397c-9.257 9.236-24.194 9.28-33.539-0.087-0.021 0-0.044-0.022-0.044-0.022L260.567 514.2c-9.323-9.323-9.389-24.325-0.044-33.67 9.28-9.302 24.477-9.17 33.67 0.022L445.51 631.869l269.142-269.162c9.258-9.236 24.192-9.258 33.538 0.088 9.302 9.302 9.259 24.412 0.089 33.539z\"  ></path></symbol><symbol id=\"icon-yanjing\" viewBox=\"0 0 1024 1024\"><path d=\"M511.96234179 300.06395881C299.67067492 300.06395881 187.11316835 501.3847739 187.11316835 501.3847739s121.53319716 178.94169688 324.84917344 178.94169688c203.33118439 0 324.8774171-178.94169688 324.87741708-178.94169688S736.98610617 300.06395881 511.96234179 300.06395881z m0.19987821 304.67885435c-64.73229826 0-117.21119285-51.20937824-117.21119284-114.36872186 0-63.1593436 52.4788946-114.36872183 117.21119284-114.36872183 64.73157405 0 117.21046866 51.20937824 117.21046866 114.36872183 0 63.1593436-52.47961879 114.36872183-117.21119287 114.36872186z m-0.18539429-161.00479961c-28.34142743 0-51.31511092 22.78901338-51.31511092 50.8921802 0 28.10244263 22.97368347 50.89145602 51.31511092 50.89145601s51.31511092-22.78901338 51.31511092-50.89145601c0-28.10316682-22.97440767-50.89218021-51.31511092-50.8921802z\" fill=\"\" ></path></symbol><symbol id=\"icon-xiala1\" viewBox=\"0 0 1024 1024\"><path d=\"M919.8 381.1L555.2 779.8a57.377 57.377 0 0 1-43.1 19.5c-16.5 0-32.2-7.1-43.1-19.5L104.4 381.1c-17.8-18.8-23.3-46.2-14.1-70.4s31.4-41.1 57.2-43.4h728.9c25.9 2.2 48.2 19 57.4 43.3 9.3 24.3 3.8 51.6-14 70.5z\" fill=\"\" ></path></symbol><symbol id=\"icon-biyan1\" viewBox=\"0 0 2048 1024\"><path d=\"M807.9361104 377.28643885a22.60297697 22.60297697 0 0 0-4.01361275-28.94025996c-9.08343915-7.2174615-21.15948466-5.1402409-28.23611745 4.1544412-0.98579971 1.02100667-112.80364132 136.25158927-245.7809676 136.25158925-128.92850656 0-245.81617485-136.25158927-246.80197453-137.30780316A20.10327073 20.10327073 0 0 0 254.83211335 349.40239282a21.33552008 21.33552008 0 0 0-2.00680636 28.86984573c2.00680637 3.13343454 26.19410408 30.9822736 64.46425341 61.96454691L265.92235916 494.98387115c-8.02722551 8.23846818-7.04142579 21.68759147 1.05621395 28.90505299 2.00680637 4.11923423 7.04142579 6.19645482 12.07604523 6.19645484a19.64557787 19.64557787 0 0 0 14.0828516-6.19645484l55.41602097-58.86631964c26.19410408 18.58936421 57.42282734 36.15772147 91.67936389 48.51542361l-21.1242774 73.30124264a20.70179179 20.70179179 0 0 0 14.0828516 25.8420327h6.05562638a19.50474941 19.50474941 0 0 0 19.11747105-15.49113666l21.15948437-73.30124265c16.12486495 3.09822728 33.2355299 5.1402409 50.34619455 5.14024091 17.1458719 0 34.29174353-2.04201336 50.38140182-5.14024091l21.15948438 72.28023596a20.42013488 20.42013488 0 0 0 19.1526783 15.49113666c2.00680637 0 4.01361276 0 5.03461943-1.05621392a20.73699904 20.73699904 0 0 0 14.08285161-25.80682545l-21.12427743-72.28023595c34.25653658-12.39290938 65.48526007-29.92605968 91.64415693-48.51542388L764.63134163 521.81170355a19.6807851 19.6807851 0 0 0 14.08285162 6.19645482 19.64557787 19.64557787 0 0 0 14.08285161-6.19645482 21.30031312 21.30031312 0 0 0 1.05621394-28.90505301l-51.40240822-54.71187842c41.29796238-30.9822736 65.48526007-60.90833327 65.48525982-60.90833326z\" fill=\"#C7C7C7\" ></path></symbol><symbol id=\"icon-bianji\" viewBox=\"0 0 1024 1024\"><path d=\"M814.545455 0H46.545455a46.545455 46.545455 0 0 0-46.545455 46.545455v930.90909a46.545455 46.545455 0 0 0 46.545455 46.545455h930.90909a46.545455 46.545455 0 0 0 46.545455-46.545455V209.454545 372.363636h-46.545455v581.818182a23.272727 23.272727 0 0 1-23.272727 23.272727h-884.363636a23.272727 23.272727 0 0 1-23.272727-23.272727v-884.363636a23.272727 23.272727 0 0 1 23.272727-23.272727H651.636364V0h162.909091z\" fill=\"#999999\" ></path><path d=\"M825.064727 23.272727l154.903273 154.903273-503.389091 503.342545-154.856727-154.856727L825.064727 23.272727zM282.996364 565.341091l154.856727 154.903273-174.219636 19.362909 19.362909-174.266182z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-fanhui\" viewBox=\"0 0 1024 1024\"><path d=\"M651.82032352 286.50629017L632.83569345 267.49480773 366.99716786 533.33333333l265.83852559 265.8385256 18.98463007-19.01148244L404.99328036 533.33333333 651.82032352 286.50629017z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gangweijiaose\" viewBox=\"0 0 1024 1024\"><path d=\"M329.9555552 420.97777813m-91.02222187 0a91.02222187 91.02222187 0 1 0 182.0444448 0 91.02222187 91.02222187 0 1 0-182.0444448 0Z\" fill=\"#999999\" ></path><path d=\"M147.91111147 694.0444448a182.0444448 182.0444448 0 1 1 364.08888853 0H147.91111147z\" fill=\"#999999\" ></path><path d=\"M56.88888853 147.91111147h910.22222294a45.51111147 45.51111147 0 0 1 45.5111104 45.5111104v637.15555626a45.51111147 45.51111147 0 0 1-45.5111104 45.5111104H56.88888853a45.51111147 45.51111147 0 0 1-45.5111104-45.5111104V193.42222187a45.51111147 45.51111147 0 0 1 45.5111104-45.5111104z m22.75555627 45.5111104a22.7555552 22.7555552 0 0 0-22.75555627 22.75555626v591.64444374a22.7555552 22.7555552 0 0 0 22.75555627 22.75555626h864.7111104a22.7555552 22.7555552 0 0 0 22.75555627-22.75555626v-591.64444374a22.7555552 22.7555552 0 0 0-22.75555627-22.75555626h-864.7111104z\" fill=\"#999999\" ></path><path d=\"M603.02222187 375.46666667h273.06666666v45.51111146h-273.06666666zM603.02222187 512h273.06666666v45.51111147h-273.06666666zM603.02222187 648.53333333h273.06666666v45.51111147h-273.06666666z\" fill=\"#999999\" ></path><path d=\"M603.02222187 420.97777813a22.7555552 22.7555552 0 1 1 0-45.51111146 22.7555552 22.7555552 0 0 1 0 45.51111146z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111146 22.7555552 22.7555552 0 0 1 0 45.51111146z m-273.06666666 136.53333334a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m-273.06666666 136.53333333a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gou\" viewBox=\"0 0 1408 1024\"><path d=\"M131.84 509.056c-19.264-19.264-51.136-18.688-71.104 1.28-19.968 19.968-20.544 51.84-1.28 71.104l396.288 396.288a32 32 0 0 0 45.248 0L1347.264 131.52c19.968-20.032 20.544-51.84 1.28-71.168-19.264-19.2-51.136-18.688-71.04 1.28L480.896 858.24 131.84 509.056z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-guanbi\" viewBox=\"0 0 1024 1024\"><path d=\"M547.75884507 512l83.81257008-83.78294353a14.81310869 14.81310869 0 0 0-20.97536228-20.97536228L526.81310869 491.05426427 443.03016519 407.24169419a14.81310869 14.81310869 0 0 0-20.97536229 20.97536228L505.86737298 512l-83.81257009 83.78294353a14.81310869 14.81310869 0 0 0 20.9753623 20.97536228l83.7829435-83.81257008 83.78294418 83.81257008a14.81310869 14.81310869 0 0 0 20.97536224-20.97536228L547.75884507 512zM512 837.8883953C332.02072736 837.8883953 186.1116047 691.97927264 186.1116047 512S332.02072736 186.1116047 512 186.1116047s325.8883953 145.90912267 325.8883953 325.8883953-145.90912267 325.8883953-325.8883953 325.8883953z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gouxuan\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.236364 1024 0 794.763636 0 512S229.236364 0 512 0s512 229.236364 512 512-229.236364 512-512 512z m0-46.545455c257.070545 0 465.454545-208.384 465.454545-465.454545S769.070545 46.545455 512 46.545455 46.545455 254.929455 46.545455 512s208.384 465.454545 465.454545 465.454545z\" fill=\"#999999\" ></path><path d=\"M264.704 519.214545a23.738182 23.738182 0 0 0-33.512727 0.605091 23.738182 23.738182 0 0 0-0.605091 33.512728l181.015273 181.061818a23.272727 23.272727 0 0 0 32.907636 0l393.122909-393.122909a23.738182 23.738182 0 0 0 0.605091-33.512728 23.738182 23.738182 0 0 0-33.512727 0.605091L429.288727 683.752727l-164.584727-164.584727z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-mima\" viewBox=\"0 0 1024 1024\"><path d=\"M546.909091 712.145455v67.490909a34.909091 34.909091 0 1 1-69.818182 0V712.145455a69.818182 69.818182 0 1 1 69.818182 0zM744.727273 418.909091V279.272727A232.727273 232.727273 0 1 0 279.272727 279.272727v139.636364H232.727273v139.636364h558.545454V418.909091h-46.545454zM488.727273 0h46.545454A256 256 0 0 1 791.272727 256V558.545455H232.727273V256A256 256 0 0 1 488.727273 0z\" fill=\"#999999\" ></path><path d=\"M232.727273 372.363636h558.545454a139.636364 139.636364 0 0 1 139.636364 139.636364v372.363636a139.636364 139.636364 0 0 1-139.636364 139.636364H232.727273a139.636364 139.636364 0 0 1-139.636364-139.636364v-372.363636a139.636364 139.636364 0 0 1 139.636364-139.636364z m0 46.545455a93.090909 93.090909 0 0 0-93.090909 93.090909v372.363636a93.090909 93.090909 0 0 0 93.090909 93.090909h558.545454a93.090909 93.090909 0 0 0 93.090909-93.090909v-372.363636a93.090909 93.090909 0 0 0-93.090909-93.090909H232.727273z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shouji\" viewBox=\"0 0 1024 1024\"><path d=\"M279.272727 0h465.454546a46.545455 46.545455 0 0 1 46.545454 46.545455v930.90909a46.545455 46.545455 0 0 1-46.545454 46.545455H279.272727a46.545455 46.545455 0 0 1-46.545454-46.545455V46.545455a46.545455 46.545455 0 0 1 46.545454-46.545455z m0 162.909091v698.181818h465.454546v-698.181818H279.272727z m232.727273 828.509091a46.545455 46.545455 0 1 0 0-93.090909 46.545455 46.545455 0 0 0 0 93.090909zM460.8 46.545455a18.618182 18.618182 0 1 0 0 37.236363h102.4a18.618182 18.618182 0 1 0 0-37.236363H460.8z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zhanghao\" viewBox=\"0 0 1024 1024\"><path d=\"M977.454545 1000.727273h-46.545454a418.909091 418.909091 0 1 0-837.818182 0H46.545455c0-226.443636 161.698909-415.092364 375.90109-456.843637a279.272727 279.272727 0 1 1 179.10691 0C815.755636 585.634909 977.454545 774.283636 977.454545 1000.727273zM512 502.690909a223.418182 223.418182 0 1 0 0-446.836364 223.418182 223.418182 0 0 0 0 446.836364z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zizhanghao\" viewBox=\"0 0 1325 1024\"><path d=\"M391.529412 240.941176m-210.82353 0a210.823529 210.823529 0 1 0 421.647059 0 210.823529 210.823529 0 1 0-421.647059 0Z\" fill=\"#999999\" ></path><path d=\"M0 903.529412a391.529412 391.529412 0 1 1 783.058824 0H0z\" fill=\"#999999\" ></path><path d=\"M933.647059 361.411765m-210.82353 0a210.823529 210.823529 0 1 0 421.647059 0 210.823529 210.823529 0 1 0-421.647059 0Z\" fill=\"#999999\" ></path><path d=\"M542.117647 1024a391.529412 391.529412 0 1 1 783.058824 0H542.117647z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zizhanghaoliebiao\" viewBox=\"0 0 1024 1024\"><path d=\"M791.272727 186.181818V46.545455a46.545455 46.545455 0 0 0-46.545454-46.545455H93.090909a46.545455 46.545455 0 0 0-46.545454 46.545455v744.727272a46.545455 46.545455 0 0 0 46.545454 46.545455h139.636364v-46.545455H116.363636a23.272727 23.272727 0 0 1-23.272727-23.272727v-698.181818a23.272727 23.272727 0 0 1 23.272727-23.272727h605.090909a23.272727 23.272727 0 0 1 23.272728 23.272727V186.181818h46.545454z\" fill=\"#999999\" ></path><path d=\"M372.363636 325.818182h465.454546v46.545454H372.363636zM372.363636 418.909091h279.272728v46.545454H372.363636zM372.363636 512h465.454546v46.545455H372.363636zM372.363636 605.090909h279.272728v46.545455H372.363636zM372.363636 698.181818h93.090909v46.545455H372.363636zM512 698.181818h93.090909v46.545455h-93.090909z\" fill=\"#999999\" ></path><path d=\"M279.272727 186.181818h651.636364a46.545455 46.545455 0 0 1 46.545454 46.545455v558.545454l-93.090909 93.090909-139.636363 139.636364H279.272727a46.545455 46.545455 0 0 1-46.545454-46.545455V232.727273a46.545455 46.545455 0 0 1 46.545454-46.545455z m23.272728 46.545455a23.272727 23.272727 0 0 0-23.272728 23.272727v698.181818a23.272727 23.272727 0 0 0 23.272728 23.272727h418.90909l139.636364-139.636363 69.818182-69.818182v-512a23.272727 23.272727 0 0 0-23.272727-23.272727h-605.090909z\" fill=\"#999999\" ></path><path d=\"M977.454545 791.272727v-46.545454h-279.272727v279.272727h46.545455v-232.727273h232.727272z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shenglvehao\" viewBox=\"0 0 1024 1024\"><path d=\"M128 597.333333a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z m384 0a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z m384 0a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shijian\" viewBox=\"0 0 1024 1024\"><path d=\"M512 981.333333C252.8 981.333333 42.666667 771.2 42.666667 512S252.8 42.666667 512 42.666667s469.333333 210.133333 469.333333 469.333333-210.133333 469.333333-469.333333 469.333333z m0-42.666666c235.648 0 426.666667-191.018667 426.666667-426.666667S747.648 85.333333 512 85.333333 85.333333 276.352 85.333333 512s191.018667 426.666667 426.666667 426.666667z\" fill=\"#999999\" ></path><path d=\"M319.786667 512h213.333333V194.986667a21.333333 21.333333 0 1 0-42.453333-3.157334h-0.213334V469.333333h-170.666666a21.333333 21.333333 0 0 0 0 42.666667z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-rili\" viewBox=\"0 0 1024 1024\"><path d=\"M279.338667 228.992c25.813333-0.085333 45.824-20.693333 46.250666-47.786667 0.213333-14.933333 0-29.909333 0-44.842666h0.085334v-0.725334c0-15.018667 0.128-30.08 0-45.056a46.805333 46.805333 0 0 0-12.373334-32.896 45.44 45.44 0 0 0-50.773333-11.733333 45.226667 45.226667 0 0 0-29.653333 42.922667 4179.2 4179.2 0 0 0-0.256 46.805333c0 14.933333 0 29.866667 0.085333 44.8 0 27.264 20.650667 48.64 46.549333 48.554667h0.085334z m468.693333 0.853333c25.856-0.042667 45.866667-20.650667 46.293333-47.786666 0.213333-14.933333 0-29.866667 0-44.8h0.042667v-0.768c0-15.018667 0.128-30.037333 0-45.056a46.805333 46.805333 0 0 0-12.373333-32.853334 45.44 45.44 0 0 0-50.773334-11.733333c-17.92 6.826667-29.397333 22.826667-29.568 42.88-0.170667 15.573333-0.256 31.146667-0.213333 46.762667l0.042667 44.8c0 27.264 20.650667 48.682667 46.592 48.554666zM545.706667 573.866667h123.093333v91.690666h-123.093333v-91.733333z m187.306666-124.970667h122.88v91.818667h-122.88V448.853333z m0.085334 124.586667h122.709333V665.6h-122.709333v-92.032z m-374.613334 125.44h122.837334v91.776H358.4V698.88z m187.306667-0.213334h122.88v91.648h-122.88v-91.648z m187.349333 0.128h122.965334v91.562667h-122.965334V698.88z m-562.346666 0.128h123.093333v91.648H170.752v-91.648z m0.298666-125.013333h122.88v91.861333h-122.88v-91.818666z m374.442667-124.8h123.093333v91.648h-123.093333v-91.648z m-187.349333 124.885333h123.050666v91.690667H358.144v-91.690667z m0.298666-124.970666h122.88v91.776h-122.88v-91.733334z\" fill=\"#999999\" ></path><path d=\"M963.072 135.68h-115.541333c0 5.546667-0.085333 11.008-0.170667 16.512-0.810667 56.192-40.618667 99.413333-93.013333 102.954667a64.554667 64.554667 0 0 1-16.256-0.170667c-51.370667-4.693333-90.88-48.938667-90.965334-104.362667v-14.933333H377.258667c0 5.546667-0.042667 11.008-0.170667 16.512-0.810667 58.538667-44.074667 103.04-99.84 103.210667-55.722667 0.170667-100.309333-45.994667-100.437333-104.832v-14.933334H60.885333A18.218667 18.218667 0 0 0 42.666667 153.898667V928c0 10.069333 8.149333 18.261333 18.218666 18.261333h902.186667a18.218667 18.218667 0 0 0 18.218667-18.261333V153.898667a18.218667 18.218667 0 0 0-18.218667-18.218667z m-24.490667 725.333333H85.333333v-512h852.48v456.533334H938.666667v55.466666h-0.085334z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-fabuanli\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M716.8 448V294.4c0-7.68-5.12-12.8-12.8-12.8H307.2c-7.68 0-12.8 5.12-12.8 12.8v448c0 7.68 5.12 12.8 12.8 12.8h396.8c7.68 0 12.8-5.12 12.8-12.8V576h-25.6v147.2c0 3.84-2.56 6.4-6.4 6.4h-358.4c-3.84 0-6.4-2.56-6.4-6.4v-409.6c0-3.84 2.56-6.4 6.4-6.4h358.4c3.84 0 6.4 2.56 6.4 6.4V448h25.6z\" fill=\"#333333\" ></path><path d=\"M837.12 376.32c3.84 3.84 3.84 11.52 0 15.36L563.2 665.6c-3.84 3.84-11.52 3.84-15.36 0-3.84-3.84-3.84-11.52 0-15.36l273.92-273.92c3.84-3.84 11.52-3.84 15.36 0z\" fill=\"#333333\" ></path><path d=\"M748.8 194.56c3.84 3.84 3.84 11.52 0 15.36l-48.64 48.64c-3.84 3.84-11.52 3.84-15.36 0-3.84-3.84-3.84-11.52 0-15.36l48.64-48.64c3.84-5.12 10.24-5.12 15.36 0z\" fill=\"#41CAC0\" ></path><path d=\"M683.52 194.56c3.84-3.84 11.52-3.84 15.36 0l48.64 48.64c3.84 3.84 3.84 11.52 0 15.36-3.84 3.84-11.52 3.84-15.36 0l-48.64-48.64c-3.84-3.84-3.84-11.52 0-15.36zM395.52 380.16h122.88c6.4 0 11.52 5.12 11.52 11.52s-5.12 11.52-11.52 11.52h-122.88c-6.4 0-11.52-5.12-11.52-11.52s5.12-11.52 11.52-11.52z\" fill=\"#41CAC0\" ></path><path d=\"M428.8 215.04a16.64 16.64 0 1 0 33.28 0 16.64 16.64 0 1 0-33.28 0Z\" fill=\"#41CAC0\" ></path><path d=\"M766.72 328.96a16.64 16.64 0 1 0 33.28 0 16.64 16.64 0 1 0-33.28 0Z\" fill=\"#41CAC0\" ></path><path d=\"M573.44 128l53.76 53.76-53.76 53.76-53.76-53.76 53.76-53.76z m0 17.92L537.6 181.76l35.84 35.84 35.84-35.84-35.84-35.84zM395.52 471.04h202.24c6.4 0 11.52 5.12 11.52 11.52s-5.12 11.52-11.52 11.52H395.52c-6.4 0-11.52-5.12-11.52-11.52s5.12-11.52 11.52-11.52z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-fabushangpin\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M714.24 460.8h44.8c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-44.8c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24zM688.64 563.2h70.4c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-70.4c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24zM675.84 665.6h108.8c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-108.8c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24z\" fill=\"#41CAC0\" ></path><path d=\"M258.56 435.2h404.48c7.68 0 12.8 5.12 12.8 12.8v2.56l-52.48 281.6c-1.28 6.4-6.4 10.24-12.8 10.24H311.04c-6.4 0-11.52-3.84-12.8-10.24l-52.48-281.6c-1.28-6.4 3.84-14.08 10.24-15.36h2.56z m17.92 25.6s-1.28 0 0 0c-5.12 1.28-6.4 3.84-6.4 7.68l48.64 243.2c0 2.56 3.84 5.12 6.4 5.12h271.36c2.56 0 5.12-2.56 6.4-5.12l48.64-243.2v-1.28c0-3.84-2.56-6.4-6.4-6.4H276.48z\" fill=\"#333333\" ></path><path d=\"M364.8 531.2m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\" fill=\"#333333\" ></path><path d=\"M556.8 531.2m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\" fill=\"#333333\" ></path><path d=\"M358.4 409.6h-25.6c0-70.4 57.6-128 128-128s128 57.6 128 128h-25.6c0-56.32-46.08-102.4-102.4-102.4s-102.4 46.08-102.4 102.4z\" fill=\"#333333\" ></path></symbol><symbol id=\"icon-fabuhuodong\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M518.4 716.8C401.92 716.8 307.2 610.56 307.2 480S401.92 243.2 518.4 243.2 729.6 349.44 729.6 480 634.88 716.8 518.4 716.8z m0-25.6c102.4 0 185.6-94.72 185.6-211.2S620.8 268.8 518.4 268.8 332.8 363.52 332.8 480 416 691.2 518.4 691.2z\" fill=\"#333333\" ></path><path d=\"M517.12 693.76c-19.2 12.8-21.76 33.28-11.52 60.16 6.4 15.36 2.56 21.76-11.52 28.16l8.96 24.32c28.16-11.52 37.12-33.28 26.88-61.44-6.4-16.64-5.12-24.32 1.28-29.44l-14.08-21.76z\" fill=\"#333333\" ></path><path d=\"M591.36 367.36c11.52 5.12 21.76 12.8 28.16 23.04 6.4 8.96 10.24 21.76 11.52 39.68 0 5.12 5.12 8.96 10.24 8.96s8.96-5.12 8.96-10.24c0-20.48-5.12-38.4-14.08-49.92-8.96-11.52-20.48-21.76-35.84-28.16-5.12-2.56-10.24 0-12.8 5.12s-1.28 8.96 3.84 11.52z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-shangpinguanli\" viewBox=\"0 0 1109 1024\"><path d=\"M106.666667 128h896v853.333333h-896V128z m42.666666 42.666667v768h810.666667V170.666667h-810.666667z\" fill=\"#999999\" ></path><path d=\"M256 597.333333c-34.133333 0-64-29.866667-64-64S221.866667 469.333333 256 469.333333s64 29.866667 64 64S290.133333 597.333333 256 597.333333z m0-42.666666c12.8 0 21.333333-8.533333 21.333333-21.333334S268.8 512 256 512s-21.333333 8.533333-21.333333 21.333333 8.533333 21.333333 21.333333 21.333334zM277.333333 981.333333h42.666667v-341.333333h-128v341.333333h42.666667v-298.666666h42.666666v298.666666z\" fill=\"#999999\" ></path><path d=\"M234.666667 554.666667h42.666666v128h-42.666666zM149.333333 213.333333h810.666667v42.666667h-810.666667z\" fill=\"#999999\" ></path><path d=\"M192 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M320 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M448 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M576 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M704 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M832 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M149.333333 42.666667h810.666667v128h-810.666667V42.666667z m42.666667 42.666666v42.666667h725.333333V85.333333h-725.333333zM192.085333 785.578667l90.496-90.496 30.165334 30.165333-90.496 90.496zM192.085333 913.578667l90.496-90.496 30.165334 30.165333-90.496 90.496zM362.666667 469.333333h469.333333v512h-469.333333V469.333333z m42.666666 42.666667v426.666667h384V512h-384z\" fill=\"#999999\" ></path><path d=\"M576 512h42.666667v426.666667h-42.666667zM426.453333 616.106667l60.330667-60.373334 30.165333 30.165334-60.330666 60.330666zM426.24 734.592l90.496-90.496 30.165333 30.165333-90.496 90.496zM642.346667 614.997333L702.72 554.666667l30.165333 30.165333-60.330666 60.330667zM639.146667 730.496L729.6 640l30.165333 30.165333-90.496 90.496z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-yingxiaozhongxin\" viewBox=\"0 0 1024 1024\"><path d=\"M174.933333 234.666667L426.666667 256v298.666667l-12.8 4.266666-238.933334 17.066667c-25.6 0-42.666667-17.066667-46.933333-38.4V277.333333c0-25.6 17.066667-42.666667 46.933333-42.666666-4.266667 0 0 0 0 0z m17.066667 42.666666c-12.8 0-21.333333 8.533333-21.333333 21.333334v213.333333c0 12.8 12.8 21.333333 21.333333 21.333333l192-17.066666V294.4l-192-17.066667z\" fill=\"#999999\" ></path><path d=\"M85.333333 320h85.333334v213.333333H85.333333c-25.6 0-42.666667-17.066667-42.666666-42.666666v-128c0-25.6 17.066667-42.666667 42.666666-42.666667z m21.333334 42.666667c-12.8 0-21.333333 8.533333-21.333334 21.333333v85.333333c0 12.8 8.533333 21.333333 21.333334 21.333334H128v-128h-21.333333zM810.666667 298.666667h-42.666667v213.333333h42.666667c46.933333 0 85.333333-38.4 85.333333-85.333333V384c0-46.933333-38.4-85.333333-85.333333-85.333333z m0 42.666666c25.6 0 42.666667 17.066667 42.666666 42.666667v42.666667c0 25.6-17.066667 42.666667-42.666666 42.666666V341.333333zM170.666667 533.333333h170.666666v341.333334c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333333-85.333333v-341.333334z m42.666666 42.666667v298.666667c0 25.6 17.066667 42.666667 42.666667 42.666666s42.666667-17.066667 42.666667-42.666666v-298.666667H213.333333z\" fill=\"#999999\" ></path><path d=\"M170.666667 618.666667h64c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333333H170.666667v-42.666666zM170.666667 704h64c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333334H170.666667v-42.666667zM170.666667 789.333333h64c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 21.333333-21.333333 21.333333H170.666667v-42.666667zM452.266667 247.466667c-17.066667 8.533333-25.6 25.6-25.6 38.4v234.666666c0 17.066667 8.533333 29.866667 25.6 38.4l256 128c4.266667 4.266667 12.8 4.266667 17.066666 4.266667 25.6 0 42.666667-17.066667 42.666667-42.666667V157.866667c0-8.533333 0-12.8-4.266667-17.066667-8.533333-21.333333-34.133333-29.866667-55.466666-17.066667l-256 123.733334z m-21.333334-38.4l256-128c42.666667-21.333333 93.866667-4.266667 115.2 38.4 4.266667 12.8 8.533333 25.6 8.533334 38.4v490.666666c0 46.933333-38.4 85.333333-85.333334 85.333334-12.8 0-25.6-4.266667-38.4-8.533334l-256-128c-29.866667-12.8-46.933333-42.666667-46.933333-72.533333V285.866667c0-29.866667 17.066667-59.733333 46.933333-76.8z\" fill=\"#999999\" ></path><path d=\"M640 106.666667h42.666667v597.333333h-42.666667zM490.666667 448c12.8 0 21.333333 8.533333 21.333333 21.333333v42.666667c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333334-21.333333v-42.666667c0-12.8 8.533333-21.333333 21.333334-21.333333z\" fill=\"#999999\" ></path><path d=\"M512 375.466667v-38.4c0-17.066667 8.533333-34.133333 25.6-38.4l46.933333-21.333334c12.8-8.533333 17.066667-17.066667 12.8-29.866666-4.266667-12.8-17.066667-17.066667-29.866666-12.8l-46.933334 21.333333c-29.866667 12.8-51.2 42.666667-51.2 76.8v38.4c0 12.8 8.533333 21.333333 21.333334 21.333333s21.333333-4.266667 21.333333-17.066666zM878.933333 294.4c42.666667 38.4 59.733333 72.533333 59.733334 110.933333s-17.066667 72.533333-59.733334 110.933334c-8.533333 8.533333-8.533333 21.333333 0 29.866666 8.533333 8.533333 21.333333 8.533333 29.866667 0 46.933333-46.933333 68.266667-93.866667 68.266667-145.066666s-25.6-98.133333-68.266667-145.066667c-8.533333-8.533333-21.333333-8.533333-29.866667 0-4.266667 12.8-4.266667 29.866667 0 38.4z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-shangpu\" viewBox=\"0 0 1024 1024\"><path d=\"M85.333333 341.333333v554.666667c0 25.6 17.066667 42.666667 42.666667 42.666667h768c25.6 0 42.666667-17.066667 42.666667-42.666667V341.333333H85.333333zM42.666667 298.666667h938.666666v597.333333c0 46.933333-38.4 85.333333-85.333333 85.333333H128c-46.933333 0-85.333333-38.4-85.333333-85.333333V298.666667z\" fill=\"#999999\" ></path><path d=\"M836.266667 196.266667l93.866666 93.866666c8.533333 8.533333 8.533333 21.333333 0 29.866667-8.533333 8.533333-21.333333 8.533333-29.866666 0l-76.8-76.8v76.8c0 12.8-8.533333 21.333333-21.333334 21.333333s-21.333333-8.533333-21.333333-21.333333v-128h4.266667L896 85.333333l34.133333 17.066667-93.866666 93.866667zM183.466667 196.266667L89.6 290.133333c-4.266667 8.533333-4.266667 25.6 0 29.866667s21.333333 8.533333 29.866667 0l76.8-76.8v76.8c4.266667 12.8 12.8 21.333333 25.6 21.333333s21.333333-8.533333 21.333333-21.333333v-128h-4.266667L128 85.333333l-38.4 17.066667 93.866667 93.866667zM341.333333 512h341.333334c0-12.8 8.533333-21.333333 21.333333-21.333333s21.333333 8.533333 21.333333 21.333333v128c0 119.466667-93.866667 213.333333-213.333333 213.333333s-213.333333-93.866667-213.333333-213.333333v-128c0-12.8 8.533333-21.333333 21.333333-21.333333s21.333333 8.533333 21.333333 21.333333z m341.333334 64V512H341.333333v128c0 93.866667 76.8 170.666667 170.666667 170.666667s170.666667-76.8 170.666667-170.666667v-64z\" fill=\"#999999\" ></path><path d=\"M85.333333 85.333333h853.333334v256H85.333333V85.333333z m42.666667 42.666667v170.666667h768V128H128zM277.333333 512c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-46.933333 38.4-85.333333 85.333333-85.333333s85.333333 38.4 85.333333 85.333333c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-25.6-17.066667-42.666667-42.666667-42.666667s-42.666667 17.066667-42.666667 42.666667zM661.333333 512c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-46.933333 38.4-85.333333 85.333333-85.333333s85.333333 38.4 85.333333 85.333333c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-25.6-17.066667-42.666667-42.666667-42.666667s-42.666667 17.066667-42.666667 42.666667z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-jiaoyiguanli\" viewBox=\"0 0 1024 1024\"><path d=\"M132.266667 541.866667c-38.4 0-46.933333 34.133333-46.933334 64v55.466666c0 29.866667 8.533333 64 46.933334 64h29.866666l4.266667 8.533334c38.4 115.2 183.466667 192 354.133333 192 200.533333 0 337.066667-115.2 337.066667-277.333334v-46.933333c-34.133333-4.266667-59.733333-34.133333-59.733333-68.266667 0-21.333333 8.533333-42.666667 29.866666-55.466666-25.6-59.733333-68.266667-110.933333-128-140.8-8.533333 21.333333-25.6 38.4-38.4 51.2l-8.533333 8.533333-8.533333-4.266667c-68.266667-34.133333-145.066667-29.866667-209.066667 8.533334l-8.533333 4.266666-12.8-4.266666c-25.6-21.333333-46.933333-46.933333-55.466667-81.066667-17.066667 8.533333-29.866667 12.8-38.4 17.066667H307.2c-51.2-21.333333-85.333333-29.866667-110.933333-34.133334 12.8 17.066667 21.333333 38.4 29.866666 59.733334 4.266667 8.533333 4.266667 17.066667 8.533334 25.6l4.266666 8.533333-8.533333 8.533333c-42.666667 38.4-46.933333 68.266667-55.466667 123.733334v12.8h-42.666666z m0 217.6h-12.8C72.533333 759.466667 42.666667 725.333333 42.666667 665.6v-55.466667c0-64 29.866667-98.133333 76.8-98.133333h21.333333c8.533333-51.2 12.8-85.333333 55.466667-128 0-4.266667-4.266667-12.8-8.533334-21.333333-8.533333-25.6-17.066667-51.2-38.4-59.733334-8.533333-4.266667-12.8-12.8-12.8-25.6s8.533333-17.066667 17.066667-17.066666c38.4-4.266667 85.333333 4.266667 153.6 34.133333 17.066667-4.266667 34.133333-8.533333 51.2-17.066667l12.8-4.266666 4.266667 17.066666c12.8 25.6 29.866667 51.2 51.2 72.533334 68.266667-42.666667 153.6-42.666667 226.133333-8.533334 12.8-12.8 25.6-29.866667 34.133333-51.2l4.266667-12.8 17.066667 4.266667c76.8 42.666667 136.533333 106.666667 162.133333 183.466667l4.266667 12.8-12.8 4.266666c-17.066667 4.266667-25.6 21.333333-25.6 34.133334 0 21.333333 17.066667 38.4 38.4 38.4h21.333333v17.066666c4.266667 21.333333 4.266667 42.666667 4.266667 64 0 187.733333-153.6 315.733333-375.466667 315.733334-192 4.266667-345.6-76.8-392.533333-204.8z\" fill=\"#999999\" ></path><path d=\"M268.8 477.866667c-12.8 0-21.333333 12.8-21.333333 21.333333 0 12.8 12.8 21.333333 21.333333 21.333333 12.8 0 21.333333-12.8 21.333333-21.333333 4.266667-8.533333-8.533333-21.333333-21.333333-21.333333z m0 81.066666c-29.866667 0-55.466667-25.6-55.466667-55.466666 0-29.866667 25.6-55.466667 55.466667-55.466667 29.866667 0 55.466667 25.6 55.466667 55.466667 0 29.866667-25.6 55.466667-55.466667 55.466666zM870.4 635.733333c0-8.533333 4.266667-17.066667 17.066667-17.066666 34.133333 0 64-29.866667 64-64 0-8.533333 4.266667-17.066667 17.066666-17.066667 8.533333 0 17.066667 4.266667 17.066667 17.066667 0 51.2-42.666667 93.866667-93.866667 93.866666-12.8 4.266667-21.333333-4.266667-21.333333-12.8z\" fill=\"#999999\" ></path><path d=\"M964.266667 571.733333c-8.533333 0-17.066667-4.266667-17.066667-17.066666 0-34.133333-29.866667-64-64-64-8.533333 0-17.066667-4.266667-17.066667-17.066667 0-8.533333 4.266667-17.066667 17.066667-17.066667 51.2 0 93.866667 42.666667 93.866667 93.866667 4.266667 17.066667-4.266667 21.333333-12.8 21.333333\" fill=\"#999999\" ></path><path d=\"M870.4 507.733333c-17.066667 0-25.6 12.8-25.6 25.6 0 17.066667 12.8 29.866667 25.6 29.866667s29.866667-12.8 29.866667-29.866667c-4.266667-12.8-17.066667-25.6-29.866667-25.6z m0 98.133334c-38.4 0-68.266667-29.866667-68.266667-68.266667 0-38.4 29.866667-68.266667 68.266667-68.266667 38.4 0 68.266667 29.866667 68.266667 68.266667 0 34.133333-29.866667 68.266667-68.266667 68.266667z\" fill=\"#999999\" ></path><path d=\"M934.4 541.866667h-4.266667c-8.533333-4.266667-12.8-12.8-8.533333-21.333334 8.533333-21.333333 8.533333-42.666667 0-64-4.266667-8.533333 0-17.066667 8.533333-21.333333 8.533333-4.266667 17.066667 0 21.333334 8.533333 12.8 29.866667 12.8 64 0 89.6-8.533333 4.266667-12.8 8.533333-17.066667 8.533334M533.333333 85.333333c-85.333333 0-153.6 68.266667-153.6 153.6 0 42.666667 17.066667 85.333333 51.2 115.2 64-38.4 145.066667-42.666667 213.333334-8.533333 29.866667-29.866667 42.666667-68.266667 42.666666-106.666667 0-85.333333-68.266667-153.6-153.6-153.6zM422.4 401.066667l-8.533333-8.533334C366.933333 354.133333 337.066667 298.666667 337.066667 238.933333 341.333333 132.266667 426.666667 42.666667 533.333333 42.666667c106.666667 0 196.266667 89.6 196.266667 196.266666 0 55.466667-21.333333 106.666667-64 145.066667l-8.533333 8.533333-4.266667-8.533333c-68.266667-34.133333-153.6-34.133333-217.6 8.533333l-12.8 8.533334z\" fill=\"#999999\" ></path><path d=\"M465.066667 328.533333c-29.866667-25.6-51.2-55.466667-51.2-93.866666 0-64 55.466667-119.466667 119.466666-119.466667 64 0 119.466667 55.466667 119.466667 119.466667 0 34.133333-12.8 64-38.4 85.333333-8.533333 8.533333-25.6 8.533333-34.133333 0-8.533333-8.533333-8.533333-25.6 0-34.133333 17.066667-12.8 25.6-34.133333 25.6-51.2 0-38.4-34.133333-72.533333-72.533334-72.533334-38.4 0-72.533333 34.133333-72.533333 72.533334 0 21.333333 8.533333 42.666667 29.866667 55.466666 8.533333 8.533333 12.8 21.333333 4.266666 34.133334-4.266667 8.533333-12.8 8.533333-21.333333 8.533333 0 0-4.266667 0-8.533333-4.266667z\" fill=\"#979797\" ></path><path d=\"M649.344 932.394667c0 4.266667 8.533333 8.533333 12.8 8.533333h115.2c17.066667 0 29.866667-4.266667 34.133333-17.066667 8.533333-8.533333 12.8-21.333333 4.266667-34.133333l-17.066667-38.4c-38.4 34.133333-89.6 59.733333-149.333333 81.066667z m17.066667 46.933333c-21.333333 0-42.666667-12.8-46.933334-29.866667l-12.8-29.866666h17.066667c72.533333-17.066667 132.266667-46.933333 174.933333-89.6l21.333334-21.333334 34.133333 81.066667c8.533333 21.333333 4.266667 42.666667-12.8 59.733333-17.066667 17.066667-38.4 25.6-68.266667 25.6h-106.666666zM222.677333 851.328l-21.333333 42.666667c-4.266667 8.533333-4.266667 21.333333 4.266667 29.866666 8.533333 8.533333 17.066667 12.8 29.866666 12.8h123.733334l8.533333-12.8c-55.466667-17.066667-106.666667-42.666667-145.066667-72.533333z m132.266667 128h-123.733333c-25.6 0-46.933333-12.8-64-29.866667-12.8-12.8-17.066667-34.133333-8.533334-55.466666l38.4-85.333334 21.333334 17.066667c42.666667 38.4 102.4 68.266667 170.666666 85.333333l21.333334 4.266667-21.333334 42.666667c-4.266667 12.8-17.066667 21.333333-34.133333 21.333333z\" fill=\"#999999\" ></path><path d=\"M409.6 430.933333c46.933333-38.4 89.6-59.733333 136.533333-59.733333s89.6 21.333333 136.533334 59.733333c8.533333 8.533333 21.333333 8.533333 29.866666-4.266666 8.533333-8.533333 8.533333-21.333333-4.266666-29.866667-55.466667-46.933333-106.666667-68.266667-162.133334-68.266667s-110.933333 21.333333-162.133333 68.266667c-8.533333 8.533333-12.8 21.333333-4.266667 29.866667 8.533333 8.533333 21.333333 12.8 29.866667 4.266666zM302.933333 806.4c38.4 38.4 89.6 59.733333 162.133334 68.266667 72.533333 8.533333 128 4.266667 166.4-25.6 8.533333-8.533333 12.8-21.333333 4.266666-29.866667s-21.333333-12.8-29.866666-4.266667c-29.866667 21.333333-72.533333 25.6-132.266667 17.066667-64-8.533333-106.666667-29.866667-136.533333-59.733333-8.533333-8.533333-21.333333-8.533333-29.866667 0-8.533333 8.533333-8.533333 25.6-4.266667 34.133333z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-xiala\" viewBox=\"0 0 2048 1024\"><path d=\"M609.74237382 246.63607006h821.4157323L1020.45023997 657.3439362z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-icon-xiala\" viewBox=\"0 0 2048 1024\"><path d=\"M861.92867843 372.82710723h430.80008518L1077.32872101 588.22714982z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-xiala-1\" viewBox=\"0 0 2048 1024\"><path d=\"M861.92867843 372.82710723h430.80008518L1077.32872101 588.22714982z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-xiala2\" viewBox=\"0 0 1024 1024\"><path d=\"M324.02394184 584.9055293L492.08689133 401.12413061a26.44801935 26.44801935 0 0 1 19.86701352-8.98855602c7.60570122 0 14.84264118 3.27275629 19.86701348 8.98855603L699.88386783 584.9055293c8.20493829 8.66588987 10.74017202 21.29596343 6.49941743 32.45099188s-14.47387992 18.94511033-26.36643092 20.00529901l-335.98761352 0c-11.93864618-1.01409349-22.2178666-8.7580802-26.45862123-19.95920384-4.2868498-11.20112363-1.75161606-23.78510201 6.45332225-32.49708705z\" fill=\"\" ></path></symbol><symbol id=\"icon-youxi\" viewBox=\"0 0 1024 1024\"><path d=\"M933.8 267.1H217.6c-14.9 0-26.9 12.2-26.9 26.9v469.8c0 14.9 12.2 26.9 26.9 26.9 17.2 0 31.3 14 31.3 31.3 0 13.3 10.8 23.9 23.9 23.9h605.7c13.3 0 23.9-10.8 23.9-23.9 0-17.2 14-31.3 31.3-31.3 14.9 0 26.9-12.2 26.9-26.9V294.1c0.1-14.8-12-27-26.8-27z\" fill=\"#A7B8C6\" ></path><path d=\"M819.2 226.8H103c-14.9 0-26.9 12.2-26.9 26.9v469.8c0 14.9 12.2 26.9 26.9 26.9 17.2 0 31.3 14 31.3 31.3 0 13.3 10.8 23.9 23.9 23.9h605.7c13.3 0 23.9-10.8 23.9-23.9 0-17.2 14-31.3 31.3-31.3 14.9 0 26.9-12.2 26.9-26.9V253.7c0.1-14.8-12-26.9-26.8-26.9z\" fill=\"#FFFFFF\" ></path><path d=\"M820 240.2H124.6c-14.4 0-26.1 11.9-26.1 26.3v458.9c0 14.5 11.8 26.3 26.1 26.3 16.7 0 30.4 13.7 30.4 30.5 0 13 10.4 23.4 23.2 23.4h588.1c12.9 0 23.2-10.5 23.2-23.4 0-16.8 13.6-30.5 30.4-30.5 14.4 0 26.1-11.9 26.1-26.3V266.5c0.1-14.4-11.7-26.3-26-26.3z\" fill=\"#F2C24E\" ></path><path d=\"M202.3 755.5h584.1v49H202.3z\" fill=\"#ECB228\" ></path><path d=\"M837.3 404.1h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 578.5h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.7-5.5 12.2-12.2 12.2zM837.3 433.1h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 462.2h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.9-5.5 12.2-12.2 12.2zM837.3 491.3h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 520.4h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 549.4h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 375h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2z\" fill=\"#595757\" ></path><path d=\"M588.6 248.7H411.2L98.5 583.8v171.5H116z\" fill=\"#F6D05F\" ></path><path d=\"M662.6 248.8L189.8 755.5h36.5l472.9-506.7z\" fill=\"#F6D05F\" ></path><path d=\"M763.9 817.8H158.2c-19.9 0-36.1-16.2-36.1-36.1 0-10.6-8.6-19.1-19.1-19.1-21.5 0-39.1-17.5-39.1-39.1V253.7c0-21.5 17.5-39.1 39.1-39.1h716.2c21.5 0 39.1 17.5 39.1 39.1v469.8c0 21.5-17.5 39.1-39.1 39.1-10.6 0-19.1 8.6-19.1 19.1-0.1 19.9-16.2 36.1-36.2 36.1zM103 238.9c-8.2 0-14.8 6.7-14.8 14.8v469.8c0 8.2 6.7 14.8 14.8 14.8 23.9 0 43.4 19.4 43.4 43.4 0 6.5 5.3 11.8 11.8 11.8h605.7c6.5 0 11.8-5.3 11.8-11.8 0-23.9 19.4-43.4 43.4-43.4 8.2 0 14.8-6.7 14.8-14.8V253.7c0-8.2-6.7-14.8-14.8-14.8H103z\" fill=\"#3E3A39\" ></path><path d=\"M774.8 653.1H147.2c-5.1 0-9.3-4.2-9.3-9.3v-297c0-5.1 4.2-9.3 9.3-9.3h627.6c5.1 0 9.3 4.2 9.3 9.3v297c0.1 5.1-4.1 9.3-9.3 9.3z\" fill=\"#DCDADB\" ></path><path d=\"M806.6 271.7H115.5c-4.2 0-7.6-3.4-7.6-7.6s3.4-7.6 7.6-7.6h691.1c4.2 0 7.6 3.4 7.6 7.6s-3.4 7.6-7.6 7.6z\" fill=\"#3E3A39\" ></path><path d=\"M731.8 285.1h-73.3c-2.5 0-4.6-2-4.6-4.6 0-2.5 2-4.6 4.6-4.6h73.3c2.5 0 4.6 2 4.6 4.6-0.1 2.6-2.1 4.6-4.6 4.6zM618.1 285.1H447.6c-2.5 0-4.6-2-4.6-4.6 0-2.5 2-4.6 4.6-4.6h170.5c2.5 0 4.6 2 4.6 4.6 0 2.6-2 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M293 704H144.7c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6H293c4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z\" fill=\"#595757\" ></path><path d=\"M293 713.7H144.7c-2.5 0-4.6-2-4.6-4.6s2-4.6 4.6-4.6H293c2.5 0 4.6 2 4.6 4.6s-2.1 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M784.2 704H492.5c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6h291.7c4.2 0 7.6 3.4 7.6 7.6-0.1 4.2-3.4 7.6-7.6 7.6z\" fill=\"#595757\" ></path><path d=\"M784.2 713.7H492.5c-2.5 0-4.6-2-4.6-4.6s2-4.6 4.6-4.6h291.7c2.5 0 4.6 2 4.6 4.6s-2.1 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M763.9 817.8H158.2c-19.9 0-36.1-16.2-36.1-36.1 0-10.6-8.6-19.1-19.1-19.1-21.5 0-39.1-17.5-39.1-39.1V253.7c0-21.5 17.5-39.1 39.1-39.1h716.2c21.5 0 39.1 17.5 39.1 39.1v469.8c0 21.5-17.5 39.1-39.1 39.1-10.6 0-19.1 8.6-19.1 19.1-0.1 19.9-16.2 36.1-36.2 36.1zM103 238.9c-8.2 0-14.8 6.7-14.8 14.8v469.8c0 8.2 6.7 14.8 14.8 14.8 23.9 0 43.4 19.4 43.4 43.4 0 6.5 5.3 11.8 11.8 11.8h605.7c6.5 0 11.8-5.3 11.8-11.8 0-23.9 19.4-43.4 43.4-43.4 8.2 0 14.8-6.7 14.8-14.8V253.7c0-8.2-6.7-14.8-14.8-14.8H103z\" fill=\"#3E3A39\" ></path><path d=\"M733.4 615.2v-17.5H621.8v17.5h-55v19.3h-12.9v19.4h195.8v-38.7z\" fill=\"#58B661\" ></path><path d=\"M676.7 595.8v38.3h-35.3v-19.7h-19.6v39.5h75.3V595.8z\" fill=\"#FFFFFF\" ></path><path d=\"M730.6 524.9v-19.7h-53.9v19.7H566.8v55.5h182.9v-55.5z\" fill=\"#56B560\" ></path><path d=\"M676.7 545.3h19.6v-16h-19.6v-24.1h-74v19.1h-35.9v18.2h-12.9v18.8h51.6V543h16.3v18.3h17.9v19.1h-53.5v17.3h127V561.3h-36.5zM713.2 529.3h17.3v32h-17.3z\" fill=\"#E6A657\" ></path><path d=\"M713.2 487.8v-19.5h-91.4v19.5h-52.2v17.4H730.6v-17.4z\" fill=\"#FDFDFD\" ></path><path d=\"M621.8 505.2h19.6v37.3h-19.6z\" fill=\"#604C3F\" ></path><path d=\"M188.7 615.2v-17.5h111.7v17.5h54.9v19.3h12.9v19.4H172.4v-38.7z\" fill=\"#D5322E\" ></path><path d=\"M245.4 595.8v38.3h35.3v-19.7h19.7v39.5H225V595.8z\" fill=\"#364D9E\" ></path><path d=\"M191.5 524.9v-19.7h53.9v19.7h109.9v55.5H172.4v-55.5z\" fill=\"#622A16\" ></path><path d=\"M245.4 545.3h-19.6v-16h19.6v-24.1h74v19.1h35.9v18.2h12.9v18.8h-51.6V543h-16.2v18.3h-18v19.1h53.5v17.3h-127V561.3h36.5z\" fill=\"#E6A657\" ></path><path d=\"M191.5 529.3h17.3v32h-17.3z\" fill=\"#E6A657\" ></path><path d=\"M208.9 487.8v-19.5h91.5v19.5h52.1v17.4h-161v-17.4z\" fill=\"#D73531\" ></path><path d=\"M280.7 505.2h19.6v37.3h-19.6z\" fill=\"#604C3F\" ></path></symbol><symbol id=\"icon-icon-xiala-copy\" viewBox=\"0 0 2048 1024\"><path d=\"M1250.07132141 608.50622611l-430.80008519 0L1034.67127882 393.10618352z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-GroupCopy\" viewBox=\"0 0 1024 1024\"><path d=\"M512 512a232.727273 232.727273 0 1 0 0-465.454545 232.727273 232.727273 0 0 0 0 465.454545z m0 46.545455a279.272727 279.272727 0 1 1 0-558.545455 279.272727 279.272727 0 0 1 0 558.545455z\" fill=\"#979797\" ></path><path d=\"M0 1024c0-282.763636 229.236364-512 512-512s512 229.236364 512 512h-46.545455c0-257.070545-208.384-465.454545-465.454545-465.454545S46.545455 766.929455 46.545455 1024H0z m46.545455 0H0c0-282.763636 229.236364-512 512-512s512 229.236364 512 512h-46.545455c0-257.070545-208.384-465.454545-465.454545-465.454545S46.545455 766.929455 46.545455 1024z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy1\" viewBox=\"0 0 1024 1024\"><path d=\"M186.181818 418.909091a93.090909 93.090909 0 0 0-93.090909 93.090909v372.363636a93.090909 93.090909 0 0 0 93.090909 93.090909h651.636364a93.090909 93.090909 0 0 0 93.090909-93.090909v-372.363636a93.090909 93.090909 0 0 0-93.090909-93.090909H186.181818z m0-46.545455h651.636364a139.636364 139.636364 0 0 1 139.636363 139.636364v372.363636a139.636364 139.636364 0 0 1-139.636363 139.636364H186.181818a139.636364 139.636364 0 0 1-139.636363-139.636364v-372.363636a139.636364 139.636364 0 0 1 139.636363-139.636364z\" fill=\"#979797\" ></path><path d=\"M279.272727 372.363636h465.454546V279.272727A232.727273 232.727273 0 0 0 279.272727 279.272727v93.090909z m232.727273-372.363636a279.272727 279.272727 0 0 1 279.272727 279.272727v139.636364H232.727273V279.272727a279.272727 279.272727 0 0 1 279.272727-279.272727z\" fill=\"#979797\" ></path><path d=\"M512 674.909091m-69.818182 0a69.818182 69.818182 0 1 0 139.636364 0 69.818182 69.818182 0 1 0-139.636364 0Z\" fill=\"#979797\" ></path><path d=\"M512 744.727273v46.545454-46.545454z m0-46.545455a46.545455 46.545455 0 0 1 46.545455 46.545455v46.545454a46.545455 46.545455 0 0 1-93.09091 0v-46.545454a46.545455 46.545455 0 0 1 46.545455-46.545455z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy2\" viewBox=\"0 0 1609 1024\"><path d=\"M804.571429 950.857143c178.834286 0 360.740571-79.945143 522.678857-212.114286a1087.268571 1087.268571 0 0 0 161.353143-161.353143c17.554286-22.235429 31.451429-42.422857 40.521142-58.368 4.900571-8.777143 6.875429-13.897143 6.875429-7.021714 0 6.948571-1.974857 1.682286-6.875429-7.021714a478.354286 478.354286 0 0 0-40.521142-58.368A1087.268571 1087.268571 0 0 0 1327.250286 285.257143C1165.312 153.088 983.478857 73.142857 804.571429 73.142857 625.737143 73.142857 443.830857 153.014857 281.892571 285.257143A1086.171429 1086.171429 0 0 0 120.685714 446.464c-17.627429 22.235429-31.524571 42.422857-40.521143 58.368C75.117714 513.682286 73.142857 518.802286 73.142857 512c0-6.875429 1.974857-1.682286 6.948572 7.094857 8.996571 15.945143 22.893714 36.132571 40.521142 58.368a1086.171429 1086.171429 0 0 0 161.28 161.353143C443.830857 870.985143 625.664 950.857143 804.571429 950.857143z m0 73.142857C360.228571 1024 0 585.216 0 512c0-73.216 360.228571-512 804.571429-512s804.571429 439.003429 804.571428 512c0 72.996571-360.228571 512-804.571428 512z\" fill=\"#979797\" ></path><path d=\"M804.571429 658.285714a146.285714 146.285714 0 1 0 0-292.571428 146.285714 146.285714 0 0 0 0 292.571428z m0 73.142857a219.428571 219.428571 0 1 1 0-438.857142 219.428571 219.428571 0 0 1 0 438.857142z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy3\" viewBox=\"0 0 1024 1024\"><path d=\"M512 512L376.237495 376.237495a21.332889 21.332889 0 1 0-30.164705 30.164705l135.762505 135.762505L346.030125 677.969876a21.332889 21.332889 0 1 0 30.164704 30.164705L512 572.32941l135.762505 135.762505a21.332889 21.332889 0 1 0 30.164705-30.164705l-135.762505-135.762505 135.762505-135.762505a21.332889 21.332889 0 1 0-30.164705-30.164705L512 512z m-362.019124 362.019125c-199.974501-199.931835-199.974501-524.106414 0-724.03825 199.931835-199.974501 524.106414-199.974501 724.038249 0 199.974501 199.931835 199.974501 524.106414 0 724.03825-199.931835 199.974501-524.106414 199.974501-724.038249 0z\" fill=\"#FF6969\" ></path></symbol><symbol id=\"icon-tianjia\" viewBox=\"0 0 1024 1024\"><path d=\"M0 469.333333h1024v85.333334H0z\" fill=\"#41CAC0\" ></path><path d=\"M469.333333 0v1024h85.333334V0z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-GroupCopy4\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m0-544.896L363.904 330.965333a23.253333 23.253333 0 0 0-32.938667 32.938667L479.146667 512l-148.138667 148.096a23.253333 23.253333 0 1 0 32.938667 32.938667L512 544.853333l148.096 148.138667a23.253333 23.253333 0 0 0 32.938667-32.938667L544.853333 512l148.138667-148.096a23.253333 23.253333 0 0 0-32.938667-32.938667L512 479.146667z\" fill=\"#41CAC0\" ></path></symbol></svg>';var script = function () {\n    var scripts = document.getElementsByTagName(\"script\");return scripts[scripts.length - 1];\n  }();var shouldInjectCss = script.getAttribute(\"data-injectcss\");var ready = function ready(fn) {\n    if (document.addEventListener) {\n      if (~[\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState)) {\n        setTimeout(fn, 0);\n      } else {\n        var loadFn = function loadFn() {\n          document.removeEventListener(\"DOMContentLoaded\", loadFn, false);fn();\n        };document.addEventListener(\"DOMContentLoaded\", loadFn, false);\n      }\n    } else if (document.attachEvent) {\n      IEContentLoaded(window, fn);\n    }function IEContentLoaded(w, fn) {\n      var d = w.document,\n          done = false,\n          init = function init() {\n        if (!done) {\n          done = true;fn();\n        }\n      };var polling = function polling() {\n        try {\n          d.documentElement.doScroll(\"left\");\n        } catch (e) {\n          setTimeout(polling, 50);return;\n        }init();\n      };polling();d.onreadystatechange = function () {\n        if (d.readyState == \"complete\") {\n          d.onreadystatechange = null;init();\n        }\n      };\n    }\n  };var before = function before(el, target) {\n    target.parentNode.insertBefore(el, target);\n  };var prepend = function prepend(el, target) {\n    if (target.firstChild) {\n      before(el, target.firstChild);\n    } else {\n      target.appendChild(el);\n    }\n  };function appendSvg() {\n    var div, svg;div = document.createElement(\"div\");div.innerHTML = svgSprite;svgSprite = null;svg = div.getElementsByTagName(\"svg\")[0];if (svg) {\n      svg.setAttribute(\"aria-hidden\", \"true\");svg.style.position = \"absolute\";svg.style.width = 0;svg.style.height = 0;svg.style.overflow = \"hidden\";prepend(svg, document.body);\n    }\n  }if (shouldInjectCss && !window.__iconfont__svg__cssinject__) {\n    window.__iconfont__svg__cssinject__ = true;try {\n      document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\");\n    } catch (e) {\n      console && console.log(e);\n    }\n  }ready(appendSvg);\n})(window);\n\n/***/ }),\n\n/***/ \"frEi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header app-navbar\",attrs:{\"id\":\"appHeader\"}},[_c('router-link',{attrs:{\"to\":\"/home/index\"}},[_c('div',{staticClass:\"logo logo-width\"},[_vm._v(_vm._s(_vm.sysName))])]),_vm._v(\" \"),_c('div',{staticClass:\"breadcrumb-container\"},[_c('el-breadcrumb',{staticClass:\"breadcrumb-router\",attrs:{\"separator\":\"/\"}},_vm._l((_vm.$route.matched),function(item){return _c('el-breadcrumb-item',{key:item.path,attrs:{\"to\":{ path: item.path }}},[_vm._v(\"\\n           \"+_vm._s(item.name)+\"\\n          \")])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"userinfo\"},[_c('div',{staticClass:\"user-item\",on:{\"click\":function($event){_vm.jump(\"index\")}}},[_vm._v(\"欢迎你，\"+_vm._s(_vm.ueseName))]),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"padding\":\"0 30px 0 10px\"}},[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand,\"visible-change\":_vm.triangle}},[_c('span',{staticClass:\"el-dropdown-link userinfo-inner\"},[_vm._v(\"商户中心\"),_c('i',{staticClass:\"iconfont icon-xiala2\",class:{'el-xuanzhuan1':_vm.elXuanzhuan1,'el-xuanzhuan2':_vm.elXuanzhuan2}})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"exit\"}},[_vm._v(\"退出登录\")])],1)],1)],1),_vm._v(\" \"),_c('i',{staticClass:\"pipe\"}),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"width\":\"90px\",\"text-align\":\"center\"},on:{\"click\":function($event){_vm.jump(\"note\")}}},[_vm._v(\"消息\"),_c('i',[_vm._v(_vm._s(_vm.total))])]),_vm._v(\" \"),_c('i',{staticClass:\"pipe\"}),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.jump(\"phone\")}}},[_c('i',{staticClass:\"iconfont icon-shouji\"}),_vm._v(\"商户中心手机版\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"gPGO\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hLst\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n/*/*店铺信息*/\nvar message = function message(resolve) {\n    return __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"rMw6\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*品牌管理*/\nvar brandManagement = function brandManagement(resolve) {\n    return __webpack_require__.e/* require */(19).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"TdlU\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar selBrand = function selBrand(resolve) {\n    return __webpack_require__.e/* require */(5).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"WIqQ\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar addBrand = function addBrand(resolve) {\n    return __webpack_require__.e/* require */(15).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"aruw\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar createBrand = function createBrand(resolve) {\n    return __webpack_require__.e/* require */(4).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"K5dX\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*店铺资质*/\nvar shopQualification = function shopQualification(resolve) {\n    return __webpack_require__.e/* require */(13).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"hIuu\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*分类管理*/\nvar classifyManagement = function classifyManagement(resolve) {\n    return __webpack_require__.e/* require */(29).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"INAy\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar addFenLei = function addFenLei(resolve) {\n    return __webpack_require__.e/* require */(18).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"FW7B\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar findGood = function findGood(resolve) {\n    return __webpack_require__.e/* require */(28).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"zrdF\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar allGood = function allGood(resolve) {\n    return __webpack_require__.e/* require */(31).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"bQuD\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*子账号管理*/\nvar bypassManagement = function bypassManagement(resolve) {\n    return __webpack_require__.e/* require */(30).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"WOON\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar newAccount = function newAccount(resolve) {\n    return __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"EIxp\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar roleList = function roleList(resolve) {\n    return __webpack_require__.e/* require */(27).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"zzsd\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar newRole = function newRole(resolve) {\n    return __webpack_require__.e/* require */(21).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"xgSY\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar accountList = function accountList(resolve) {\n    return __webpack_require__.e/* require */(32).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"UpfK\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*门店管理*/\nvar shopManagement = function shopManagement(resolve) {\n    return __webpack_require__.e/* require */(26).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"fGvu\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar addShop = function addShop(resolve) {\n    return __webpack_require__.e/* require */(17).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"pVoh\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/*店铺管理 =E */\nvar routers = [{\n    path: '/store/message',\n    component: message,\n    name: '店铺信息'\n}, {\n    path: '/store/brand-management',\n    component: brandManagement,\n    name: '品牌管理',\n    children: [{ path: '/store/brand-management/sel-brand', component: selBrand, name: '选择品牌' }, { path: '/store/brand-management/add-brand', component: addBrand, name: '添加品牌' }, { path: '/store/brand-management/create-brand', component: createBrand, name: '创建品牌' }, { path: '/store/brand-management/compile-brand', component: addBrand, name: '编辑品牌' }]\n}, {\n    path: '/store/shop-qualification',\n    component: shopQualification,\n    name: '店铺资质'\n}, {\n    path: '/store/classify-management',\n    component: classifyManagement,\n    name: '分类管理',\n    children: [{ path: '/store/classify-management/add-fen-lei', component: addFenLei, name: '新增分类' }, { path: '/store/classify-management/all-good', component: allGood, name: '全部分类商品列表' }, { path: '/store/classify-management/find-good', component: findGood, name: '查看商品' }, { path: '/store/classify-management/:id', component: addFenLei, name: '编辑分类' }]\n}, {\n    path: '/store/bypass-management',\n    component: bypassManagement,\n    name: '子账号管理',\n    children: [{ path: '/store/bypass-management/role-list', component: roleList, name: '管理角色' }, { path: '/store/bypass-management/account-list', component: accountList, name: '子账号列表' }, { path: '/store/bypass-management/new-account', component: newAccount, name: '新建子账号' }, { path: '/store/bypass-management/compile-account', component: newAccount, name: '编辑子账号' }, { path: '/store/bypass-management/new-role', component: newRole, name: '新建角色' }, { path: '/store/bypass-management/:id', component: newRole, name: '编辑角色' }]\n}, {\n    path: '/store/shop-management',\n    component: shopManagement,\n    name: '门店管理',\n    children: [{ path: '/store/shop-management/add', component: addShop, name: '添加门店' }, { path: '/store/shop-management/:id', component: addShop, name: '编辑门店' }]\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"jK5q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"kTXO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(\"Sxqw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__ = __webpack_require__(\"0F4G\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_cookie_js__ = __webpack_require__(\"zSLJ\");\n\n\n\n\n\n/**\r\n * 1店铺,2商品,3交易,4营销\r\n */\nvar childArray = __WEBPACK_IMPORTED_MODULE_3__util_cookie_js__[\"a\" /* default */].getCookie('childArray');\n\nconfig.storeType == '2' ? __WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][2].children.splice(1, 1) : ''; //1企业店铺,2个人店铺\nif (childArray) {\n  //是子账号\n  config.storeType == '2' ? __WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][2].children.splice(3, 1) : __WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][2].children.splice(4, 1);\n  childArray = childArray.split('[')[1].split(']')[0].split(',');\n  childArray.forEach(function (v, i) {\n    switch (Number(v)) {\n      case 1:\n        __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes.push(__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][2]);break;\n      case 2:\n        __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes.push(__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][0]);break;\n      case 3:\n        __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes.push(__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][1]);break;\n      case 4:\n        __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes.push(__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */][3]);break;\n    }\n  });\n} else {\n  __WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes = [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(__WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(__WEBPACK_IMPORTED_MODULE_2__router_asyncRouter__[\"a\" /* default */]));\n}\n\n__WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].addRoutes(__WEBPACK_IMPORTED_MODULE_1__router__[\"a\" /* default */].options.routes);\n\n/***/ }),\n\n/***/ \"muQq\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"n+LW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_FullNoLeft_vue__ = __webpack_require__(\"HeTw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_f22ba94a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_FullNoLeft_vue__ = __webpack_require__(\"4Kl9\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"dmSZ\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_FullNoLeft_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_f22ba94a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_FullNoLeft_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"qweL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_PersonMessage_vue__ = __webpack_require__(\"zm4W\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_22c5b8f4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_PersonMessage_vue__ = __webpack_require__(\"X1Wg\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"siVr\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_PersonMessage_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_22c5b8f4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_PersonMessage_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"rIFi\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rL1v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Full_vue__ = __webpack_require__(\"6RtZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_635ab213_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Full_vue__ = __webpack_require__(\"QquN\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"eGGH\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Full_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_635ab213_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Full_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"roEk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*首页*/\nvar homeIndex = function homeIndex(resolve) {\n    return __webpack_require__.e/* require */(33).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"+3bb\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar routers = [{\n    path: '/home/index',\n    component: homeIndex,\n    name: ''\n}];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"siVr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"t7ut\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n/*交易管理*/\nvar Orders = function Orders(resolve) {\n    return __webpack_require__.e/* require */(34).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"ZwQM\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar OrderDetail = function OrderDetail(resolve) {\n    return __webpack_require__.e/* require */(22).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"Z6Vk\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar ServiceOrder = function ServiceOrder(resolve) {\n    return __webpack_require__.e/* require */(36).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"WSbt\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar ServiceDetail = function ServiceDetail(resolve) {\n    return __webpack_require__.e/* require */(25).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"FzGE\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Coupon = function Coupon(resolve) {\n    return __webpack_require__.e/* require */(35).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"tiyc\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Reservation = function Reservation(resolve) {\n    return __webpack_require__.e/* require */(38).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"fQy0\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar ReservationDetail = function ReservationDetail(resolve) {\n    return __webpack_require__.e/* require */(37).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"YE54\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Bind = function Bind(resolve) {\n    return __webpack_require__.e/* require */(23).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"OYiL\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\nvar routers = [{ path: '/transaction/orders', component: Orders, name: '订单查询',\n    children: [{ path: '/transaction/orders/order-detail', component: OrderDetail, name: '订单详情' }]\n}, { path: '/transaction/service-orders', component: ServiceOrder, name: '售后订单查询',\n    children: [{ path: '/transaction/service-orders/service-detail', component: ServiceDetail, name: '售后订单详情' }]\n}, { path: '/transaction/coupon', component: Coupon, name: '发出的点券' }, { path: '/transaction/reservation', component: Reservation, name: '结算管理',\n    children: [{ path: '/transaction/reservation/reservation-detail', component: ReservationDetail, name: '结算明细' }]\n}, { path: '/transaction/bind', component: Bind, name: '绑定支付宝' }];\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routers);\n\n/***/ }),\n\n/***/ \"teIl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Header_vue__ = __webpack_require__(\"841c\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_49344fde_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Header_vue__ = __webpack_require__(\"frEi\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"2SIn\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_Header_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_49344fde_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_Header_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xliq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(\"GxZn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//import NProgress from 'nprogress'\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      ruleForm: {\n        dateValue: ''\n      },\n      price: 2000,\n      rules: []\n    };\n  },\n\n  watch: {\n    ruleForm: {\n      handler: function handler(newVal, oldVal) {\n        console.log(typeof newVal === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(newVal));\n      },\n      deep: true\n    }\n  },\n  methods: {\n    focusHandle: function focusHandle() {\n      function aa() {\n        this.say = function (str) {\n          console.log(str);\n        };\n      }\n\n      var dd = new aa();\n\n      var bb = {};\n\n      dd.say.call(bb, 'dasdada');\n    },\n    changeHandle: function changeHandle(value) {},\n    inputHandle: function inputHandle(event) {\n      var regExp = /^\\d+\\.?\\d{0,2}/;\n      if (regExp.test(event.target.value)) {\n        event.target.value = event.target.value.replace(/^(\\d+)\\.(\\d\\d).*$/, '$1.$2');\n      } else {\n        event.target.value = '';\n      }\n      //event.target.value = event.target.value.replace(/^(\\d+)\\.(\\d\\d).*$/,'')\n    },\n    onKeyPress: function onKeyPress(event) {\n      var value = event.target.value;\n      if (!value.match(/^[\\+\\-]?\\d*?\\.?\\d*?$/)) {\n        value = ob.t_value;\n      } else ob.t_value = value;if (value.match(/^(?:[\\+\\-]?\\d+(?:\\.\\d+)?)?$/)) ob.o_value = value;\n    },\n    onKeyUp: function onKeyUp() {},\n    validatePass: function validatePass(rule, value, callback) {\n      console.log(value);\n    },\n    onBlur: function onBlur() {},\n    onafterpasteHandle: function onafterpasteHandle(event) {\n      event.target.value = event.target.value.replace(/\\D/g, '');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"yEst\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(\"bXvV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n\n(function ($) {\n  $.extend($.summernote.lang, {\n    'zh-CN': {\n      font: {\n        bold: '粗体',\n        italic: '斜体',\n        underline: '下划线',\n        clear: '清除格式',\n        height: '行高',\n        name: '字体',\n        strikethrough: '删除线',\n        subscript: '下标',\n        superscript: '上标',\n        size: '字号'\n      },\n      image: {\n        image: '图片',\n        insert: '插入图片',\n        resizeFull: '缩放至 100%',\n        resizeHalf: '缩放至 50%',\n        resizeQuarter: '缩放至 25%',\n        floatLeft: '靠左浮动',\n        floatRight: '靠右浮动',\n        floatNone: '取消浮动',\n        shapeRounded: '形状: 圆角',\n        shapeCircle: '形状: 圆',\n        shapeThumbnail: '形状: 缩略图',\n        shapeNone: '形状: 无',\n        dragImageHere: '将图片拖拽至此处',\n        selectFromFiles: '从本地上传',\n        maximumFileSize: '文件大小最大值',\n        maximumFileSizeError: '文件大小超出最大值。',\n        url: '图片地址',\n        remove: '移除图片'\n      },\n      video: {\n        video: '视频',\n        videoLink: '视频链接',\n        insert: '插入视频',\n        url: '视频地址',\n        providers: \"(支持腾讯、优酷、爱奇艺、芒果tv、搜狐、百度、土豆、乐视、新浪等)；<br/><span style='color: #f00'>注意</span>：为了能够更好的在手机里展示视频，请尽可能使用&lt;iframe&gt;&lt;/iframe&gt;加载视频。\"\n      },\n      link: {\n        link: '链接',\n        insert: '插入链接',\n        unlink: '去除链接',\n        edit: '编辑链接',\n        textToDisplay: '显示文本',\n        url: '链接地址',\n        openInNewWindow: '在新窗口打开'\n      },\n      table: {\n        table: '表格'\n      },\n      hr: {\n        insert: '水平线'\n      },\n      style: {\n        style: '样式',\n        p: '普通',\n        blockquote: '引用',\n        pre: '代码',\n        h1: '标题 1',\n        h2: '标题 2',\n        h3: '标题 3',\n        h4: '标题 4',\n        h5: '标题 5',\n        h6: '标题 6'\n      },\n      lists: {\n        unordered: '无序列表',\n        ordered: '有序列表'\n      },\n      options: {\n        help: '帮助',\n        fullscreen: '全屏',\n        codeview: '源代码'\n      },\n      paragraph: {\n        paragraph: '段落',\n        outdent: '减少缩进',\n        indent: '增加缩进',\n        left: '左对齐',\n        center: '居中对齐',\n        right: '右对齐',\n        justify: '两端对齐'\n      },\n      color: {\n        recent: '最近使用',\n        more: '更多',\n        background: '背景',\n        foreground: '前景',\n        transparent: '透明',\n        setTransparent: '透明',\n        reset: '重置',\n        resetToDefault: '默认'\n      },\n      shortcut: {\n        shortcuts: '快捷键',\n        close: '关闭',\n        textFormatting: '文本格式',\n        action: '动作',\n        paragraphFormatting: '段落格式',\n        documentStyle: '文档样式',\n        extraKeys: '额外按键'\n      },\n      history: {\n        undo: '撤销',\n        redo: '重做'\n      },\n      help: {\n        insertParagraph: '插入段落',\n        undo: '撤销',\n        redo: '重做',\n        tab: '增加缩进',\n        untab: '减少缩进',\n        bold: '粗体',\n        italic: '斜体',\n        underline: '下划线',\n        strikethrough: '删除线',\n        removeFormat: '清除格式',\n        justifyLeft: '左对齐',\n        justifyCenter: '居中对齐',\n        justifyRight: '右对齐',\n        justifyFull: '两端对齐',\n        insertUnorderedList: '无序列表',\n        insertOrderedList: '有序列表',\n        outdent: '减少缩进',\n        indent: '增加缩进',\n        formatPara: '设置选中内容样式为 普通',\n        formatH1: '设置选中内容样式为 标题1',\n        formatH2: '设置选中内容样式为 标题2',\n        formatH3: '设置选中内容样式为 标题3',\n        formatH4: '设置选中内容样式为 标题4',\n        formatH5: '设置选中内容样式为 标题5',\n        formatH6: '设置选中内容样式为 标题6',\n        insertHorizontalRule: '插入水平线',\n        'linkDialog.show': '显示链接对话框'\n      }\n    }\n  });\n})(window.jQuery || __WEBPACK_IMPORTED_MODULE_0_jquery___default.a);\n\n/***/ }),\n\n/***/ \"zSLJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar cookie = {\n\tsetCookie: function setCookie(name, value) {\n\t\tvar oDate = new Date();\n\t\tdocument.cookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value) + \";path=/;expires=-1\";\n\t},\n\tgetCookie: function getCookie(name) {\n\t\tvar arr = document.cookie.replace(/\\s/g, '').split(';');\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tvar arr2 = arr[i].split('=');\n\t\t\tif (decodeURIComponent(arr2[0]) === name) {\n\t\t\t\treturn decodeURIComponent(arr2[1]);\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t},\n\tdelCookie: function delCookie(name) {\n\t\tcookie.setCookie(name, 1, -1);\n\t}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (cookie);\n\n/***/ }),\n\n/***/ \"zm4W\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_toolApi__ = __webpack_require__(\"8bmq\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            message: null,\n            currentPage: 1,\n            pageSize: 20,\n            total: null\n        };\n    },\n    created: function created() {\n        var self = this;\n        self.getData();\n    },\n\n    methods: {\n        /*详细展示*/\n        toggleDown: function toggleDown(b, len) {\n            var self = this;\n            self.message[len].bottom = !b;\n        },\n\n        /*获取消息列表*/\n        getData: function getData() {\n            var self = this,\n                params = {\n                uid: config.uid,\n                pageNum: self.currentPage,\n                pageSize: self.pageSize\n            };\n            Object(__WEBPACK_IMPORTED_MODULE_0__api_toolApi__[\"f\" /* msgList */])(params).then(function (res) {\n                if (res.data.data) {\n                    self.message = res.data.data.list;\n                    self.total = Number(res.data.data.total);\n                    for (var i = 0; i < self.message.length; i++) {\n                        self.$set(self.message[i], 'bottom', false);\n                        self.message[i].jumpLink = self.switchUrl(self.message[i].subType) + '&id=' + self.message[i].jumpId;\n                        self.$set(self.message[i], 'jumpNot', self.switchUrl(self.message[i].subType));\n                    }\n                }\n            });\n        },\n\n        /*跳转地址转化*/\n        switchUrl: function switchUrl(a) {\n            switch (a) {\n                /*活动消息*/\n                case 3011:\n                    return '/marketing-center/management?name=platformActive';break; //平台对店铺发起活动的邀请-店铺受邀\n                case 3021:\n                    return '/marketing-center/management?name=storeActive';break;\n                // 店铺报名平台活动的申请-审核通过\n                case 3022:\n                    return '/marketing-center/management?name=platformActive';break; //店铺报名平台活动的申请-审核未通过\n                case 3031:\n                    return '/marketing-center/management?name=storeActive';break;\n                //平台对店铺活动的审核-下架店铺活动\n                case 3041:\n                    return '/marketing-center/management?from=mes';break;\n                //平台/店铺活动开始结束状态-活动开始\n                case 3042:\n                    return '/marketing-center/management?from=mes';break;\n                //平台/店铺活动开始结束状态-活动结束\n                /*订单消息*/\n                case 2011:\n                    return '/transaction/orders/order-detail?from=mes';break;\n                //新订单产生订单状态为PY时\n                case 2021:\n                    return '/transaction/orders/order-detail?from=mes';break;\n                //用户申请售后订单状态为RO时\n                /*店铺消息*/\n                case 6012:\n                    return '/store/brand-management?from=mes';break;\n                //商家发起创建品牌的申请-审核不通过\n                case 6022:\n                    return '/store/shop-management?from=mes';break;\n                //商家发起店铺入驻的申请-审核不通过\n                case 6032:\n                    return '/store/message?from=mes';break;\n                //商家发起修改店铺信息的申请-审核不通过\n                case 6042:\n                    return '/seller-management/notpass?from=mes';break;\n                //商家发起上传商品的申请-审核不通过\n                case 6052:\n                    return '/seller-management/notpass?from=mes';break;\n                //商家发起修改商品信息的申请-审核不通过\n                case 7026:\n                    return '/seller-management/downshelve?from=mes';break;\n                //后台修改行业信息的通知-取消行业关联类目导致店铺商品下架\n                case 7032:\n                    return '/seller-management/downshelve?from=mes';break;\n                //后台修改品牌信息的通知-禁用品牌导致店铺商品下架\n                case 7046:\n                    return '/store/message?from=mes';break;\n                //后台修改店铺信息的通知-关闭店铺\n                case 7051:\n                    return '/seller-management/downshelve?from=mes';break;\n                //后台修改商品信息的通知-下架商品\n                case 7061:\n                    return '/store/message?from=mes';break;\n                //品牌授权有效期到期、店铺失去品牌经营权的通知\n                default:\n                    return '';\n            }\n        },\n\n        /*时间戳转化*/\n        switchTime: function switchTime(val) {\n            function add0(m) {\n                return m < 10 ? '0' + m : m;\n            }\n            var time = new Date(val),\n                y = time.getFullYear(),\n                m = time.getMonth() + 1,\n                d = time.getDate(),\n                h = time.getHours(),\n                mm = time.getMinutes(),\n                s = time.getSeconds();\n            return y + '-' + add0(m) + '-' + add0(d) + ' ' + add0(h) + ':' + add0(mm) + ':' + add0(s);\n        },\n\n        /*活动类型转化*/\n        switchType: function switchType(a) {\n            switch (a) {\n                case 1:\n                    return '资产消息';break;\n                case 2:\n                    return '订单消息';break;\n                case 3:\n                    return '活动消息';break;\n                case 4:\n                    return '社区消息';break;\n                case 5:\n                    return '帐号消息';break;\n                case 6:\n                    return '审核消息';break;\n                case 7:\n                    return '系统消息';\n            }\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            var self = this;\n            self.pageSize = val;\n            self.getData();\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            var self = this;\n            self.currentPage = val;\n            self.getData();\n        }\n    }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.js","/**\r\n * Super simple wysiwyg editor v0.8.8\r\n * http://summernote.org/\r\n *\r\n * summernote.js\r\n * Copyright 2013- Alan Hong. and other contributors\r\n * summernote may be freely distributed under the MIT license./\r\n *\r\n * Date: 2017-09-09T11:03Z\r\n */\r\n(function (factory) {\r\n  /* global define */\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node/CommonJS\r\n    module.exports = factory(require('jquery'));\r\n  } else {\r\n    // Browser globals\r\n    factory(window.jQuery || jQuery);\r\n  }\r\n}(function ($) {\r\n\r\n  'use strict';\r\n\r\n  var isSupportAmd = typeof define === 'function' && define.amd;\r\n\r\n  /**\r\n   * returns whether font is installed or not.\r\n   *\r\n   * @param {String} fontName\r\n   * @return {Boolean}\r\n   */\r\n  var isFontInstalled = function (fontName) {\r\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\r\n    var $tester = $('<div>').css({\r\n      position: 'absolute',\r\n      left: '-9999px',\r\n      top: '-9999px',\r\n      fontSize: '200px'\r\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\r\n\r\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\r\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\r\n\r\n    $tester.remove();\r\n\r\n    return originalWidth !== width;\r\n  };\r\n\r\n  var userAgent = navigator.userAgent;\r\n  var isMSIE = /MSIE|Trident/i.test(userAgent);\r\n  var browserVersion;\r\n  if (isMSIE) {\r\n    var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\r\n    if (matches) {\r\n      browserVersion = parseFloat(matches[1]);\r\n    }\r\n    matches = /Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(userAgent);\r\n    if (matches) {\r\n      browserVersion = parseFloat(matches[1]);\r\n    }\r\n  }\r\n\r\n  var isEdge = /Edge\\/\\d+/.test(userAgent);\r\n\r\n  var hasCodeMirror = !!window.CodeMirror;\r\n  if (!hasCodeMirror && isSupportAmd) {\r\n    // Webpack\r\n    if (typeof __webpack_require__ === 'function') { // jshint ignore:line\r\n      try {\r\n        // If CodeMirror can't be resolved, `require.resolve` will throw an\r\n        // exception and `hasCodeMirror` won't be set to `true`.\r\n        require.resolve('codemirror');\r\n        hasCodeMirror = true;\r\n      } catch (e) {\r\n        // do nothing\r\n      }\r\n    } else if (typeof require !== 'undefined') {\r\n      // Browserify\r\n      if (typeof require.resolve !== 'undefined') {\r\n        try {\r\n          // If CodeMirror can't be resolved, `require.resolve` will throw an\r\n          // exception and `hasCodeMirror` won't be set to `true`.\r\n          require.resolve('codemirror');\r\n          hasCodeMirror = true;\r\n        } catch (e) {\r\n          // do nothing\r\n        }\r\n      // Almond/Require\r\n      } else if (typeof require.specified !== 'undefined') {\r\n        hasCodeMirror = require.specified('codemirror');\r\n      }\r\n    }\r\n  }\r\n\r\n  var isSupportTouch =\r\n    (('ontouchstart' in window) ||\r\n     (navigator.MaxTouchPoints > 0) ||\r\n     (navigator.msMaxTouchPoints > 0));\r\n\r\n  /**\r\n   * @class core.agent\r\n   *\r\n   * Object which check platform and agent\r\n   *\r\n   * @singleton\r\n   * @alternateClassName agent\r\n   */\r\n  var agent = {\r\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\r\n    isMSIE: isMSIE,\r\n    isEdge: isEdge,\r\n    isFF: !isEdge && /firefox/i.test(userAgent),\r\n    isPhantom: /PhantomJS/i.test(userAgent),\r\n    isWebkit: !isEdge && /webkit/i.test(userAgent),\r\n    isChrome: !isEdge && /chrome/i.test(userAgent),\r\n    isSafari: !isEdge && /safari/i.test(userAgent),\r\n    browserVersion: browserVersion,\r\n    jqueryVersion: parseFloat($.fn.jquery),\r\n    isSupportAmd: isSupportAmd,\r\n    isSupportTouch: isSupportTouch,\r\n    hasCodeMirror: hasCodeMirror,\r\n    isFontInstalled: isFontInstalled,\r\n    isW3CRangeSupport: !!document.createRange\r\n  };\r\n\r\n  /**\r\n   * @class core.func\r\n   *\r\n   * func utils (for high-order func's arg)\r\n   *\r\n   * @singleton\r\n   * @alternateClassName func\r\n   */\r\n  var func = (function () {\r\n    var eq = function (itemA) {\r\n      return function (itemB) {\r\n        return itemA === itemB;\r\n      };\r\n    };\r\n\r\n    var eq2 = function (itemA, itemB) {\r\n      return itemA === itemB;\r\n    };\r\n\r\n    var peq2 = function (propName) {\r\n      return function (itemA, itemB) {\r\n        return itemA[propName] === itemB[propName];\r\n      };\r\n    };\r\n\r\n    var ok = function () {\r\n      return true;\r\n    };\r\n\r\n    var fail = function () {\r\n      return false;\r\n    };\r\n\r\n    var not = function (f) {\r\n      return function () {\r\n        return !f.apply(f, arguments);\r\n      };\r\n    };\r\n\r\n    var and = function (fA, fB) {\r\n      return function (item) {\r\n        return fA(item) && fB(item);\r\n      };\r\n    };\r\n\r\n    var self = function (a) {\r\n      return a;\r\n    };\r\n\r\n    var invoke = function (obj, method) {\r\n      return function () {\r\n        return obj[method].apply(obj, arguments);\r\n      };\r\n    };\r\n\r\n    var idCounter = 0;\r\n\r\n    /**\r\n     * generate a globally-unique id\r\n     *\r\n     * @param {String} [prefix]\r\n     */\r\n    var uniqueId = function (prefix) {\r\n      var id = ++idCounter + '';\r\n      return prefix ? prefix + id : id;\r\n    };\r\n\r\n    /**\r\n     * returns bnd (bounds) from rect\r\n     *\r\n     * - IE Compatibility Issue: http://goo.gl/sRLOAo\r\n     * - Scroll Issue: http://goo.gl/sNjUc\r\n     *\r\n     * @param {Rect} rect\r\n     * @return {Object} bounds\r\n     * @return {Number} bounds.top\r\n     * @return {Number} bounds.left\r\n     * @return {Number} bounds.width\r\n     * @return {Number} bounds.height\r\n     */\r\n    var rect2bnd = function (rect) {\r\n      var $document = $(document);\r\n      return {\r\n        top: rect.top + $document.scrollTop(),\r\n        left: rect.left + $document.scrollLeft(),\r\n        width: rect.right - rect.left,\r\n        height: rect.bottom - rect.top\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns a copy of the object where the keys have become the values and the values the keys.\r\n     * @param {Object} obj\r\n     * @return {Object}\r\n     */\r\n    var invertObject = function (obj) {\r\n      var inverted = {};\r\n      for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          inverted[obj[key]] = key;\r\n        }\r\n      }\r\n      return inverted;\r\n    };\r\n\r\n    /**\r\n     * @param {String} namespace\r\n     * @param {String} [prefix]\r\n     * @return {String}\r\n     */\r\n    var namespaceToCamel = function (namespace, prefix) {\r\n      prefix = prefix || '';\r\n      return prefix + namespace.split('.').map(function (name) {\r\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\r\n      }).join('');\r\n    };\r\n\r\n    /**\r\n     * Returns a function, that, as long as it continues to be invoked, will not\r\n     * be triggered. The function will be called after it stops being called for\r\n     * N milliseconds. If `immediate` is passed, trigger the function on the\r\n     * leading edge, instead of the trailing.\r\n     * @param {Function} func\r\n     * @param {Number} wait\r\n     * @param {Boolean} immediate\r\n     * @return {Function}\r\n     */\r\n    var debounce = function (func, wait, immediate) {\r\n      var timeout;\r\n      return function () {\r\n        var context = this, args = arguments;\r\n        var later = function () {\r\n          timeout = null;\r\n          if (!immediate) {\r\n            func.apply(context, args);\r\n          }\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) {\r\n          func.apply(context, args);\r\n        }\r\n      };\r\n    };\r\n\r\n    return {\r\n      eq: eq,\r\n      eq2: eq2,\r\n      peq2: peq2,\r\n      ok: ok,\r\n      fail: fail,\r\n      self: self,\r\n      not: not,\r\n      and: and,\r\n      invoke: invoke,\r\n      uniqueId: uniqueId,\r\n      rect2bnd: rect2bnd,\r\n      invertObject: invertObject,\r\n      namespaceToCamel: namespaceToCamel,\r\n      debounce: debounce\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class core.list\r\n   *\r\n   * list utils\r\n   *\r\n   * @singleton\r\n   * @alternateClassName list\r\n   */\r\n  var list = (function () {\r\n    /**\r\n     * returns the first item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var head = function (array) {\r\n      return array[0];\r\n    };\r\n\r\n    /**\r\n     * returns the last item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var last = function (array) {\r\n      return array[array.length - 1];\r\n    };\r\n\r\n    /**\r\n     * returns everything but the last entry of the array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var initial = function (array) {\r\n      return array.slice(0, array.length - 1);\r\n    };\r\n\r\n    /**\r\n     * returns the rest of the items in an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var tail = function (array) {\r\n      return array.slice(1);\r\n    };\r\n\r\n    /**\r\n     * returns item of array\r\n     */\r\n    var find = function (array, pred) {\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        var item = array[idx];\r\n        if (pred(item)) {\r\n          return item;\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * returns true if all of the values in the array pass the predicate truth test.\r\n     */\r\n    var all = function (array, pred) {\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (!pred(array[idx])) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns index of item\r\n     */\r\n    var indexOf = function (array, item) {\r\n      return $.inArray(item, array);\r\n    };\r\n\r\n    /**\r\n     * returns true if the value is present in the list.\r\n     */\r\n    var contains = function (array, item) {\r\n      return indexOf(array, item) !== -1;\r\n    };\r\n\r\n    /**\r\n     * get sum from a list\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - iterator\r\n     */\r\n    var sum = function (array, fn) {\r\n      fn = fn || func.self;\r\n      return array.reduce(function (memo, v) {\r\n        return memo + fn(v);\r\n      }, 0);\r\n    };\r\n  \r\n    /**\r\n     * returns a copy of the collection with array type.\r\n     * @param {Collection} collection - collection eg) node.childNodes, ...\r\n     */\r\n    var from = function (collection) {\r\n      var result = [], idx = -1, length = collection.length;\r\n      while (++idx < length) {\r\n        result[idx] = collection[idx];\r\n      }\r\n      return result;\r\n    };\r\n\r\n    /**\r\n     * returns whether list is empty or not\r\n     */\r\n    var isEmpty = function (array) {\r\n      return !array || !array.length;\r\n    };\r\n  \r\n    /**\r\n     * cluster elements by predicate function.\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     * @param {Array[]}\r\n     */\r\n    var clusterBy = function (array, fn) {\r\n      if (!array.length) { return []; }\r\n      var aTail = tail(array);\r\n      return aTail.reduce(function (memo, v) {\r\n        var aLast = last(memo);\r\n        if (fn(last(aLast), v)) {\r\n          aLast[aLast.length] = v;\r\n        } else {\r\n          memo[memo.length] = [v];\r\n        }\r\n        return memo;\r\n      }, [[head(array)]]);\r\n    };\r\n  \r\n    /**\r\n     * returns a copy of the array with all false values removed\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     */\r\n    var compact = function (array) {\r\n      var aResult = [];\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (array[idx]) { aResult.push(array[idx]); }\r\n      }\r\n      return aResult;\r\n    };\r\n\r\n    /**\r\n     * produces a duplicate-free version of the array\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var unique = function (array) {\r\n      var results = [];\r\n\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (!contains(results, array[idx])) {\r\n          results.push(array[idx]);\r\n        }\r\n      }\r\n\r\n      return results;\r\n    };\r\n\r\n    /**\r\n     * returns next item.\r\n     * @param {Array} array\r\n     */\r\n    var next = function (array, item) {\r\n      var idx = indexOf(array, item);\r\n      if (idx === -1) { return null; }\r\n\r\n      return array[idx + 1];\r\n    };\r\n\r\n    /**\r\n     * returns prev item.\r\n     * @param {Array} array\r\n     */\r\n    var prev = function (array, item) {\r\n      var idx = indexOf(array, item);\r\n      if (idx === -1) { return null; }\r\n\r\n      return array[idx - 1];\r\n    };\r\n\r\n    return { head: head, last: last, initial: initial, tail: tail,\r\n             prev: prev, next: next, find: find, contains: contains,\r\n             all: all, sum: sum, from: from, isEmpty: isEmpty,\r\n             clusterBy: clusterBy, compact: compact, unique: unique };\r\n  })();\r\n\r\n\r\n  var NBSP_CHAR = String.fromCharCode(160);\r\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\r\n\r\n  /**\r\n   * @class core.dom\r\n   *\r\n   * Dom functions\r\n   *\r\n   * @singleton\r\n   * @alternateClassName dom\r\n   */\r\n  var dom = (function () {\r\n    /**\r\n     * @method isEditable\r\n     *\r\n     * returns whether node is `note-editable` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isEditable = function (node) {\r\n      return node && $(node).hasClass('note-editable');\r\n    };\r\n\r\n    /**\r\n     * @method isControlSizing\r\n     *\r\n     * returns whether node is `note-control-sizing` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isControlSizing = function (node) {\r\n      return node && $(node).hasClass('note-control-sizing');\r\n    };\r\n\r\n    /**\r\n     * @method makePredByNodeName\r\n     *\r\n     * returns predicate which judge whether nodeName is same\r\n     *\r\n     * @param {String} nodeName\r\n     * @return {Function}\r\n     */\r\n    var makePredByNodeName = function (nodeName) {\r\n      nodeName = nodeName.toUpperCase();\r\n      return function (node) {\r\n        return node && node.nodeName.toUpperCase() === nodeName;\r\n      };\r\n    };\r\n\r\n    /**\r\n     * @method isText\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is text(3)\r\n     */\r\n    var isText = function (node) {\r\n      return node && node.nodeType === 3;\r\n    };\r\n\r\n    /**\r\n     * @method isElement\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is element(1)\r\n     */\r\n    var isElement = function (node) {\r\n      return node && node.nodeType === 1;\r\n    };\r\n\r\n    /**\r\n     * ex) br, col, embed, hr, img, input, ...\r\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\r\n     */\r\n    var isVoid = function (node) {\r\n      return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isPara = function (node) {\r\n      if (isEditable(node)) {\r\n        return false;\r\n      }\r\n\r\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\r\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isHeading = function (node) {\r\n      return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isPre = makePredByNodeName('PRE');\r\n\r\n    var isLi = makePredByNodeName('LI');\r\n\r\n    var isPurePara = function (node) {\r\n      return isPara(node) && !isLi(node);\r\n    };\r\n\r\n    var isTable = makePredByNodeName('TABLE');\r\n\r\n    var isData = makePredByNodeName('DATA');\r\n\r\n    var isInline = function (node) {\r\n      return !isBodyContainer(node) &&\r\n             !isList(node) &&\r\n             !isHr(node) &&\r\n             !isPara(node) &&\r\n             !isTable(node) &&\r\n             !isBlockquote(node) &&\r\n             !isData(node);\r\n    };\r\n\r\n    var isList = function (node) {\r\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isHr = makePredByNodeName('HR');\r\n\r\n    var isCell = function (node) {\r\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\r\n\r\n    var isBodyContainer = function (node) {\r\n      return isCell(node) || isBlockquote(node) || isEditable(node);\r\n    };\r\n\r\n    var isAnchor = makePredByNodeName('A');\r\n\r\n    var isParaInline = function (node) {\r\n      return isInline(node) && !!ancestor(node, isPara);\r\n    };\r\n\r\n    var isBodyInline = function (node) {\r\n      return isInline(node) && !ancestor(node, isPara);\r\n    };\r\n\r\n    var isBody = makePredByNodeName('BODY');\r\n\r\n    /**\r\n     * returns whether nodeB is closest sibling of nodeA\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     * @return {Boolean}\r\n     */\r\n    var isClosestSibling = function (nodeA, nodeB) {\r\n      return nodeA.nextSibling === nodeB ||\r\n             nodeA.previousSibling === nodeB;\r\n    };\r\n\r\n    /**\r\n     * returns array of closest siblings with node\r\n     *\r\n     * @param {Node} node\r\n     * @param {function} [pred] - predicate function\r\n     * @return {Node[]}\r\n     */\r\n    var withClosestSiblings = function (node, pred) {\r\n      pred = pred || func.ok;\r\n\r\n      var siblings = [];\r\n      if (node.previousSibling && pred(node.previousSibling)) {\r\n        siblings.push(node.previousSibling);\r\n      }\r\n      siblings.push(node);\r\n      if (node.nextSibling && pred(node.nextSibling)) {\r\n        siblings.push(node.nextSibling);\r\n      }\r\n      return siblings;\r\n    };\r\n\r\n    /**\r\n     * blank HTML for cursor position\r\n     * - [workaround] old IE only works with &nbsp;\r\n     * - [workaround] IE11 and other browser works with bogus br\r\n     */\r\n    var blankHTML = agent.isMSIE && agent.browserVersion < 11 ? '&nbsp;' : '<br>';\r\n\r\n    /**\r\n     * @method nodeLength\r\n     *\r\n     * returns #text's text size or element's childNodes size\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    var nodeLength = function (node) {\r\n      if (isText(node)) {\r\n        return node.nodeValue.length;\r\n      }\r\n      \r\n      if (node) {\r\n        return node.childNodes.length;\r\n      }\r\n      \r\n      return 0;\r\n      \r\n    };\r\n\r\n    /**\r\n     * returns whether node is empty or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isEmpty = function (node) {\r\n      var len = nodeLength(node);\r\n\r\n      if (len === 0) {\r\n        return true;\r\n      } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML) {\r\n        // ex) <p><br></p>, <span><br></span>\r\n        return true;\r\n      } else if (list.all(node.childNodes, isText) && node.innerHTML === '') {\r\n        // ex) <p></p>, <span></span>\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * padding blankHTML if node is empty (for cursor position)\r\n     */\r\n    var paddingBlankHTML = function (node) {\r\n      if (!isVoid(node) && !nodeLength(node)) {\r\n        node.innerHTML = blankHTML;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * find nearest ancestor predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\r\n    var ancestor = function (node, pred) {\r\n      while (node) {\r\n        if (pred(node)) { return node; }\r\n        if (isEditable(node)) { break; }\r\n\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * find nearest ancestor only single child blood line and predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\r\n    var singleChildAncestor = function (node, pred) {\r\n      node = node.parentNode;\r\n\r\n      while (node) {\r\n        if (nodeLength(node) !== 1) { break; }\r\n        if (pred(node)) { return node; }\r\n        if (isEditable(node)) { break; }\r\n\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * returns new array of ancestor nodes (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\r\n    var listAncestor = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var ancestors = [];\r\n      ancestor(node, function (el) {\r\n        if (!isEditable(el)) {\r\n          ancestors.push(el);\r\n        }\r\n\r\n        return pred(el);\r\n      });\r\n      return ancestors;\r\n    };\r\n\r\n    /**\r\n     * find farthest ancestor predicate hit\r\n     */\r\n    var lastAncestor = function (node, pred) {\r\n      var ancestors = listAncestor(node);\r\n      return list.last(ancestors.filter(pred));\r\n    };\r\n\r\n    /**\r\n     * returns common ancestor node between two nodes.\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     */\r\n    var commonAncestor = function (nodeA, nodeB) {\r\n      var ancestors = listAncestor(nodeA);\r\n      for (var n = nodeB; n; n = n.parentNode) {\r\n        if ($.inArray(n, ancestors) > -1) { return n; }\r\n      }\r\n      return null; // difference document area\r\n    };\r\n\r\n    /**\r\n     * listing all previous siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\r\n    var listPrev = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var nodes = [];\r\n      while (node) {\r\n        if (pred(node)) { break; }\r\n        nodes.push(node);\r\n        node = node.previousSibling;\r\n      }\r\n      return nodes;\r\n    };\r\n\r\n    /**\r\n     * listing next siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\r\n    var listNext = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var nodes = [];\r\n      while (node) {\r\n        if (pred(node)) { break; }\r\n        nodes.push(node);\r\n        node = node.nextSibling;\r\n      }\r\n      return nodes;\r\n    };\r\n\r\n    /**\r\n     * listing descendant nodes\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\r\n    var listDescendant = function (node, pred) {\r\n      var descendants = [];\r\n      pred = pred || func.ok;\r\n\r\n      // start DFS(depth first search) with node\r\n      (function fnWalk(current) {\r\n        if (node !== current && pred(current)) {\r\n          descendants.push(current);\r\n        }\r\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\r\n          fnWalk(current.childNodes[idx]);\r\n        }\r\n      })(node);\r\n\r\n      return descendants;\r\n    };\r\n\r\n    /**\r\n     * wrap node with new tag.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} tagName of wrapper\r\n     * @return {Node} - wrapper\r\n     */\r\n    var wrap = function (node, wrapperName) {\r\n      var parent = node.parentNode;\r\n      var wrapper = $('<' + wrapperName + '>')[0];\r\n\r\n      parent.insertBefore(wrapper, node);\r\n      wrapper.appendChild(node);\r\n\r\n      return wrapper;\r\n    };\r\n\r\n    /**\r\n     * insert node after preceding\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} preceding - predicate function\r\n     */\r\n    var insertAfter = function (node, preceding) {\r\n      var next = preceding.nextSibling, parent = preceding.parentNode;\r\n      if (next) {\r\n        parent.insertBefore(node, next);\r\n      } else {\r\n        parent.appendChild(node);\r\n      }\r\n      return node;\r\n    };\r\n\r\n    /**\r\n     * append elements.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Collection} aChild\r\n     */\r\n    var appendChildNodes = function (node, aChild) {\r\n      $.each(aChild, function (idx, child) {\r\n        node.appendChild(child);\r\n      });\r\n      return node;\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is left edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgePoint = function (point) {\r\n      return point.offset === 0;\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is right edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgePoint = function (point) {\r\n      return point.offset === nodeLength(point.node);\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isEdgePoint = function (point) {\r\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\r\n    };\r\n\r\n    /**\r\n     * returns whether node is left edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgeOf = function (node, ancestor) {\r\n      while (node && node !== ancestor) {\r\n        if (position(node) !== 0) {\r\n          return false;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns whether node is right edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgeOf = function (node, ancestor) {\r\n      if (!ancestor) {\r\n        return false;\r\n      }\r\n      while (node && node !== ancestor) {\r\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\r\n          return false;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns whether point is left edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgePointOf = function (point, ancestor) {\r\n      return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\r\n    };\r\n\r\n    /**\r\n     * returns whether point is right edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgePointOf = function (point, ancestor) {\r\n      return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\r\n    };\r\n\r\n    /**\r\n     * returns offset from parent.\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    var position = function (node) {\r\n      var offset = 0;\r\n      while ((node = node.previousSibling)) {\r\n        offset += 1;\r\n      }\r\n      return offset;\r\n    };\r\n\r\n    var hasChildren = function (node) {\r\n      return !!(node && node.childNodes && node.childNodes.length);\r\n    };\r\n\r\n    /**\r\n     * returns previous boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var prevPoint = function (point, isSkipInnerOffset) {\r\n      var node, offset;\r\n\r\n      if (point.offset === 0) {\r\n        if (isEditable(point.node)) {\r\n          return null;\r\n        }\r\n\r\n        node = point.node.parentNode;\r\n        offset = position(point.node);\r\n      } else if (hasChildren(point.node)) {\r\n        node = point.node.childNodes[point.offset - 1];\r\n        offset = nodeLength(node);\r\n      } else {\r\n        node = point.node;\r\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\r\n      }\r\n\r\n      return {\r\n        node: node,\r\n        offset: offset\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns next boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var nextPoint = function (point, isSkipInnerOffset) {\r\n      var node, offset;\r\n\r\n      if (nodeLength(point.node) === point.offset) {\r\n        if (isEditable(point.node)) {\r\n          return null;\r\n        }\r\n\r\n        node = point.node.parentNode;\r\n        offset = position(point.node) + 1;\r\n      } else if (hasChildren(point.node)) {\r\n        node = point.node.childNodes[point.offset];\r\n        offset = 0;\r\n      } else {\r\n        node = point.node;\r\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\r\n      }\r\n\r\n      return {\r\n        node: node,\r\n        offset: offset\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns whether pointA and pointB is same or not.\r\n     *\r\n     * @param {BoundaryPoint} pointA\r\n     * @param {BoundaryPoint} pointB\r\n     * @return {Boolean}\r\n     */\r\n    var isSamePoint = function (pointA, pointB) {\r\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\r\n    };\r\n\r\n    /**\r\n     * returns whether point is visible (can set cursor) or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isVisiblePoint = function (point) {\r\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\r\n        return true;\r\n      }\r\n\r\n      var leftNode = point.node.childNodes[point.offset - 1];\r\n      var rightNode = point.node.childNodes[point.offset];\r\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * @method prevPointUtil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var prevPointUntil = function (point, pred) {\r\n      while (point) {\r\n        if (pred(point)) {\r\n          return point;\r\n        }\r\n\r\n        point = prevPoint(point);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * @method nextPointUntil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var nextPointUntil = function (point, pred) {\r\n      while (point) {\r\n        if (pred(point)) {\r\n          return point;\r\n        }\r\n\r\n        point = nextPoint(point);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * returns whether point has character or not.\r\n     *\r\n     * @param {Point} point\r\n     * @return {Boolean}\r\n     */\r\n    var isCharPoint = function (point) {\r\n      if (!isText(point.node)) {\r\n        return false;\r\n      }\r\n\r\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\r\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\r\n    };\r\n\r\n    /**\r\n     * @method walkPoint\r\n     *\r\n     * @param {BoundaryPoint} startPoint\r\n     * @param {BoundaryPoint} endPoint\r\n     * @param {Function} handler\r\n     * @param {Boolean} isSkipInnerOffset\r\n     */\r\n    var walkPoint = function (startPoint, endPoint, handler, isSkipInnerOffset) {\r\n      var point = startPoint;\r\n\r\n      while (point) {\r\n        handler(point);\r\n\r\n        if (isSamePoint(point, endPoint)) {\r\n          break;\r\n        }\r\n\r\n        var isSkipOffset = isSkipInnerOffset &&\r\n                           startPoint.node !== point.node &&\r\n                           endPoint.node !== point.node;\r\n        point = nextPoint(point, isSkipOffset);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method makeOffsetPath\r\n     *\r\n     * return offsetPath(array of offset) from ancestor\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {Node} node\r\n     */\r\n    var makeOffsetPath = function (ancestor, node) {\r\n      var ancestors = listAncestor(node, func.eq(ancestor));\r\n      return ancestors.map(position).reverse();\r\n    };\r\n\r\n    /**\r\n     * @method fromOffsetPath\r\n     *\r\n     * return element from offsetPath(array of offset)\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {array} offsets - offsetPath\r\n     */\r\n    var fromOffsetPath = function (ancestor, offsets) {\r\n      var current = ancestor;\r\n      for (var i = 0, len = offsets.length; i < len; i++) {\r\n        if (current.childNodes.length <= offsets[i]) {\r\n          current = current.childNodes[current.childNodes.length - 1];\r\n        } else {\r\n          current = current.childNodes[offsets[i]];\r\n        }\r\n      }\r\n      return current;\r\n    };\r\n\r\n    /**\r\n     * @method splitNode\r\n     *\r\n     * split element or #text\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\r\n    var splitNode = function (point, options) {\r\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\r\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\r\n\r\n      // edge case\r\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\r\n        if (isLeftEdgePoint(point)) {\r\n          return point.node;\r\n        } else if (isRightEdgePoint(point)) {\r\n          return point.node.nextSibling;\r\n        }\r\n      }\r\n\r\n      // split #text\r\n      if (isText(point.node)) {\r\n        return point.node.splitText(point.offset);\r\n      } else {\r\n        var childNode = point.node.childNodes[point.offset];\r\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\r\n        appendChildNodes(clone, listNext(childNode));\r\n\r\n        if (!isSkipPaddingBlankHTML) {\r\n          paddingBlankHTML(point.node);\r\n          paddingBlankHTML(clone);\r\n        }\r\n\r\n        return clone;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method splitTree\r\n     *\r\n     * split tree by point\r\n     *\r\n     * @param {Node} root - split root\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\r\n    var splitTree = function (root, point, options) {\r\n      // ex) [#text, <span>, <p>]\r\n      var ancestors = listAncestor(point.node, func.eq(root));\r\n\r\n      if (!ancestors.length) {\r\n        return null;\r\n      } else if (ancestors.length === 1) {\r\n        return splitNode(point, options);\r\n      }\r\n\r\n      return ancestors.reduce(function (node, parent) {\r\n        if (node === point.node) {\r\n          node = splitNode(point, options);\r\n        }\r\n\r\n        return splitNode({\r\n          node: parent,\r\n          offset: node ? dom.position(node) : nodeLength(parent)\r\n        }, options);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * split point\r\n     *\r\n     * @param {Point} point\r\n     * @param {Boolean} isInline\r\n     * @return {Object}\r\n     */\r\n    var splitPoint = function (point, isInline) {\r\n      // find splitRoot, container\r\n      //  - inline: splitRoot is a child of paragraph\r\n      //  - block: splitRoot is a child of bodyContainer\r\n      var pred = isInline ? isPara : isBodyContainer;\r\n      var ancestors = listAncestor(point.node, pred);\r\n      var topAncestor = list.last(ancestors) || point.node;\r\n\r\n      var splitRoot, container;\r\n      if (pred(topAncestor)) {\r\n        splitRoot = ancestors[ancestors.length - 2];\r\n        container = topAncestor;\r\n      } else {\r\n        splitRoot = topAncestor;\r\n        container = splitRoot.parentNode;\r\n      }\r\n\r\n      // if splitRoot is exists, split with splitTree\r\n      var pivot = splitRoot && splitTree(splitRoot, point, {\r\n        isSkipPaddingBlankHTML: isInline,\r\n        isNotSplitEdgePoint: isInline\r\n      });\r\n\r\n      // if container is point.node, find pivot with point.offset\r\n      if (!pivot && container === point.node) {\r\n        pivot = point.node.childNodes[point.offset];\r\n      }\r\n\r\n      return {\r\n        rightNode: pivot,\r\n        container: container\r\n      };\r\n    };\r\n\r\n    var create = function (nodeName) {\r\n      return document.createElement(nodeName);\r\n    };\r\n\r\n    var createText = function (text) {\r\n      return document.createTextNode(text);\r\n    };\r\n\r\n    /**\r\n     * @method remove\r\n     *\r\n     * remove node, (isRemoveChild: remove child or not)\r\n     *\r\n     * @param {Node} node\r\n     * @param {Boolean} isRemoveChild\r\n     */\r\n    var remove = function (node, isRemoveChild) {\r\n      if (!node || !node.parentNode) { return; }\r\n      if (node.removeNode) { return node.removeNode(isRemoveChild); }\r\n\r\n      var parent = node.parentNode;\r\n      if (!isRemoveChild) {\r\n        var nodes = [];\r\n        var i, len;\r\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\r\n          nodes.push(node.childNodes[i]);\r\n        }\r\n\r\n        for (i = 0, len = nodes.length; i < len; i++) {\r\n          parent.insertBefore(nodes[i], node);\r\n        }\r\n      }\r\n\r\n      parent.removeChild(node);\r\n    };\r\n\r\n    /**\r\n     * @method removeWhile\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred\r\n     */\r\n    var removeWhile = function (node, pred) {\r\n      while (node) {\r\n        if (isEditable(node) || !pred(node)) {\r\n          break;\r\n        }\r\n\r\n        var parent = node.parentNode;\r\n        remove(node);\r\n        node = parent;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method replace\r\n     *\r\n     * replace node with provided nodeName\r\n     *\r\n     * @param {Node} node\r\n     * @param {String} nodeName\r\n     * @return {Node} - new node\r\n     */\r\n    var replace = function (node, nodeName) {\r\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\r\n        return node;\r\n      }\r\n\r\n      var newNode = create(nodeName);\r\n\r\n      if (node.style.cssText) {\r\n        newNode.style.cssText = node.style.cssText;\r\n      }\r\n\r\n      appendChildNodes(newNode, list.from(node.childNodes));\r\n      insertAfter(newNode, node);\r\n      remove(node);\r\n\r\n      return newNode;\r\n    };\r\n\r\n    var isTextarea = makePredByNodeName('TEXTAREA');\r\n\r\n    /**\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [stripLinebreaks] - default: false\r\n     */\r\n    var value = function ($node, stripLinebreaks) {\r\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\r\n      if (stripLinebreaks) {\r\n        return val.replace(/[\\n\\r]/g, '');\r\n      }\r\n      return val;\r\n    };\r\n\r\n    /**\r\n     * @method html\r\n     *\r\n     * get the HTML contents of node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [isNewlineOnBlock]\r\n     */\r\n    var html = function ($node, isNewlineOnBlock) {\r\n      var markup = value($node);\r\n\r\n      if (isNewlineOnBlock) {\r\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\r\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\r\n          name = name.toUpperCase();\r\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\r\n                                       !!endSlash;\r\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\r\n\r\n          return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\r\n        });\r\n        markup = $.trim(markup);\r\n      }\r\n\r\n      return markup;\r\n    };\r\n\r\n    var posFromPlaceholder = function (placeholder) {\r\n      var $placeholder = $(placeholder);\r\n      var pos = $placeholder.offset();\r\n      var height = $placeholder.outerHeight(true); // include margin\r\n\r\n      return {\r\n        left: pos.left,\r\n        top: pos.top + height\r\n      };\r\n    };\r\n\r\n    var attachEvents = function ($node, events) {\r\n      Object.keys(events).forEach(function (key) {\r\n        $node.on(key, events[key]);\r\n      });\r\n    };\r\n\r\n    var detachEvents = function ($node, events) {\r\n      Object.keys(events).forEach(function (key) {\r\n        $node.off(key, events[key]);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * @method isCustomStyleTag\r\n     *\r\n     * assert if a node contains a \"note-styletag\" class,\r\n     * which implies that's a custom-made style tag node\r\n     *\r\n     * @param {Node} an HTML DOM node\r\n     */\r\n    var isCustomStyleTag = function (node) {\r\n      return node && !dom.isText(node) && list.contains(node.classList, 'note-styletag');\r\n    };\r\n\r\n    return {\r\n      /** @property {String} NBSP_CHAR */\r\n      NBSP_CHAR: NBSP_CHAR,\r\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\r\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\r\n      /** @property {String} blank */\r\n      blank: blankHTML,\r\n      /** @property {String} emptyPara */\r\n      emptyPara: '<p>' + blankHTML + '</p>',\r\n      makePredByNodeName: makePredByNodeName,\r\n      isEditable: isEditable,\r\n      isControlSizing: isControlSizing,\r\n      isText: isText,\r\n      isElement: isElement,\r\n      isVoid: isVoid,\r\n      isPara: isPara,\r\n      isPurePara: isPurePara,\r\n      isHeading: isHeading,\r\n      isInline: isInline,\r\n      isBlock: func.not(isInline),\r\n      isBodyInline: isBodyInline,\r\n      isBody: isBody,\r\n      isParaInline: isParaInline,\r\n      isPre: isPre,\r\n      isList: isList,\r\n      isTable: isTable,\r\n      isData: isData,\r\n      isCell: isCell,\r\n      isBlockquote: isBlockquote,\r\n      isBodyContainer: isBodyContainer,\r\n      isAnchor: isAnchor,\r\n      isDiv: makePredByNodeName('DIV'),\r\n      isLi: isLi,\r\n      isBR: makePredByNodeName('BR'),\r\n      isSpan: makePredByNodeName('SPAN'),\r\n      isB: makePredByNodeName('B'),\r\n      isU: makePredByNodeName('U'),\r\n      isS: makePredByNodeName('S'),\r\n      isI: makePredByNodeName('I'),\r\n      isImg: makePredByNodeName('IMG'),\r\n      isTextarea: isTextarea,\r\n      isEmpty: isEmpty,\r\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\r\n      isClosestSibling: isClosestSibling,\r\n      withClosestSiblings: withClosestSiblings,\r\n      nodeLength: nodeLength,\r\n      isLeftEdgePoint: isLeftEdgePoint,\r\n      isRightEdgePoint: isRightEdgePoint,\r\n      isEdgePoint: isEdgePoint,\r\n      isLeftEdgeOf: isLeftEdgeOf,\r\n      isRightEdgeOf: isRightEdgeOf,\r\n      isLeftEdgePointOf: isLeftEdgePointOf,\r\n      isRightEdgePointOf: isRightEdgePointOf,\r\n      prevPoint: prevPoint,\r\n      nextPoint: nextPoint,\r\n      isSamePoint: isSamePoint,\r\n      isVisiblePoint: isVisiblePoint,\r\n      prevPointUntil: prevPointUntil,\r\n      nextPointUntil: nextPointUntil,\r\n      isCharPoint: isCharPoint,\r\n      walkPoint: walkPoint,\r\n      ancestor: ancestor,\r\n      singleChildAncestor: singleChildAncestor,\r\n      listAncestor: listAncestor,\r\n      lastAncestor: lastAncestor,\r\n      listNext: listNext,\r\n      listPrev: listPrev,\r\n      listDescendant: listDescendant,\r\n      commonAncestor: commonAncestor,\r\n      wrap: wrap,\r\n      insertAfter: insertAfter,\r\n      appendChildNodes: appendChildNodes,\r\n      position: position,\r\n      hasChildren: hasChildren,\r\n      makeOffsetPath: makeOffsetPath,\r\n      fromOffsetPath: fromOffsetPath,\r\n      splitTree: splitTree,\r\n      splitPoint: splitPoint,\r\n      create: create,\r\n      createText: createText,\r\n      remove: remove,\r\n      removeWhile: removeWhile,\r\n      replace: replace,\r\n      html: html,\r\n      value: value,\r\n      posFromPlaceholder: posFromPlaceholder,\r\n      attachEvents: attachEvents,\r\n      detachEvents: detachEvents,\r\n      isCustomStyleTag: isCustomStyleTag\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @param {jQuery} $note\r\n   * @param {Object} options\r\n   * @return {Context}\r\n   */\r\n  var Context = function ($note, options) {\r\n    var self = this;\r\n\r\n    var ui = $.summernote.ui;\r\n    this.memos = {};\r\n    this.modules = {};\r\n    this.layoutInfo = {};\r\n    this.options = options;\r\n\r\n    /**\r\n     * create layout and initialize modules and other resources\r\n     */\r\n    this.initialize = function () {\r\n      this.layoutInfo = ui.createLayout($note, options);\r\n      this._initialize();\r\n      $note.hide();\r\n      return this;\r\n    };\r\n\r\n    /**\r\n     * destroy modules and other resources and remove layout\r\n     */\r\n    this.destroy = function () {\r\n      this._destroy();\r\n      $note.removeData('summernote');\r\n      ui.removeLayout($note, this.layoutInfo);\r\n    };\r\n\r\n    /**\r\n     * destory modules and other resources and initialize it again\r\n     */\r\n    this.reset = function () {\r\n      var disabled = self.isDisabled();\r\n      this.code(dom.emptyPara);\r\n      this._destroy();\r\n      this._initialize();\r\n\r\n      if (disabled) {\r\n        self.disable();\r\n      }\r\n    };\r\n\r\n    this._initialize = function () {\r\n      // add optional buttons\r\n      var buttons = $.extend({}, this.options.buttons);\r\n      Object.keys(buttons).forEach(function (key) {\r\n        self.memo('button.' + key, buttons[key]);\r\n      });\r\n\r\n      var modules = $.extend({}, this.options.modules, $.summernote.plugins || {});\r\n\r\n      // add and initialize modules\r\n      Object.keys(modules).forEach(function (key) {\r\n        self.module(key, modules[key], true);\r\n      });\r\n\r\n      Object.keys(this.modules).forEach(function (key) {\r\n        self.initializeModule(key);\r\n      });\r\n    };\r\n\r\n    this._destroy = function () {\r\n      // destroy modules with reversed order\r\n      Object.keys(this.modules).reverse().forEach(function (key) {\r\n        self.removeModule(key);\r\n      });\r\n\r\n      Object.keys(this.memos).forEach(function (key) {\r\n        self.removeMemo(key);\r\n      });\r\n      // trigger custom onDestroy callback\r\n      this.triggerEvent('destroy', this);\r\n    };\r\n\r\n    this.code = function (html) {\r\n      var isActivated = this.invoke('codeview.isActivated');\r\n\r\n      if (html === undefined) {\r\n        this.invoke('codeview.sync');\r\n        return isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\r\n      } else {\r\n        if (isActivated) {\r\n          this.layoutInfo.codable.val(html);\r\n        } else {\r\n          this.layoutInfo.editable.html(html);\r\n        }\r\n        $note.val(html);\r\n        this.triggerEvent('change', html);\r\n      }\r\n    };\r\n\r\n    this.isDisabled = function () {\r\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\r\n    };\r\n\r\n    this.enable = function () {\r\n      this.layoutInfo.editable.attr('contenteditable', true);\r\n      this.invoke('toolbar.activate', true);\r\n      this.triggerEvent('disable', false);\r\n    };\r\n\r\n    this.disable = function () {\r\n      // close codeview if codeview is opend\r\n      if (this.invoke('codeview.isActivated')) {\r\n        this.invoke('codeview.deactivate');\r\n      }\r\n      this.layoutInfo.editable.attr('contenteditable', false);\r\n      this.invoke('toolbar.deactivate', true);\r\n\r\n      this.triggerEvent('disable', true);\r\n    };\r\n\r\n    this.triggerEvent = function () {\r\n      var namespace = list.head(arguments);\r\n      var args = list.tail(list.from(arguments));\r\n\r\n      var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\r\n      if (callback) {\r\n        callback.apply($note[0], args);\r\n      }\r\n      $note.trigger('summernote.' + namespace, args);\r\n    };\r\n\r\n    this.initializeModule = function (key) {\r\n      var module = this.modules[key];\r\n      module.shouldInitialize = module.shouldInitialize || func.ok;\r\n      if (!module.shouldInitialize()) {\r\n        return;\r\n      }\r\n\r\n      // initialize module\r\n      if (module.initialize) {\r\n        module.initialize();\r\n      }\r\n\r\n      // attach events\r\n      if (module.events) {\r\n        dom.attachEvents($note, module.events);\r\n      }\r\n    };\r\n\r\n    this.module = function (key, ModuleClass, withoutIntialize) {\r\n      if (arguments.length === 1) {\r\n        return this.modules[key];\r\n      }\r\n\r\n      this.modules[key] = new ModuleClass(this);\r\n\r\n      if (!withoutIntialize) {\r\n        this.initializeModule(key);\r\n      }\r\n    };\r\n\r\n    this.removeModule = function (key) {\r\n      var module = this.modules[key];\r\n      if (module.shouldInitialize()) {\r\n        if (module.events) {\r\n          dom.detachEvents($note, module.events);\r\n        }\r\n\r\n        if (module.destroy) {\r\n          module.destroy();\r\n        }\r\n      }\r\n\r\n      delete this.modules[key];\r\n    };\r\n\r\n    this.memo = function (key, obj) {\r\n      if (arguments.length === 1) {\r\n        return this.memos[key];\r\n      }\r\n      this.memos[key] = obj;\r\n    };\r\n\r\n    this.removeMemo = function (key) {\r\n      if (this.memos[key] && this.memos[key].destroy) {\r\n        this.memos[key].destroy();\r\n      }\r\n\r\n      delete this.memos[key];\r\n    };\r\n\r\n    /**\r\n     *Some buttons need to change their visual style immediately once they get pressed\r\n     */\r\n    this.createInvokeHandlerAndUpdateState = function (namespace, value) {\r\n      return function (event) {\r\n        self.createInvokeHandler(namespace, value)(event);\r\n        self.invoke('buttons.updateCurrentStyle');\r\n      };\r\n    };\r\n\r\n    this.createInvokeHandler = function (namespace, value) {\r\n      return function (event) {\r\n        event.preventDefault();\r\n        var $target = $(event.target);\r\n        self.invoke(namespace, value || $target.closest('[data-value]').data('value'), $target);\r\n      };\r\n    };\r\n\r\n    this.invoke = function () {\r\n      var namespace = list.head(arguments);\r\n      var args = list.tail(list.from(arguments));\r\n\r\n      var splits = namespace.split('.');\r\n      var hasSeparator = splits.length > 1;\r\n      var moduleName = hasSeparator && list.head(splits);\r\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\r\n\r\n      var module = this.modules[moduleName || 'editor'];\r\n      if (!moduleName && this[methodName]) {\r\n        return this[methodName].apply(this, args);\r\n      } else if (module && module[methodName] && module.shouldInitialize()) {\r\n        return module[methodName].apply(module, args);\r\n      }\r\n    };\r\n\r\n    return this.initialize();\r\n  };\r\n\r\n  $.fn.extend({\r\n    /**\r\n     * Summernote API\r\n     *\r\n     * @param {Object|String}\r\n     * @return {this}\r\n     */\r\n    summernote: function () {\r\n      var type = $.type(list.head(arguments));\r\n      var isExternalAPICalled = type === 'string';\r\n      var hasInitOptions = type === 'object';\r\n\r\n      var options = hasInitOptions ? list.head(arguments) : {};\r\n\r\n      options = $.extend({}, $.summernote.options, options);\r\n\r\n      // Update options\r\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\r\n      options.icons = $.extend(true, {}, $.summernote.options.icons, options.icons);\r\n      options.tooltip = options.tooltip === 'auto' ? !agent.isSupportTouch : options.tooltip;\r\n\r\n      this.each(function (idx, note) {\r\n        var $note = $(note);\r\n        if (!$note.data('summernote')) {\r\n          var context = new Context($note, options);\r\n          $note.data('summernote', context);\r\n          $note.data('summernote').triggerEvent('init', context.layoutInfo);\r\n        }\r\n      });\r\n\r\n      var $note = this.first();\r\n      if ($note.length) {\r\n        var context = $note.data('summernote');\r\n        if (isExternalAPICalled) {\r\n          return context.invoke.apply(context, list.from(arguments));\r\n        } else if (options.focus) {\r\n          context.invoke('editor.focus');\r\n        }\r\n      }\r\n\r\n      return this;\r\n    }\r\n  });\r\n\r\n\r\n  var Renderer = function (markup, children, options, callback) {\r\n    this.render = function ($parent) {\r\n      var $node = $(markup);\r\n\r\n      if (options && options.contents) {\r\n        $node.html(options.contents);\r\n      }\r\n\r\n      if (options && options.className) {\r\n        $node.addClass(options.className);\r\n      }\r\n\r\n      if (options && options.data) {\r\n        $.each(options.data, function (k, v) {\r\n          $node.attr('data-' + k, v);\r\n        });\r\n      }\r\n\r\n      if (options && options.click) {\r\n        $node.on('click', options.click);\r\n      }\r\n\r\n      if (children) {\r\n        var $container = $node.find('.note-children-container');\r\n        children.forEach(function (child) {\r\n          child.render($container.length ? $container : $node);\r\n        });\r\n      }\r\n\r\n      if (callback) {\r\n        callback($node, options);\r\n      }\r\n\r\n      if (options && options.callback) {\r\n        options.callback($node);\r\n      }\r\n\r\n      if ($parent) {\r\n        $parent.append($node);\r\n      }\r\n\r\n      return $node;\r\n    };\r\n  };\r\n\r\n  var renderer = {\r\n    create: function (markup, callback) {\r\n      return function () {\r\n        var children = $.isArray(arguments[0]) ? arguments[0] : [];\r\n        var options = typeof arguments[1] === 'object' ? arguments[1] : arguments[0];\r\n        if (options && options.children) {\r\n          children = options.children;\r\n        }\r\n        return new Renderer(markup, children, options, callback);\r\n      };\r\n    }\r\n  };\r\n\r\n  var editor = renderer.create('<div class=\"note-editor note-frame panel panel-default\"/>');\r\n  var toolbar = renderer.create('<div class=\"note-toolbar panel-heading\"/>');\r\n  var editingArea = renderer.create('<div class=\"note-editing-area\"/>');\r\n  var codable = renderer.create('<textarea class=\"note-codable\"/>');\r\n  var editable = renderer.create('<div class=\"note-editable panel-body\" contentEditable=\"true\"/>');\r\n  var statusbar = renderer.create([\r\n    '<div class=\"note-statusbar\">',\r\n    '  <div class=\"note-resizebar\">',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '  </div>',\r\n    '</div>'\r\n  ].join(''));\r\n\r\n  var airEditor = renderer.create('<div class=\"note-editor\"/>');\r\n  var airEditable = renderer.create('<div class=\"note-editable\" contentEditable=\"true\"/>');\r\n\r\n  var buttonGroup = renderer.create('<div class=\"note-btn-group btn-group\">');\r\n\r\n  var dropdown = renderer.create('<div class=\"dropdown-menu\">', function ($node, options) {\r\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\r\n      var value = (typeof item === 'string') ? item : (item.value || '');\r\n      var content = options.template ? options.template(item) : item;\r\n      var option = (typeof item === 'object') ? item.option : undefined;\r\n\r\n      var dataValue = 'data-value=\"' + value + '\"';\r\n      var dataOption = (option !== undefined) ? ' data-option=\"' + option + '\"' : '';\r\n      return '<li><a href=\"#\" ' + (dataValue + dataOption) + '>' + content + '</a></li>';\r\n    }).join('') : options.items;\r\n\r\n    $node.html(markup);\r\n  });\r\n\r\n  var dropdownButtonContents = function (contents, options) {\r\n    return contents + ' ' + icon(options.icons.caret, 'span');\r\n  };\r\n\r\n  var dropdownCheck = renderer.create('<div class=\"dropdown-menu note-check\">', function ($node, options) {\r\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\r\n      var value = (typeof item === 'string') ? item : (item.value || '');\r\n      var content = options.template ? options.template(item) : item;\r\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\r\n    }).join('') : options.items;\r\n    $node.html(markup);\r\n  });\r\n\r\n  var palette = renderer.create('<div class=\"note-color-palette\"/>', function ($node, options) {\r\n    var contents = [];\r\n    for (var row = 0, rowSize = options.colors.length; row < rowSize; row++) {\r\n      var eventName = options.eventName;\r\n      var colors = options.colors[row];\r\n      var buttons = [];\r\n      for (var col = 0, colSize = colors.length; col < colSize; col++) {\r\n        var color = colors[col];\r\n        buttons.push([\r\n          '<button type=\"button\" class=\"note-color-btn\"',\r\n          'style=\"background-color:', color, '\" ',\r\n          'data-event=\"', eventName, '\" ',\r\n          'data-value=\"', color, '\" ',\r\n          'title=\"', color, '\" ',\r\n          'data-toggle=\"button\" tabindex=\"-1\"></button>'\r\n        ].join(''));\r\n      }\r\n      contents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\r\n    }\r\n    $node.html(contents.join(''));\r\n\r\n    if (options.tooltip) {\r\n      $node.find('.note-color-btn').tooltip({\r\n        container: 'body',\r\n        trigger: 'hover',\r\n        placement: 'bottom'\r\n      });\r\n    }\r\n  });\r\n\r\n  var dialog = renderer.create('<div class=\"modal\" aria-hidden=\"false\" tabindex=\"-1\"/>', function ($node, options) {\r\n    if (options.fade) {\r\n      $node.addClass('fade');\r\n    }\r\n    $node.html([\r\n      '<div class=\"modal-dialog\">',\r\n      '  <div class=\"modal-content\">',\r\n      (options.title ?\r\n      '    <div class=\"modal-header\">' +\r\n      '      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\r\n      '      <h4 class=\"modal-title\">' + options.title + '</h4>' +\r\n      '    </div>' : ''\r\n      ),\r\n      '    <div class=\"modal-body\">' + options.body + '</div>',\r\n      (options.footer ?\r\n      '    <div class=\"modal-footer\">' + options.footer + '</div>' : ''\r\n      ),\r\n      '  </div>',\r\n      '</div>'\r\n    ].join(''));\r\n  });\r\n\r\n  var popover = renderer.create([\r\n    '<div class=\"note-popover popover in\">',\r\n    '  <div class=\"arrow\"/>',\r\n    '  <div class=\"popover-content note-children-container\"/>',\r\n    '</div>'\r\n  ].join(''), function ($node, options) {\r\n    var direction = typeof options.direction !== 'undefined' ? options.direction : 'bottom';\r\n\r\n    $node.addClass(direction);\r\n\r\n    if (options.hideArrow) {\r\n      $node.find('.arrow').hide();\r\n    }\r\n  });\r\n\r\n  var checkbox = renderer.create('<div class=\"checkbox\"></div>', function ($node, options) {\r\n      $node.html([\r\n          ' <label' + (options.id ? ' for=\"' + options.id + '\"' : '') + '>',\r\n          ' <input type=\"checkbox\"' + (options.id ? ' id=\"' + options.id + '\"' : ''),\r\n          (options.checked ? ' checked' : '') + '/>',\r\n          (options.text ? options.text : ''),\r\n          '</label>'\r\n      ].join(''));\r\n  });\r\n\r\n  var icon = function (iconClassName, tagName) {\r\n    tagName = tagName || 'i';\r\n    return '<' + tagName + ' class=\"' + iconClassName + '\"/>';\r\n  };\r\n\r\n  var ui = {\r\n    editor: editor,\r\n    toolbar: toolbar,\r\n    editingArea: editingArea,\r\n    codable: codable,\r\n    editable: editable,\r\n    statusbar: statusbar,\r\n    airEditor: airEditor,\r\n    airEditable: airEditable,\r\n    buttonGroup: buttonGroup,\r\n    dropdown: dropdown,\r\n    dropdownButtonContents: dropdownButtonContents,\r\n    dropdownCheck: dropdownCheck,\r\n    palette: palette,\r\n    dialog: dialog,\r\n    popover: popover,\r\n    checkbox: checkbox,\r\n    icon: icon,\r\n    options: {},\r\n\r\n    button: function ($node, options) {\r\n      return renderer.create('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" tabindex=\"-1\">', function ($node, options) {\r\n        if (options && options.tooltip && self.options.tooltip) {\r\n          $node.attr({\r\n            title: options.tooltip\r\n          }).tooltip({\r\n            container: 'body',\r\n            trigger: 'hover',\r\n            placement: 'bottom'\r\n          });\r\n        }\r\n      })($node, options);\r\n    },\r\n\r\n    toggleBtn: function ($btn, isEnable) {\r\n      $btn.toggleClass('disabled', !isEnable);\r\n      $btn.attr('disabled', !isEnable);\r\n    },\r\n\r\n    toggleBtnActive: function ($btn, isActive) {\r\n      $btn.toggleClass('active', isActive);\r\n    },\r\n\r\n    onDialogShown: function ($dialog, handler) {\r\n      $dialog.one('shown.bs.modal', handler);\r\n    },\r\n\r\n    onDialogHidden: function ($dialog, handler) {\r\n      $dialog.one('hidden.bs.modal', handler);\r\n    },\r\n\r\n    showDialog: function ($dialog) {\r\n      $dialog.modal('show');\r\n    },\r\n\r\n    hideDialog: function ($dialog) {\r\n      $dialog.modal('hide');\r\n    },\r\n\r\n    createLayout: function ($note, options) {\r\n      self.options = options;\r\n      var $editor = (options.airMode ? ui.airEditor([\r\n        ui.editingArea([\r\n          ui.airEditable()\r\n        ])\r\n      ]) : ui.editor([\r\n        ui.toolbar(),\r\n        ui.editingArea([\r\n          ui.codable(),\r\n          ui.editable()\r\n        ]),\r\n        ui.statusbar()\r\n      ])).render();\r\n\r\n      $editor.insertAfter($note);\r\n\r\n      return {\r\n        note: $note,\r\n        editor: $editor,\r\n        toolbar: $editor.find('.note-toolbar'),\r\n        editingArea: $editor.find('.note-editing-area'),\r\n        editable: $editor.find('.note-editable'),\r\n        codable: $editor.find('.note-codable'),\r\n        statusbar: $editor.find('.note-statusbar')\r\n      };\r\n    },\r\n\r\n    removeLayout: function ($note, layoutInfo) {\r\n      $note.html(layoutInfo.editable.html());\r\n      layoutInfo.editor.remove();\r\n      $note.show();\r\n    }\r\n  };\r\n\r\n  $.summernote = $.summernote || {\r\n    lang: {}\r\n  };\r\n\r\n  $.extend($.summernote.lang, {\r\n    'en-US': {\r\n      font: {\r\n        bold: 'Bold',\r\n        italic: 'Italic',\r\n        underline: 'Underline',\r\n        clear: 'Remove Font Style',\r\n        height: 'Line Height',\r\n        name: 'Font Family',\r\n        strikethrough: 'Strikethrough',\r\n        subscript: 'Subscript',\r\n        superscript: 'Superscript',\r\n        size: 'Font Size'\r\n      },\r\n      image: {\r\n        image: 'Picture',\r\n        insert: 'Insert Image',\r\n        resizeFull: 'Resize Full',\r\n        resizeHalf: 'Resize Half',\r\n        resizeQuarter: 'Resize Quarter',\r\n        floatLeft: 'Float Left',\r\n        floatRight: 'Float Right',\r\n        floatNone: 'Float None',\r\n        shapeRounded: 'Shape: Rounded',\r\n        shapeCircle: 'Shape: Circle',\r\n        shapeThumbnail: 'Shape: Thumbnail',\r\n        shapeNone: 'Shape: None',\r\n        dragImageHere: 'Drag image or text here',\r\n        dropImage: 'Drop image or Text',\r\n        selectFromFiles: 'Select from files',\r\n        maximumFileSize: 'Maximum file size',\r\n        maximumFileSizeError: 'Maximum file size exceeded.',\r\n        url: 'Image URL',\r\n        remove: 'Remove Image'\r\n      },\r\n      video: {\r\n        video: 'Video',\r\n        videoLink: 'Video Link',\r\n        insert: 'Insert Video',\r\n        url: 'Video URL?',\r\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\r\n      },\r\n      link: {\r\n        link: 'Link',\r\n        insert: 'Insert Link',\r\n        unlink: 'Unlink',\r\n        edit: 'Edit',\r\n        textToDisplay: 'Text to display',\r\n        url: 'To what URL should this link go?',\r\n        openInNewWindow: 'Open in new window'\r\n      },\r\n      table: {\r\n        table: 'Table',\r\n        addRowAbove: 'Add row above',\r\n        addRowBelow: 'Add row below',\r\n        addColLeft: 'Add column left',\r\n        addColRight: 'Add column right',\r\n        delRow: 'Delete row',\r\n        delCol: 'Delete column',\r\n        delTable: 'Delete table'\r\n      },\r\n      hr: {\r\n        insert: 'Insert Horizontal Rule'\r\n      },\r\n      style: {\r\n        style: 'Style',\r\n        p: 'Normal',\r\n        blockquote: 'Quote',\r\n        pre: 'Code',\r\n        h1: 'Header 1',\r\n        h2: 'Header 2',\r\n        h3: 'Header 3',\r\n        h4: 'Header 4',\r\n        h5: 'Header 5',\r\n        h6: 'Header 6'\r\n      },\r\n      lists: {\r\n        unordered: 'Unordered list',\r\n        ordered: 'Ordered list'\r\n      },\r\n      options: {\r\n        help: 'Help',\r\n        fullscreen: 'Full Screen',\r\n        codeview: 'Code View'\r\n      },\r\n      paragraph: {\r\n        paragraph: 'Paragraph',\r\n        outdent: 'Outdent',\r\n        indent: 'Indent',\r\n        left: 'Align left',\r\n        center: 'Align center',\r\n        right: 'Align right',\r\n        justify: 'Justify full'\r\n      },\r\n      color: {\r\n        recent: 'Recent Color',\r\n        more: 'More Color',\r\n        background: 'Background Color',\r\n        foreground: 'Foreground Color',\r\n        transparent: 'Transparent',\r\n        setTransparent: 'Set transparent',\r\n        reset: 'Reset',\r\n        resetToDefault: 'Reset to default'\r\n      },\r\n      shortcut: {\r\n        shortcuts: 'Keyboard shortcuts',\r\n        close: 'Close',\r\n        textFormatting: 'Text formatting',\r\n        action: 'Action',\r\n        paragraphFormatting: 'Paragraph formatting',\r\n        documentStyle: 'Document Style',\r\n        extraKeys: 'Extra keys'\r\n      },\r\n      help: {\r\n        'insertParagraph': 'Insert Paragraph',\r\n        'undo': 'Undoes the last command',\r\n        'redo': 'Redoes the last command',\r\n        'tab': 'Tab',\r\n        'untab': 'Untab',\r\n        'bold': 'Set a bold style',\r\n        'italic': 'Set a italic style',\r\n        'underline': 'Set a underline style',\r\n        'strikethrough': 'Set a strikethrough style',\r\n        'removeFormat': 'Clean a style',\r\n        'justifyLeft': 'Set left align',\r\n        'justifyCenter': 'Set center align',\r\n        'justifyRight': 'Set right align',\r\n        'justifyFull': 'Set full align',\r\n        'insertUnorderedList': 'Toggle unordered list',\r\n        'insertOrderedList': 'Toggle ordered list',\r\n        'outdent': 'Outdent on current paragraph',\r\n        'indent': 'Indent on current paragraph',\r\n        'formatPara': 'Change current block\\'s format as a paragraph(P tag)',\r\n        'formatH1': 'Change current block\\'s format as H1',\r\n        'formatH2': 'Change current block\\'s format as H2',\r\n        'formatH3': 'Change current block\\'s format as H3',\r\n        'formatH4': 'Change current block\\'s format as H4',\r\n        'formatH5': 'Change current block\\'s format as H5',\r\n        'formatH6': 'Change current block\\'s format as H6',\r\n        'insertHorizontalRule': 'Insert horizontal rule',\r\n        'linkDialog.show': 'Show Link Dialog'\r\n      },\r\n      history: {\r\n        undo: 'Undo',\r\n        redo: 'Redo'\r\n      },\r\n      specialChar: {\r\n        specialChar: 'SPECIAL CHARACTERS',\r\n        select: 'Select Special characters'\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  /**\r\n   * @class core.key\r\n   *\r\n   * Object for keycodes.\r\n   *\r\n   * @singleton\r\n   * @alternateClassName key\r\n   */\r\n  var key = (function () {\r\n    var keyMap = {\r\n      'BACKSPACE': 8,\r\n      'TAB': 9,\r\n      'ENTER': 13,\r\n      'SPACE': 32,\r\n      'DELETE': 46,\r\n\r\n      // Arrow\r\n      'LEFT': 37,\r\n      'UP': 38,\r\n      'RIGHT': 39,\r\n      'DOWN': 40,\r\n\r\n      // Number: 0-9\r\n      'NUM0': 48,\r\n      'NUM1': 49,\r\n      'NUM2': 50,\r\n      'NUM3': 51,\r\n      'NUM4': 52,\r\n      'NUM5': 53,\r\n      'NUM6': 54,\r\n      'NUM7': 55,\r\n      'NUM8': 56,\r\n\r\n      // Alphabet: a-z\r\n      'B': 66,\r\n      'E': 69,\r\n      'I': 73,\r\n      'J': 74,\r\n      'K': 75,\r\n      'L': 76,\r\n      'R': 82,\r\n      'S': 83,\r\n      'U': 85,\r\n      'V': 86,\r\n      'Y': 89,\r\n      'Z': 90,\r\n\r\n      'SLASH': 191,\r\n      'LEFTBRACKET': 219,\r\n      'BACKSLASH': 220,\r\n      'RIGHTBRACKET': 221\r\n    };\r\n\r\n    return {\r\n      /**\r\n       * @method isEdit\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\r\n      isEdit: function (keyCode) {\r\n        return list.contains([\r\n          keyMap.BACKSPACE,\r\n          keyMap.TAB,\r\n          keyMap.ENTER,\r\n          keyMap.SPACE,\r\n          keyMap.DELETE\r\n        ], keyCode);\r\n      },\r\n      /**\r\n       * @method isMove\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\r\n      isMove: function (keyCode) {\r\n        return list.contains([\r\n          keyMap.LEFT,\r\n          keyMap.UP,\r\n          keyMap.RIGHT,\r\n          keyMap.DOWN\r\n        ], keyCode);\r\n      },\r\n      /**\r\n       * @property {Object} nameFromCode\r\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\r\n       */\r\n      nameFromCode: func.invertObject(keyMap),\r\n      code: keyMap\r\n    };\r\n  })();\r\n\r\n  var range = (function () {\r\n\r\n    /**\r\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\r\n     *\r\n     * @param {TextRange} textRange\r\n     * @param {Boolean} isStart\r\n     * @return {BoundaryPoint}\r\n     *\r\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\r\n     */\r\n    var textRangeToPoint = function (textRange, isStart) {\r\n      var container = textRange.parentElement(), offset;\r\n  \r\n      var tester = document.body.createTextRange(), prevContainer;\r\n      var childNodes = list.from(container.childNodes);\r\n      for (offset = 0; offset < childNodes.length; offset++) {\r\n        if (dom.isText(childNodes[offset])) {\r\n          continue;\r\n        }\r\n        tester.moveToElementText(childNodes[offset]);\r\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\r\n          break;\r\n        }\r\n        prevContainer = childNodes[offset];\r\n      }\r\n  \r\n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\r\n        var textRangeStart = document.body.createTextRange(), curTextNode = null;\r\n        textRangeStart.moveToElementText(prevContainer || container);\r\n        textRangeStart.collapse(!prevContainer);\r\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\r\n  \r\n        var pointTester = textRange.duplicate();\r\n        pointTester.setEndPoint('StartToStart', textRangeStart);\r\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\r\n  \r\n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\r\n          textCount -= curTextNode.nodeValue.length;\r\n          curTextNode = curTextNode.nextSibling;\r\n        }\r\n  \r\n        /* jshint ignore:start */\r\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\r\n        /* jshint ignore:end */\r\n  \r\n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\r\n            textCount === curTextNode.nodeValue.length) {\r\n          textCount -= curTextNode.nodeValue.length;\r\n          curTextNode = curTextNode.nextSibling;\r\n        }\r\n  \r\n        container = curTextNode;\r\n        offset = textCount;\r\n      }\r\n  \r\n      return {\r\n        cont: container,\r\n        offset: offset\r\n      };\r\n    };\r\n    \r\n    /**\r\n     * return TextRange from boundary point (inspired by google closure-library)\r\n     * @param {BoundaryPoint} point\r\n     * @return {TextRange}\r\n     */\r\n    var pointToTextRange = function (point) {\r\n      var textRangeInfo = function (container, offset) {\r\n        var node, isCollapseToStart;\r\n  \r\n        if (dom.isText(container)) {\r\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\r\n          var prevContainer = list.last(prevTextNodes).previousSibling;\r\n          node =  prevContainer || container.parentNode;\r\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\r\n          isCollapseToStart = !prevContainer;\r\n        } else {\r\n          node = container.childNodes[offset] || container;\r\n          if (dom.isText(node)) {\r\n            return textRangeInfo(node, 0);\r\n          }\r\n  \r\n          offset = 0;\r\n          isCollapseToStart = false;\r\n        }\r\n  \r\n        return {\r\n          node: node,\r\n          collapseToStart: isCollapseToStart,\r\n          offset: offset\r\n        };\r\n      };\r\n  \r\n      var textRange = document.body.createTextRange();\r\n      var info = textRangeInfo(point.node, point.offset);\r\n  \r\n      textRange.moveToElementText(info.node);\r\n      textRange.collapse(info.collapseToStart);\r\n      textRange.moveStart('character', info.offset);\r\n      return textRange;\r\n    };\r\n    \r\n    /**\r\n     * Wrapped Range\r\n     *\r\n     * @constructor\r\n     * @param {Node} sc - start container\r\n     * @param {Number} so - start offset\r\n     * @param {Node} ec - end container\r\n     * @param {Number} eo - end offset\r\n     */\r\n    var WrappedRange = function (sc, so, ec, eo) {\r\n      this.sc = sc;\r\n      this.so = so;\r\n      this.ec = ec;\r\n      this.eo = eo;\r\n  \r\n      // nativeRange: get nativeRange from sc, so, ec, eo\r\n      var nativeRange = function () {\r\n        if (agent.isW3CRangeSupport) {\r\n          var w3cRange = document.createRange();\r\n          w3cRange.setStart(sc, so);\r\n          w3cRange.setEnd(ec, eo);\r\n\r\n          return w3cRange;\r\n        } else {\r\n          var textRange = pointToTextRange({\r\n            node: sc,\r\n            offset: so\r\n          });\r\n\r\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\r\n            node: ec,\r\n            offset: eo\r\n          }));\r\n\r\n          return textRange;\r\n        }\r\n      };\r\n\r\n      this.getPoints = function () {\r\n        return {\r\n          sc: sc,\r\n          so: so,\r\n          ec: ec,\r\n          eo: eo\r\n        };\r\n      };\r\n\r\n      this.getStartPoint = function () {\r\n        return {\r\n          node: sc,\r\n          offset: so\r\n        };\r\n      };\r\n\r\n      this.getEndPoint = function () {\r\n        return {\r\n          node: ec,\r\n          offset: eo\r\n        };\r\n      };\r\n\r\n      /**\r\n       * select update visible range\r\n       */\r\n      this.select = function () {\r\n        var nativeRng = nativeRange();\r\n        if (agent.isW3CRangeSupport) {\r\n          var selection = document.getSelection();\r\n          if (selection.rangeCount > 0) {\r\n            selection.removeAllRanges();\r\n          }\r\n          selection.addRange(nativeRng);\r\n        } else {\r\n          nativeRng.select();\r\n        }\r\n        \r\n        return this;\r\n      };\r\n\r\n      /**\r\n       * Moves the scrollbar to start container(sc) of current range\r\n       *\r\n       * @return {WrappedRange}\r\n       */\r\n      this.scrollIntoView = function (container) {\r\n        var height = $(container).height();\r\n        if (container.scrollTop + height < this.sc.offsetTop) {\r\n          container.scrollTop += Math.abs(container.scrollTop + height - this.sc.offsetTop);\r\n        }\r\n\r\n        return this;\r\n      };\r\n\r\n      /**\r\n       * @return {WrappedRange}\r\n       */\r\n      this.normalize = function () {\r\n\r\n        /**\r\n         * @param {BoundaryPoint} point\r\n         * @param {Boolean} isLeftToRight\r\n         * @return {BoundaryPoint}\r\n         */\r\n        var getVisiblePoint = function (point, isLeftToRight) {\r\n          if ((dom.isVisiblePoint(point) && !dom.isEdgePoint(point)) ||\r\n              (dom.isVisiblePoint(point) && dom.isRightEdgePoint(point) && !isLeftToRight) ||\r\n              (dom.isVisiblePoint(point) && dom.isLeftEdgePoint(point) && isLeftToRight) ||\r\n              (dom.isVisiblePoint(point) && dom.isBlock(point.node) && dom.isEmpty(point.node))) {\r\n            return point;\r\n          }\r\n\r\n          // point on block's edge\r\n          var block = dom.ancestor(point.node, dom.isBlock);\r\n          if (((dom.isLeftEdgePointOf(point, block) || dom.isVoid(dom.prevPoint(point).node)) && !isLeftToRight) ||\r\n              ((dom.isRightEdgePointOf(point, block) || dom.isVoid(dom.nextPoint(point).node)) && isLeftToRight)) {\r\n\r\n            // returns point already on visible point\r\n            if (dom.isVisiblePoint(point)) {\r\n              return point;\r\n            }\r\n            // reverse direction \r\n            isLeftToRight = !isLeftToRight;\r\n          }\r\n\r\n          var nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint) :\r\n                                          dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\r\n          return nextPoint || point;\r\n        };\r\n\r\n        var endPoint = getVisiblePoint(this.getEndPoint(), false);\r\n        var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(), true);\r\n\r\n        return new WrappedRange(\r\n          startPoint.node,\r\n          startPoint.offset,\r\n          endPoint.node,\r\n          endPoint.offset\r\n        );\r\n      };\r\n\r\n      /**\r\n       * returns matched nodes on range\r\n       *\r\n       * @param {Function} [pred] - predicate function\r\n       * @param {Object} [options]\r\n       * @param {Boolean} [options.includeAncestor]\r\n       * @param {Boolean} [options.fullyContains]\r\n       * @return {Node[]}\r\n       */\r\n      this.nodes = function (pred, options) {\r\n        pred = pred || func.ok;\r\n\r\n        var includeAncestor = options && options.includeAncestor;\r\n        var fullyContains = options && options.fullyContains;\r\n\r\n        // TODO compare points and sort\r\n        var startPoint = this.getStartPoint();\r\n        var endPoint = this.getEndPoint();\r\n\r\n        var nodes = [];\r\n        var leftEdgeNodes = [];\r\n\r\n        dom.walkPoint(startPoint, endPoint, function (point) {\r\n          if (dom.isEditable(point.node)) {\r\n            return;\r\n          }\r\n\r\n          var node;\r\n          if (fullyContains) {\r\n            if (dom.isLeftEdgePoint(point)) {\r\n              leftEdgeNodes.push(point.node);\r\n            }\r\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\r\n              node = point.node;\r\n            }\r\n          } else if (includeAncestor) {\r\n            node = dom.ancestor(point.node, pred);\r\n          } else {\r\n            node = point.node;\r\n          }\r\n\r\n          if (node && pred(node)) {\r\n            nodes.push(node);\r\n          }\r\n        }, true);\r\n\r\n        return list.unique(nodes);\r\n      };\r\n\r\n      /**\r\n       * returns commonAncestor of range\r\n       * @return {Element} - commonAncestor\r\n       */\r\n      this.commonAncestor = function () {\r\n        return dom.commonAncestor(sc, ec);\r\n      };\r\n\r\n      /**\r\n       * returns expanded range by pred\r\n       *\r\n       * @param {Function} pred - predicate function\r\n       * @return {WrappedRange}\r\n       */\r\n      this.expand = function (pred) {\r\n        var startAncestor = dom.ancestor(sc, pred);\r\n        var endAncestor = dom.ancestor(ec, pred);\r\n\r\n        if (!startAncestor && !endAncestor) {\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        }\r\n\r\n        var boundaryPoints = this.getPoints();\r\n\r\n        if (startAncestor) {\r\n          boundaryPoints.sc = startAncestor;\r\n          boundaryPoints.so = 0;\r\n        }\r\n\r\n        if (endAncestor) {\r\n          boundaryPoints.ec = endAncestor;\r\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\r\n        }\r\n\r\n        return new WrappedRange(\r\n          boundaryPoints.sc,\r\n          boundaryPoints.so,\r\n          boundaryPoints.ec,\r\n          boundaryPoints.eo\r\n        );\r\n      };\r\n\r\n      /**\r\n       * @param {Boolean} isCollapseToStart\r\n       * @return {WrappedRange}\r\n       */\r\n      this.collapse = function (isCollapseToStart) {\r\n        if (isCollapseToStart) {\r\n          return new WrappedRange(sc, so, sc, so);\r\n        } else {\r\n          return new WrappedRange(ec, eo, ec, eo);\r\n        }\r\n      };\r\n\r\n      /**\r\n       * splitText on range\r\n       */\r\n      this.splitText = function () {\r\n        var isSameContainer = sc === ec;\r\n        var boundaryPoints = this.getPoints();\r\n\r\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\r\n          ec.splitText(eo);\r\n        }\r\n\r\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\r\n          boundaryPoints.sc = sc.splitText(so);\r\n          boundaryPoints.so = 0;\r\n\r\n          if (isSameContainer) {\r\n            boundaryPoints.ec = boundaryPoints.sc;\r\n            boundaryPoints.eo = eo - so;\r\n          }\r\n        }\r\n\r\n        return new WrappedRange(\r\n          boundaryPoints.sc,\r\n          boundaryPoints.so,\r\n          boundaryPoints.ec,\r\n          boundaryPoints.eo\r\n        );\r\n      };\r\n\r\n      /**\r\n       * delete contents on range\r\n       * @return {WrappedRange}\r\n       */\r\n      this.deleteContents = function () {\r\n        if (this.isCollapsed()) {\r\n          return this;\r\n        }\r\n\r\n        var rng = this.splitText();\r\n        var nodes = rng.nodes(null, {\r\n          fullyContains: true\r\n        });\r\n\r\n        // find new cursor point\r\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\r\n          return !list.contains(nodes, point.node);\r\n        });\r\n\r\n        var emptyParents = [];\r\n        $.each(nodes, function (idx, node) {\r\n          // find empty parents\r\n          var parent = node.parentNode;\r\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\r\n            emptyParents.push(parent);\r\n          }\r\n          dom.remove(node, false);\r\n        });\r\n\r\n        // remove empty parents\r\n        $.each(emptyParents, function (idx, node) {\r\n          dom.remove(node, false);\r\n        });\r\n\r\n        return new WrappedRange(\r\n          point.node,\r\n          point.offset,\r\n          point.node,\r\n          point.offset\r\n        ).normalize();\r\n      };\r\n      \r\n      /**\r\n       * makeIsOn: return isOn(pred) function\r\n       */\r\n      var makeIsOn = function (pred) {\r\n        return function () {\r\n          var ancestor = dom.ancestor(sc, pred);\r\n          return !!ancestor && (ancestor === dom.ancestor(ec, pred));\r\n        };\r\n      };\r\n  \r\n      // isOnEditable: judge whether range is on editable or not\r\n      this.isOnEditable = makeIsOn(dom.isEditable);\r\n      // isOnList: judge whether range is on list node or not\r\n      this.isOnList = makeIsOn(dom.isList);\r\n      // isOnAnchor: judge whether range is on anchor node or not\r\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\r\n      // isOnCell: judge whether range is on cell node or not\r\n      this.isOnCell = makeIsOn(dom.isCell);\r\n      // isOnData: judge whether range is on data node or not\r\n      this.isOnData = makeIsOn(dom.isData);\r\n\r\n      /**\r\n       * @param {Function} pred\r\n       * @return {Boolean}\r\n       */\r\n      this.isLeftEdgeOf = function (pred) {\r\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\r\n          return false;\r\n        }\r\n\r\n        var node = dom.ancestor(this.sc, pred);\r\n        return node && dom.isLeftEdgeOf(this.sc, node);\r\n      };\r\n\r\n      /**\r\n       * returns whether range was collapsed or not\r\n       */\r\n      this.isCollapsed = function () {\r\n        return sc === ec && so === eo;\r\n      };\r\n\r\n      /**\r\n       * wrap inline nodes which children of body with paragraph\r\n       *\r\n       * @return {WrappedRange}\r\n       */\r\n      this.wrapBodyInlineWithPara = function () {\r\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\r\n          sc.innerHTML = dom.emptyPara;\r\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\r\n        }\r\n\r\n        /**\r\n         * [workaround] firefox often create range on not visible point. so normalize here.\r\n         *  - firefox: |<p>text</p>|\r\n         *  - chrome: <p>|text|</p>\r\n         */\r\n        var rng = this.normalize();\r\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\r\n          return rng;\r\n        }\r\n\r\n        // find inline top ancestor\r\n        var topAncestor;\r\n        if (dom.isInline(rng.sc)) {\r\n          var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\r\n          topAncestor = list.last(ancestors);\r\n          if (!dom.isInline(topAncestor)) {\r\n            topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\r\n          }\r\n        } else {\r\n          topAncestor = rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\r\n        }\r\n\r\n        // siblings not in paragraph\r\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\r\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\r\n\r\n        // wrap with paragraph\r\n        if (inlineSiblings.length) {\r\n          var para = dom.wrap(list.head(inlineSiblings), 'p');\r\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\r\n        }\r\n\r\n        return this.normalize();\r\n      };\r\n\r\n      /**\r\n       * insert node at current cursor\r\n       *\r\n       * @param {Node} node\r\n       * @return {Node}\r\n       */\r\n      this.insertNode = function (node) {\r\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\r\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\r\n\r\n        if (info.rightNode) {\r\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\r\n        } else {\r\n          info.container.appendChild(node);\r\n        }\r\n\r\n        return node;\r\n      };\r\n\r\n      /**\r\n       * insert html at current cursor\r\n       */\r\n      this.pasteHTML = function (markup) {\r\n        var contentsContainer = $('<div></div>').html(markup)[0];\r\n        var childNodes = list.from(contentsContainer.childNodes);\r\n\r\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\r\n\r\n        return childNodes.reverse().map(function (childNode) {\r\n          return rng.insertNode(childNode);\r\n        }).reverse();\r\n      };\r\n  \r\n      /**\r\n       * returns text in range\r\n       *\r\n       * @return {String}\r\n       */\r\n      this.toString = function () {\r\n        var nativeRng = nativeRange();\r\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\r\n      };\r\n\r\n      /**\r\n       * returns range for word before cursor\r\n       *\r\n       * @param {Boolean} [findAfter] - find after cursor, default: false\r\n       * @return {WrappedRange}\r\n       */\r\n      this.getWordRange = function (findAfter) {\r\n        var endPoint = this.getEndPoint();\r\n\r\n        if (!dom.isCharPoint(endPoint)) {\r\n          return this;\r\n        }\r\n\r\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\r\n          return !dom.isCharPoint(point);\r\n        });\r\n\r\n        if (findAfter) {\r\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\r\n            return !dom.isCharPoint(point);\r\n          });\r\n        }\r\n\r\n        return new WrappedRange(\r\n          startPoint.node,\r\n          startPoint.offset,\r\n          endPoint.node,\r\n          endPoint.offset\r\n        );\r\n      };\r\n  \r\n      /**\r\n       * create offsetPath bookmark\r\n       *\r\n       * @param {Node} editable\r\n       */\r\n      this.bookmark = function (editable) {\r\n        return {\r\n          s: {\r\n            path: dom.makeOffsetPath(editable, sc),\r\n            offset: so\r\n          },\r\n          e: {\r\n            path: dom.makeOffsetPath(editable, ec),\r\n            offset: eo\r\n          }\r\n        };\r\n      };\r\n\r\n      /**\r\n       * create offsetPath bookmark base on paragraph\r\n       *\r\n       * @param {Node[]} paras\r\n       */\r\n      this.paraBookmark = function (paras) {\r\n        return {\r\n          s: {\r\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\r\n            offset: so\r\n          },\r\n          e: {\r\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\r\n            offset: eo\r\n          }\r\n        };\r\n      };\r\n\r\n      /**\r\n       * getClientRects\r\n       * @return {Rect[]}\r\n       */\r\n      this.getClientRects = function () {\r\n        var nativeRng = nativeRange();\r\n        return nativeRng.getClientRects();\r\n      };\r\n    };\r\n\r\n  /**\r\n   * @class core.range\r\n   *\r\n   * Data structure\r\n   *  * BoundaryPoint: a point of dom tree\r\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\r\n   *\r\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\r\n   *\r\n   * @singleton\r\n   * @alternateClassName range\r\n   */\r\n    return {\r\n      /**\r\n       * create Range Object From arguments or Browser Selection\r\n       *\r\n       * @param {Node} sc - start container\r\n       * @param {Number} so - start offset\r\n       * @param {Node} ec - end container\r\n       * @param {Number} eo - end offset\r\n       * @return {WrappedRange}\r\n       */\r\n      create: function (sc, so, ec, eo) {\r\n        if (arguments.length === 4) {\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        } else if (arguments.length === 2) { //collapsed\r\n          ec = sc;\r\n          eo = so;\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        } else {\r\n          var wrappedRange = this.createFromSelection();\r\n          if (!wrappedRange && arguments.length === 1) {\r\n            wrappedRange = this.createFromNode(arguments[0]);\r\n            return wrappedRange.collapse(dom.emptyPara === arguments[0].innerHTML);\r\n          }\r\n          return wrappedRange;\r\n        }\r\n      },\r\n\r\n      createFromSelection: function () {\r\n        var sc, so, ec, eo;\r\n        if (agent.isW3CRangeSupport) {\r\n          var selection = document.getSelection();\r\n          if (!selection || selection.rangeCount === 0) {\r\n            return null;\r\n          } else if (dom.isBody(selection.anchorNode)) {\r\n            // Firefox: returns entire body as range on initialization.\r\n            // We won't never need it.\r\n            return null;\r\n          }\r\n\r\n          var nativeRng = selection.getRangeAt(0);\r\n          sc = nativeRng.startContainer;\r\n          so = nativeRng.startOffset;\r\n          ec = nativeRng.endContainer;\r\n          eo = nativeRng.endOffset;\r\n        } else { // IE8: TextRange\r\n          var textRange = document.selection.createRange();\r\n          var textRangeEnd = textRange.duplicate();\r\n          textRangeEnd.collapse(false);\r\n          var textRangeStart = textRange;\r\n          textRangeStart.collapse(true);\r\n\r\n          var startPoint = textRangeToPoint(textRangeStart, true),\r\n          endPoint = textRangeToPoint(textRangeEnd, false);\r\n\r\n          // same visible point case: range was collapsed.\r\n          if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\r\n              dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\r\n              endPoint.node.nextSibling === startPoint.node) {\r\n            startPoint = endPoint;\r\n          }\r\n\r\n          sc = startPoint.cont;\r\n          so = startPoint.offset;\r\n          ec = endPoint.cont;\r\n          eo = endPoint.offset;\r\n        }\r\n\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from node\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNode: function (node) {\r\n        var sc = node;\r\n        var so = 0;\r\n        var ec = node;\r\n        var eo = dom.nodeLength(ec);\r\n\r\n        // browsers can't target a picture or void node\r\n        if (dom.isVoid(sc)) {\r\n          so = dom.listPrev(sc).length - 1;\r\n          sc = sc.parentNode;\r\n        }\r\n        if (dom.isBR(ec)) {\r\n          eo = dom.listPrev(ec).length - 1;\r\n          ec = ec.parentNode;\r\n        } else if (dom.isVoid(ec)) {\r\n          eo = dom.listPrev(ec).length;\r\n          ec = ec.parentNode;\r\n        }\r\n\r\n        return this.create(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNodeBefore: function (node) {\r\n        return this.createFromNode(node).collapse(true);\r\n      },\r\n\r\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNodeAfter: function (node) {\r\n        return this.createFromNode(node).collapse();\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from bookmark\r\n       *\r\n       * @param {Node} editable\r\n       * @param {Object} bookmark\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromBookmark: function (editable, bookmark) {\r\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\r\n        var so = bookmark.s.offset;\r\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\r\n        var eo = bookmark.e.offset;\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       *\r\n       * create WrappedRange from paraBookmark\r\n       *\r\n       * @param {Object} bookmark\r\n       * @param {Node[]} paras\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromParaBookmark: function (bookmark, paras) {\r\n        var so = bookmark.s.offset;\r\n        var eo = bookmark.e.offset;\r\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\r\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\r\n\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      }\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class core.async\r\n   *\r\n   * Async functions which returns `Promise`\r\n   *\r\n   * @singleton\r\n   * @alternateClassName async\r\n   */\r\n  var async = (function () {\r\n    /**\r\n     * @method readFileAsDataURL\r\n     *\r\n     * read contents of file as representing URL\r\n     *\r\n     * @param {File} file\r\n     * @return {Promise} - then: dataUrl\r\n     */\r\n    var readFileAsDataURL = function (file) {\r\n      return $.Deferred(function (deferred) {\r\n        $.extend(new FileReader(), {\r\n          onload: function (e) {\r\n            var dataURL = e.target.result;\r\n            deferred.resolve(dataURL);\r\n          },\r\n          onerror: function () {\r\n            deferred.reject(this);\r\n          }\r\n        }).readAsDataURL(file);\r\n      }).promise();\r\n    };\r\n  \r\n    /**\r\n     * @method createImage\r\n     *\r\n     * create `<image>` from url string\r\n     *\r\n     * @param {String} url\r\n     * @return {Promise} - then: $image\r\n     */\r\n    var createImage = function (url) {\r\n      return $.Deferred(function (deferred) {\r\n        var $img = $('<img>');\r\n\r\n        $img.one('load', function () {\r\n          $img.off('error abort');\r\n          deferred.resolve($img);\r\n        }).one('error abort', function () {\r\n          $img.off('load').detach();\r\n          deferred.reject($img);\r\n        }).css({\r\n          display: 'none'\r\n        }).appendTo(document.body).attr('src', url);\r\n      }).promise();\r\n    };\r\n\r\n    return {\r\n      readFileAsDataURL: readFileAsDataURL,\r\n      createImage: createImage\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class editing.History\r\n   *\r\n   * Editor History\r\n   *\r\n   */\r\n  var History = function ($editable) {\r\n    var stack = [], stackOffset = -1;\r\n    var editable = $editable[0];\r\n\r\n    var makeSnapshot = function () {\r\n      var rng = range.create(editable);\r\n      var emptyBookmark = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};\r\n\r\n      return {\r\n        contents: $editable.html(),\r\n        bookmark: (rng ? rng.bookmark(editable) : emptyBookmark)\r\n      };\r\n    };\r\n\r\n    var applySnapshot = function (snapshot) {\r\n      if (snapshot.contents !== null) {\r\n        $editable.html(snapshot.contents);\r\n      }\r\n      if (snapshot.bookmark !== null) {\r\n        range.createFromBookmark(editable, snapshot.bookmark).select();\r\n      }\r\n    };\r\n\r\n    /**\r\n    * @method rewind\r\n    * Rewinds the history stack back to the first snapshot taken.\r\n    * Leaves the stack intact, so that \"Redo\" can still be used.\r\n    */\r\n    this.rewind = function () {\r\n      // Create snap shot if not yet recorded\r\n      if ($editable.html() !== stack[stackOffset].contents) {\r\n        this.recordUndo();\r\n      }\r\n\r\n      // Return to the first available snapshot.\r\n      stackOffset = 0;\r\n\r\n      // Apply that snapshot.\r\n      applySnapshot(stack[stackOffset]);\r\n    };\r\n\r\n    /**\r\n    * @method reset\r\n    * Resets the history stack completely; reverting to an empty editor.\r\n    */\r\n    this.reset = function () {\r\n      // Clear the stack.\r\n      stack = [];\r\n\r\n      // Restore stackOffset to its original value.\r\n      stackOffset = -1;\r\n\r\n      // Clear the editable area.\r\n      $editable.html('');\r\n\r\n      // Record our first snapshot (of nothing).\r\n      this.recordUndo();\r\n    };\r\n\r\n    /**\r\n     * undo\r\n     */\r\n    this.undo = function () {\r\n      // Create snap shot if not yet recorded\r\n      if ($editable.html() !== stack[stackOffset].contents) {\r\n        this.recordUndo();\r\n      }\r\n\r\n      if (0 < stackOffset) {\r\n        stackOffset--;\r\n        applySnapshot(stack[stackOffset]);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * redo\r\n     */\r\n    this.redo = function () {\r\n      if (stack.length - 1 > stackOffset) {\r\n        stackOffset++;\r\n        applySnapshot(stack[stackOffset]);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * recorded undo\r\n     */\r\n    this.recordUndo = function () {\r\n      stackOffset++;\r\n\r\n      // Wash out stack after stackOffset\r\n      if (stack.length > stackOffset) {\r\n        stack = stack.slice(0, stackOffset);\r\n      }\r\n\r\n      // Create new snapshot and push it to the end\r\n      stack.push(makeSnapshot());\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @class editing.Style\r\n   *\r\n   * Style\r\n   *\r\n   */\r\n  var Style = function () {\r\n    /**\r\n     * @method jQueryCSS\r\n     *\r\n     * [workaround] for old jQuery\r\n     * passing an array of style properties to .css()\r\n     * will result in an object of property-value pairs.\r\n     * (compability with version < 1.9)\r\n     *\r\n     * @private\r\n     * @param  {jQuery} $obj\r\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\r\n     * @return {Object}\r\n     */\r\n    var jQueryCSS = function ($obj, propertyNames) {\r\n      if (agent.jqueryVersion < 1.9) {\r\n        var result = {};\r\n        $.each(propertyNames, function (idx, propertyName) {\r\n          result[propertyName] = $obj.css(propertyName);\r\n        });\r\n        return result;\r\n      }\r\n      return $obj.css.call($obj, propertyNames);\r\n    };\r\n\r\n    /**\r\n     * returns style object from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\r\n    this.fromNode = function ($node) {\r\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\r\n      var styleInfo = jQueryCSS($node, properties) || {};\r\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\r\n      return styleInfo;\r\n    };\r\n\r\n    /**\r\n     * paragraph level style\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} styleInfo\r\n     */\r\n    this.stylePara = function (rng, styleInfo) {\r\n      $.each(rng.nodes(dom.isPara, {\r\n        includeAncestor: true\r\n      }), function (idx, para) {\r\n        $(para).css(styleInfo);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insert and returns styleNodes on range.\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} [options] - options for styleNodes\r\n     * @param {String} [options.nodeName] - default: `SPAN`\r\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\r\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\r\n     * @return {Node[]}\r\n     */\r\n    this.styleNodes = function (rng, options) {\r\n      rng = rng.splitText();\r\n\r\n      var nodeName = options && options.nodeName || 'SPAN';\r\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\r\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\r\n\r\n      if (rng.isCollapsed()) {\r\n        return [rng.insertNode(dom.create(nodeName))];\r\n      }\r\n\r\n      var pred = dom.makePredByNodeName(nodeName);\r\n      var nodes = rng.nodes(dom.isText, {\r\n        fullyContains: true\r\n      }).map(function (text) {\r\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\r\n      });\r\n\r\n      if (expandClosestSibling) {\r\n        if (onlyPartialContains) {\r\n          var nodesInRange = rng.nodes();\r\n          // compose with partial contains predication\r\n          pred = func.and(pred, function (node) {\r\n            return list.contains(nodesInRange, node);\r\n          });\r\n        }\r\n\r\n        return nodes.map(function (node) {\r\n          var siblings = dom.withClosestSiblings(node, pred);\r\n          var head = list.head(siblings);\r\n          var tails = list.tail(siblings);\r\n          $.each(tails, function (idx, elem) {\r\n            dom.appendChildNodes(head, elem.childNodes);\r\n            dom.remove(elem);\r\n          });\r\n          return list.head(siblings);\r\n        });\r\n      } else {\r\n        return nodes;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * get current style on cursor\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Object} - object contains style properties.\r\n     */\r\n    this.current = function (rng) {\r\n      var $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\r\n      var styleInfo = this.fromNode($cont);\r\n\r\n      // document.queryCommandState for toggle state\r\n      // [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\r\n      try {\r\n        styleInfo = $.extend(styleInfo, {\r\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\r\n          'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\r\n          'font-underline': document.queryCommandState('underline') ? 'underline' : 'normal',\r\n          'font-subscript': document.queryCommandState('subscript') ? 'subscript' : 'normal',\r\n          'font-superscript': document.queryCommandState('superscript') ? 'superscript' : 'normal',\r\n          'font-strikethrough': document.queryCommandState('strikethrough') ? 'strikethrough' : 'normal',\r\n          'font-family': document.queryCommandValue('fontname') || styleInfo['font-family']\r\n        });\r\n      } catch (e) {}\r\n\r\n      // list-style-type to list-style(unordered, ordered)\r\n      if (!rng.isOnList()) {\r\n        styleInfo['list-style'] = 'none';\r\n      } else {\r\n        var orderedTypes = ['circle', 'disc', 'disc-leading-zero', 'square'];\r\n        var isUnordered = $.inArray(styleInfo['list-style-type'], orderedTypes) > -1;\r\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\r\n      }\r\n\r\n      var para = dom.ancestor(rng.sc, dom.isPara);\r\n      if (para && para.style['line-height']) {\r\n        styleInfo['line-height'] = para.style.lineHeight;\r\n      } else {\r\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\r\n        styleInfo['line-height'] = lineHeight.toFixed(1);\r\n      }\r\n\r\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\r\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\r\n      styleInfo.range = rng;\r\n\r\n      return styleInfo;\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * @class editing.Bullet\r\n   *\r\n   * @alternateClassName Bullet\r\n   */\r\n  var Bullet = function () {\r\n    var self = this;\r\n\r\n    /**\r\n     * toggle ordered list\r\n     */\r\n    this.insertOrderedList = function (editable) {\r\n      this.toggleList('OL', editable);\r\n    };\r\n\r\n    /**\r\n     * toggle unordered list\r\n     */\r\n    this.insertUnorderedList = function (editable) {\r\n      this.toggleList('UL', editable);\r\n    };\r\n\r\n    /**\r\n     * indent\r\n     */\r\n    this.indent = function (editable) {\r\n      var self = this;\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        if (dom.isLi(head)) {\r\n          self.wrapList(paras, head.parentNode.nodeName);\r\n        } else {\r\n          $.each(paras, function (idx, para) {\r\n            $(para).css('marginLeft', function (idx, val) {\r\n              return (parseInt(val, 10) || 0) + 25;\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * outdent\r\n     */\r\n    this.outdent = function (editable) {\r\n      var self = this;\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        if (dom.isLi(head)) {\r\n          self.releaseList([paras]);\r\n        } else {\r\n          $.each(paras, function (idx, para) {\r\n            $(para).css('marginLeft', function (idx, val) {\r\n              val = (parseInt(val, 10) || 0);\r\n              return val > 25 ? val - 25 : '';\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * toggle list\r\n     *\r\n     * @param {String} listName - OL or UL\r\n     */\r\n    this.toggleList = function (listName, editable) {\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var bookmark = rng.paraBookmark(paras);\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      // paragraph to list\r\n      if (list.find(paras, dom.isPurePara)) {\r\n        var wrappedParas = [];\r\n        $.each(clustereds, function (idx, paras) {\r\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\r\n        });\r\n        paras = wrappedParas;\r\n      // list to paragraph or change list style\r\n      } else {\r\n        var diffLists = rng.nodes(dom.isList, {\r\n          includeAncestor: true\r\n        }).filter(function (listNode) {\r\n          return !$.nodeName(listNode, listName);\r\n        });\r\n\r\n        if (diffLists.length) {\r\n          $.each(diffLists, function (idx, listNode) {\r\n            dom.replace(listNode, listName);\r\n          });\r\n        } else {\r\n          paras = this.releaseList(clustereds, true);\r\n        }\r\n      }\r\n\r\n      range.createFromParaBookmark(bookmark, paras).select();\r\n    };\r\n\r\n    /**\r\n     * @param {Node[]} paras\r\n     * @param {String} listName\r\n     * @return {Node[]}\r\n     */\r\n    this.wrapList = function (paras, listName) {\r\n      var head = list.head(paras);\r\n      var last = list.last(paras);\r\n\r\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\r\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\r\n\r\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\r\n\r\n      // P to LI\r\n      paras = paras.map(function (para) {\r\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\r\n      });\r\n\r\n      // append to list(<ul>, <ol>)\r\n      dom.appendChildNodes(listNode, paras);\r\n\r\n      if (nextList) {\r\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\r\n        dom.remove(nextList);\r\n      }\r\n\r\n      return paras;\r\n    };\r\n\r\n    /**\r\n     * @method releaseList\r\n     *\r\n     * @param {Array[]} clustereds\r\n     * @param {Boolean} isEscapseToBody\r\n     * @return {Node[]}\r\n     */\r\n    this.releaseList = function (clustereds, isEscapseToBody) {\r\n      var releasedParas = [];\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        var last = list.last(paras);\r\n\r\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) :\r\n                                         head.parentNode;\r\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\r\n          node: last.parentNode,\r\n          offset: dom.position(last) + 1\r\n        }, {\r\n          isSkipPaddingBlankHTML: true\r\n        }) : null;\r\n\r\n        var middleList = dom.splitTree(headList, {\r\n          node: head.parentNode,\r\n          offset: dom.position(head)\r\n        }, {\r\n          isSkipPaddingBlankHTML: true\r\n        });\r\n\r\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) :\r\n                                  list.from(middleList.childNodes).filter(dom.isLi);\r\n\r\n        // LI to P\r\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\r\n          paras = paras.map(function (para) {\r\n            return dom.replace(para, 'P');\r\n          });\r\n        }\r\n\r\n        $.each(list.from(paras).reverse(), function (idx, para) {\r\n          dom.insertAfter(para, headList);\r\n        });\r\n\r\n        // remove empty lists\r\n        var rootLists = list.compact([headList, middleList, lastList]);\r\n        $.each(rootLists, function (idx, rootList) {\r\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\r\n          $.each(listNodes.reverse(), function (idx, listNode) {\r\n            if (!dom.nodeLength(listNode)) {\r\n              dom.remove(listNode, true);\r\n            }\r\n          });\r\n        });\r\n\r\n        releasedParas = releasedParas.concat(paras);\r\n      });\r\n\r\n      return releasedParas;\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * @class editing.Typing\r\n   *\r\n   * Typing\r\n   *\r\n   */\r\n  var Typing = function () {\r\n\r\n    // a Bullet instance to toggle lists off\r\n    var bullet = new Bullet();\r\n\r\n    /**\r\n     * insert tab\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Number} tabsize\r\n     */\r\n    this.insertTab = function (rng, tabsize) {\r\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\r\n      rng = rng.deleteContents();\r\n      rng.insertNode(tab, true);\r\n\r\n      rng = range.create(tab, tabsize);\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * insert paragraph\r\n     */\r\n    this.insertParagraph = function (editable) {\r\n      var rng = range.create(editable);\r\n\r\n      // deleteContents on range.\r\n      rng = rng.deleteContents();\r\n\r\n      // Wrap range if it needs to be wrapped by paragraph\r\n      rng = rng.wrapBodyInlineWithPara();\r\n\r\n      // finding paragraph\r\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\r\n\r\n      var nextPara;\r\n      // on paragraph: split paragraph\r\n      if (splitRoot) {\r\n        // if it is an empty line with li\r\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\r\n          // toogle UL/OL and escape\r\n          bullet.toggleList(splitRoot.parentNode.nodeName);\r\n          return;\r\n        // if it is an empty line with para on blockquote\r\n        } else if (dom.isEmpty(splitRoot) && dom.isPara(splitRoot) && dom.isBlockquote(splitRoot.parentNode)) {\r\n          // escape blockquote\r\n          dom.insertAfter(splitRoot, splitRoot.parentNode);\r\n          nextPara = splitRoot;\r\n        // if new line has content (not a line break)\r\n        } else {\r\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\r\n\r\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\r\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\r\n\r\n          $.each(emptyAnchors, function (idx, anchor) {\r\n            dom.remove(anchor);\r\n          });\r\n\r\n          // replace empty heading, pre or custom-made styleTag with P tag\r\n          if ((dom.isHeading(nextPara) || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara)) && dom.isEmpty(nextPara)) {\r\n            nextPara = dom.replace(nextPara, 'p');\r\n          }\r\n        }\r\n      // no paragraph: insert empty paragraph\r\n      } else {\r\n        var next = rng.sc.childNodes[rng.so];\r\n        nextPara = $(dom.emptyPara)[0];\r\n        if (next) {\r\n          rng.sc.insertBefore(nextPara, next);\r\n        } else {\r\n          rng.sc.appendChild(nextPara);\r\n        }\r\n      }\r\n\r\n      range.create(nextPara, 0).normalize().select().scrollIntoView(editable);\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * @class Create a virtual table to create what actions to do in change.\r\n   * @param {object} startPoint Cell selected to apply change.\r\n   * @param {enum} where  Where change will be applied Row or Col. Use enum: TableResultAction.where\r\n   * @param {enum} action Action to be applied. Use enum: TableResultAction.requestAction\r\n   * @param {object} domTable Dom element of table to make changes.\r\n   */\r\n  var TableResultAction = function (startPoint, where, action, domTable) {\r\n    var _startPoint = { 'colPos': 0, 'rowPos': 0 };\r\n    var _virtualTable = [];\r\n    var _actionCellList = [];\r\n\r\n    //////////////////////////////////////////////\r\n    // Private functions\r\n    //////////////////////////////////////////////\r\n\r\n    /**\r\n     * Set the startPoint of action.\r\n     */\r\n    function setStartPoint() {\r\n      if (!startPoint || !startPoint.tagName || (startPoint.tagName.toLowerCase() !== 'td' && startPoint.tagName.toLowerCase() !== 'th')) {\r\n        console.error('Impossible to identify start Cell point.', startPoint);\r\n        return;\r\n      }\r\n      _startPoint.colPos = startPoint.cellIndex;\r\n      if (!startPoint.parentElement || !startPoint.parentElement.tagName || startPoint.parentElement.tagName.toLowerCase() !== 'tr') {\r\n        console.error('Impossible to identify start Row point.', startPoint);\r\n        return;\r\n      }\r\n      _startPoint.rowPos = startPoint.parentElement.rowIndex;\r\n    }\r\n\r\n    /**\r\n     * Define virtual table position info object.\r\n     * \r\n     * @param {int} rowIndex Index position in line of virtual table.\r\n     * @param {int} cellIndex Index position in column of virtual table.\r\n     * @param {object} baseRow Row affected by this position.\r\n     * @param {object} baseCell Cell affected by this position.\r\n     * @param {bool} isSpan Inform if it is an span cell/row.\r\n     */\r\n    function setVirtualTablePosition(rowIndex, cellIndex, baseRow, baseCell, isRowSpan, isColSpan, isVirtualCell) {\r\n      var objPosition = {\r\n        'baseRow': baseRow,\r\n        'baseCell': baseCell,\r\n        'isRowSpan': isRowSpan,\r\n        'isColSpan': isColSpan,\r\n        'isVirtual': isVirtualCell\r\n      };\r\n      if (!_virtualTable[rowIndex]) {\r\n        _virtualTable[rowIndex] = [];\r\n      }\r\n      _virtualTable[rowIndex][cellIndex] = objPosition;\r\n    }\r\n\r\n    /**\r\n     * Create action cell object.\r\n     * \r\n     * @param {object} virtualTableCellObj Object of specific position on virtual table.\r\n     * @param {enum} resultAction Action to be applied in that item.\r\n     */\r\n    function getActionCell(virtualTableCellObj, resultAction, virtualRowPosition, virtualColPosition) {\r\n      return {\r\n        'baseCell': virtualTableCellObj.baseCell,\r\n        'action': resultAction,\r\n        'virtualTable': {\r\n          'rowIndex': virtualRowPosition,\r\n          'cellIndex': virtualColPosition\r\n        }\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Recover free index of row to append Cell.\r\n     * \r\n     * @param {int} rowIndex Index of row to find free space.\r\n     * @param {int} cellIndex Index of cell to find free space in table.\r\n     */\r\n    function recoverCellIndex(rowIndex, cellIndex) {\r\n      if (!_virtualTable[rowIndex]) {\r\n        return cellIndex;\r\n      }\r\n      if (!_virtualTable[rowIndex][cellIndex]) {\r\n        return cellIndex;\r\n      }\r\n\r\n      var newCellIndex = cellIndex;\r\n      while (_virtualTable[rowIndex][newCellIndex]) {\r\n        newCellIndex++;\r\n        if (!_virtualTable[rowIndex][newCellIndex]) {\r\n          return newCellIndex;\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Recover info about row and cell and add information to virtual table.\r\n     * \r\n     * @param {object} row Row to recover information.\r\n     * @param {object} cell Cell to recover information.\r\n     */\r\n    function addCellInfoToVirtual(row, cell) {\r\n      var cellIndex = recoverCellIndex(row.rowIndex, cell.cellIndex);\r\n      var cellHasColspan = (cell.colSpan > 1);\r\n      var cellHasRowspan = (cell.rowSpan > 1);\r\n      var isThisSelectedCell = (row.rowIndex === _startPoint.rowPos && cell.cellIndex === _startPoint.colPos);\r\n      setVirtualTablePosition(row.rowIndex, cellIndex, row, cell, cellHasRowspan, cellHasColspan, false);\r\n\r\n      // Add span rows to virtual Table.\r\n      var rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value, 10) : 0;\r\n      if (rowspanNumber > 1) {\r\n        for (var rp = 1; rp < rowspanNumber; rp++) {\r\n          var rowspanIndex = row.rowIndex + rp;\r\n          adjustStartPoint(rowspanIndex, cellIndex, cell, isThisSelectedCell);\r\n          setVirtualTablePosition(rowspanIndex, cellIndex, row, cell, true, cellHasColspan, true);\r\n        }\r\n      }\r\n\r\n      // Add span cols to virtual table.\r\n      var colspanNumber = cell.attributes.colSpan ? parseInt(cell.attributes.colSpan.value, 10) : 0;\r\n      if (colspanNumber > 1) {\r\n        for (var cp = 1; cp < colspanNumber; cp++) {\r\n          var cellspanIndex = recoverCellIndex(row.rowIndex, (cellIndex + cp));\r\n          adjustStartPoint(row.rowIndex, cellspanIndex, cell, isThisSelectedCell);\r\n          setVirtualTablePosition(row.rowIndex, cellspanIndex, row, cell, cellHasRowspan, true, true);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Process validation and adjust of start point if needed\r\n     * \r\n     * @param {int} rowIndex \r\n     * @param {int} cellIndex \r\n     * @param {object} cell \r\n     * @param {bool} isSelectedCell \r\n     */\r\n    function adjustStartPoint(rowIndex, cellIndex, cell, isSelectedCell) {\r\n      if (rowIndex === _startPoint.rowPos && _startPoint.colPos >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell) {\r\n        _startPoint.colPos++;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Create virtual table of cells with all cells, including span cells.\r\n     */\r\n    function createVirtualTable() {\r\n      var rows = domTable.rows;\r\n      for (var rowIndex = 0; rowIndex < rows.length; rowIndex++) {\r\n        var cells = rows[rowIndex].cells;\r\n        for (var cellIndex = 0; cellIndex < cells.length; cellIndex++) {\r\n          addCellInfoToVirtual(rows[rowIndex], cells[cellIndex]);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get action to be applied on the cell.\r\n     * \r\n     * @param {object} cell virtual table cell to apply action\r\n     */\r\n    function getDeleteResultActionToCell(cell) {\r\n      switch (where) {\r\n        case TableResultAction.where.Column:\r\n          if (cell.isColSpan) {\r\n            return TableResultAction.resultAction.SubtractSpanCount;\r\n          }\r\n          break;\r\n        case TableResultAction.where.Row:\r\n          if (!cell.isVirtual && cell.isRowSpan) {\r\n            return TableResultAction.resultAction.AddCell;\r\n          }\r\n          else if (cell.isRowSpan) {\r\n            return TableResultAction.resultAction.SubtractSpanCount;\r\n          }\r\n          break;\r\n      }\r\n      return TableResultAction.resultAction.RemoveCell;\r\n    }\r\n\r\n    /**\r\n     * Get action to be applied on the cell.\r\n     * \r\n     * @param {object} cell virtual table cell to apply action\r\n     */\r\n    function getAddResultActionToCell(cell) {\r\n      switch (where) {\r\n        case TableResultAction.where.Column:\r\n          if (cell.isColSpan) {\r\n            return TableResultAction.resultAction.SumSpanCount;\r\n          } else if (cell.isRowSpan && cell.isVirtual) {\r\n            return TableResultAction.resultAction.Ignore;\r\n          }\r\n          break;\r\n        case TableResultAction.where.Row:\r\n          if (cell.isRowSpan) {\r\n            return TableResultAction.resultAction.SumSpanCount;\r\n          } else if (cell.isColSpan && cell.isVirtual) {\r\n            return TableResultAction.resultAction.Ignore;\r\n          }\r\n          break;\r\n      }\r\n      return TableResultAction.resultAction.AddCell;\r\n    }\r\n\r\n    function init() {\r\n      setStartPoint();\r\n      createVirtualTable();\r\n    }\r\n\r\n    //////////////////////////////////////////////\r\n    // Public functions\r\n    //////////////////////////////////////////////\r\n\r\n    /**\r\n     * Recover array os what to do in table.\r\n     */\r\n    this.getActionList = function () {\r\n      var fixedRow = (where === TableResultAction.where.Row) ? _startPoint.rowPos : -1;\r\n      var fixedCol = (where === TableResultAction.where.Column) ? _startPoint.colPos : -1;\r\n\r\n      var actualPosition = 0;\r\n      var canContinue = true;\r\n      while (canContinue) {\r\n        var rowPosition = (fixedRow >= 0) ? fixedRow : actualPosition;\r\n        var colPosition = (fixedCol >= 0) ? fixedCol : actualPosition;\r\n        var row = _virtualTable[rowPosition];\r\n        if (!row) {\r\n          canContinue = false;\r\n          return _actionCellList;\r\n        }\r\n        var cell = row[colPosition];\r\n        if (!cell) {\r\n          canContinue = false;\r\n          return _actionCellList;\r\n        }\r\n\r\n        // Define action to be applied in this cell\r\n        var resultAction = TableResultAction.resultAction.Ignore;\r\n        switch (action) {\r\n          case TableResultAction.requestAction.Add:\r\n            resultAction = getAddResultActionToCell(cell);\r\n            break;\r\n          case TableResultAction.requestAction.Delete:\r\n            resultAction = getDeleteResultActionToCell(cell);\r\n            break;\r\n        }\r\n        _actionCellList.push(getActionCell(cell, resultAction, rowPosition, colPosition));\r\n        actualPosition++;\r\n      }\r\n\r\n      return _actionCellList;\r\n    };\r\n\r\n    init();\r\n  };\r\n  /**\r\n  * \r\n  * Where action occours enum.\r\n  */\r\n  TableResultAction.where = { 'Row': 0, 'Column': 1 };\r\n  /**\r\n  * \r\n  * Requested action to apply enum.\r\n  */\r\n  TableResultAction.requestAction = { 'Add': 0, 'Delete': 1 };\r\n  /**\r\n  * \r\n  * Result action to be executed enum.\r\n  */\r\n  TableResultAction.resultAction = { 'Ignore': 0, 'SubtractSpanCount': 1, 'RemoveCell': 2, 'AddCell': 3, 'SumSpanCount': 4 };\r\n\r\n  /**\r\n   * \r\n   * @class editing.Table\r\n   *\r\n   * Table\r\n   *\r\n   */\r\n  var Table = function () {\r\n    /**\r\n     * handle tab key\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Boolean} isShift\r\n     */\r\n    this.tab = function (rng, isShift) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      var table = dom.ancestor(cell, dom.isTable);\r\n      var cells = dom.listDescendant(table, dom.isCell);\r\n\r\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\r\n      if (nextCell) {\r\n        range.create(nextCell, 0).select();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Add a new row\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {String} position (top/bottom)\r\n     * @return {Node}\r\n     */\r\n    this.addRow = function (rng, position) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n\r\n      var currentTr = $(cell).closest('tr');\r\n      var trAttributes = this.recoverAttributes(currentTr);\r\n      var html = $('<tr' + trAttributes + '></tr>');\r\n\r\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row,\r\n        TableResultAction.requestAction.Add, $(currentTr).closest('table')[0]);\r\n      var actions = vTable.getActionList();\r\n\r\n      for (var idCell = 0; idCell < actions.length; idCell++) {\r\n        var currentCell = actions[idCell];\r\n        var tdAttributes = this.recoverAttributes(currentCell.baseCell);\r\n        switch (currentCell.action) {\r\n          case TableResultAction.resultAction.AddCell:\r\n            html.append('<td' + tdAttributes + '>' + dom.blank + '</td>');\r\n            break;\r\n          case TableResultAction.resultAction.SumSpanCount:\r\n            if (position === 'top') {\r\n              var baseCellTr = currentCell.baseCell.parent;\r\n              var isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest('tr').rowIndex) <= currentTr[0].rowIndex;\r\n              if (isTopFromRowSpan) {\r\n                var newTd = $('<div></div>').append($('<td' + tdAttributes + '>' + dom.blank + '</td>').removeAttr('rowspan')).html();\r\n                html.append(newTd);\r\n                break;\r\n              }\r\n            }\r\n            var rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\r\n            rowspanNumber++;\r\n            currentCell.baseCell.setAttribute('rowSpan', rowspanNumber);\r\n            break;\r\n        }\r\n      }\r\n\r\n      if (position === 'top') {\r\n        currentTr.before(html);\r\n      }\r\n      else {\r\n        var cellHasRowspan = (cell.rowSpan > 1);\r\n        if (cellHasRowspan) {\r\n          var lastTrIndex = currentTr[0].rowIndex + (cell.rowSpan - 2);\r\n          $($(currentTr).parent().find('tr')[lastTrIndex]).after($(html));\r\n          return;\r\n        }\r\n        currentTr.after(html);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Add a new col\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {String} position (left/right)\r\n     * @return {Node}\r\n     */\r\n    this.addCol = function (rng, position) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      var row = $(cell).closest('tr');\r\n      var rowsGroup = $(row).siblings();\r\n      rowsGroup.push(row);\r\n\r\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column,\r\n        TableResultAction.requestAction.Add, $(row).closest('table')[0]);\r\n      var actions = vTable.getActionList();\r\n\r\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\r\n        var currentCell = actions[actionIndex];\r\n        var tdAttributes = this.recoverAttributes(currentCell.baseCell);\r\n        switch (currentCell.action) {\r\n          case TableResultAction.resultAction.AddCell:\r\n            if (position === 'right') {\r\n              $(currentCell.baseCell).after('<td' + tdAttributes + '>' + dom.blank + '</td>');\r\n            } else {\r\n              $(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\r\n            }\r\n            break;\r\n          case TableResultAction.resultAction.SumSpanCount:\r\n            if (position === 'right') {\r\n              var colspanNumber = parseInt(currentCell.baseCell.colSpan, 10);\r\n              colspanNumber++;\r\n              currentCell.baseCell.setAttribute('colSpan', colspanNumber);\r\n            } else {\r\n              $(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    /*\r\n    * Copy attributes from element.\r\n    *\r\n    * @param {object} Element to recover attributes.\r\n    * @return {string} Copied string elements.\r\n    */\r\n    this.recoverAttributes = function (el) {\r\n      var resultStr = '';\r\n\r\n      if (!el) {\r\n        return resultStr;\r\n      }\r\n\r\n      var attrList = el.attributes || [];\r\n\r\n      for (var i = 0; i < attrList.length; i++) {\r\n        if (attrList[i].name.toLowerCase() === 'id') {\r\n          continue;\r\n        }\r\n\r\n        if (attrList[i].specified) {\r\n          resultStr += ' ' + attrList[i].name + '=\\'' + attrList[i].value + '\\'';\r\n        }\r\n      }\r\n\r\n      return resultStr;\r\n    };\r\n\r\n    /**\r\n     * Delete current row\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\r\n    this.deleteRow = function (rng) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      var row = $(cell).closest('tr');\r\n      var cellPos = row.children('td, th').index($(cell));\r\n      var rowPos = row[0].rowIndex;\r\n\r\n      var vTable = new TableResultAction(cell, TableResultAction.where.Row,\r\n        TableResultAction.requestAction.Delete, $(row).closest('table')[0]);\r\n      var actions = vTable.getActionList();\r\n\r\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\r\n        if (!actions[actionIndex]) {\r\n          continue;\r\n        }\r\n\r\n        var baseCell = actions[actionIndex].baseCell;\r\n        var virtualPosition = actions[actionIndex].virtualTable;\r\n        var hasRowspan = (baseCell.rowSpan && baseCell.rowSpan > 1);\r\n        var rowspanNumber = (hasRowspan) ? parseInt(baseCell.rowSpan, 10) : 0;\r\n        switch (actions[actionIndex].action) {\r\n          case TableResultAction.resultAction.Ignore:\r\n            continue;\r\n          case TableResultAction.resultAction.AddCell:\r\n            var nextRow = row.next('tr')[0];\r\n            if (!nextRow) { continue; }\r\n            var cloneRow = row[0].cells[cellPos];\r\n            if (hasRowspan) {\r\n              if (rowspanNumber > 2) {\r\n                rowspanNumber--;\r\n                nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\r\n                nextRow.cells[cellPos].setAttribute('rowSpan', rowspanNumber);\r\n                nextRow.cells[cellPos].innerHTML = '';\r\n              } else if (rowspanNumber === 2) {\r\n                nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\r\n                nextRow.cells[cellPos].removeAttribute('rowSpan');\r\n                nextRow.cells[cellPos].innerHTML = '';\r\n              }\r\n            }\r\n            continue;\r\n          case TableResultAction.resultAction.SubtractSpanCount:\r\n            if (hasRowspan) {\r\n              if (rowspanNumber > 2) {\r\n                rowspanNumber--;\r\n                baseCell.setAttribute('rowSpan', rowspanNumber);\r\n                if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''; }\r\n              } else if (rowspanNumber === 2) {\r\n                baseCell.removeAttribute('rowSpan');\r\n                if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''; }\r\n              }\r\n            }\r\n            continue;\r\n          case TableResultAction.resultAction.RemoveCell:\r\n            // Do not need remove cell because row will be deleted.\r\n            continue;\r\n        }\r\n      }\r\n      row.remove();\r\n    };\r\n\r\n    /**\r\n     * Delete current col\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\r\n    this.deleteCol = function (rng) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      var row = $(cell).closest('tr');\r\n      var cellPos = row.children('td, th').index($(cell));\r\n\r\n      var vTable = new TableResultAction(cell, TableResultAction.where.Column,\r\n        TableResultAction.requestAction.Delete, $(row).closest('table')[0]);\r\n      var actions = vTable.getActionList();\r\n\r\n      for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\r\n        if (!actions[actionIndex]) {\r\n          continue;\r\n        }\r\n        switch (actions[actionIndex].action) {\r\n          case TableResultAction.resultAction.Ignore:\r\n            continue;\r\n          case TableResultAction.resultAction.SubtractSpanCount:\r\n            var baseCell = actions[actionIndex].baseCell;\r\n            var hasColspan = (baseCell.colSpan && baseCell.colSpan > 1);\r\n            if (hasColspan) {\r\n              var colspanNumber = (baseCell.colSpan) ? parseInt(baseCell.colSpan, 10) : 0;\r\n              if (colspanNumber > 2) {\r\n                colspanNumber--;\r\n                baseCell.setAttribute('colSpan', colspanNumber);\r\n                if (baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''; }\r\n              } else if (colspanNumber === 2) {\r\n                baseCell.removeAttribute('colSpan');\r\n                if (baseCell.cellIndex === cellPos) { baseCell.innerHTML = ''; }\r\n              }\r\n            }\r\n            continue;\r\n          case TableResultAction.resultAction.RemoveCell:\r\n            dom.remove(actions[actionIndex].baseCell, true);\r\n            continue;\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create empty table element\r\n     *\r\n     * @param {Number} rowCount\r\n     * @param {Number} colCount\r\n     * @return {Node}\r\n     */\r\n    this.createTable = function (colCount, rowCount, options) {\r\n      var tds = [], tdHTML;\r\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\r\n        tds.push('<td>' + dom.blank + '</td>');\r\n      }\r\n      tdHTML = tds.join('');\r\n\r\n      var trs = [], trHTML;\r\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\r\n        trs.push('<tr>' + tdHTML + '</tr>');\r\n      }\r\n      trHTML = trs.join('');\r\n      var $table = $('<table>' + trHTML + '</table>');\r\n      if (options && options.tableClassName) {\r\n        $table.addClass(options.tableClassName);\r\n      }\r\n\r\n      return $table[0];\r\n    };\r\n\r\n    /**\r\n     * Delete current table\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Node}\r\n     */\r\n    this.deleteTable = function (rng) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      $(cell).closest('table').remove();\r\n    };\r\n  };\r\n\r\n\r\n  var KEY_BOGUS = 'bogus';\r\n\r\n  /**\r\n   * @class Editor\r\n   */\r\n  var Editor = function (context) {\r\n    var self = this;\r\n\r\n    var $note = context.layoutInfo.note;\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    var editable = $editable[0];\r\n    var lastRange = null;\r\n\r\n    var style = new Style();\r\n    var table = new Table();\r\n    var typing = new Typing();\r\n    var bullet = new Bullet();\r\n    var history = new History($editable);\r\n\r\n    this.initialize = function () {\r\n      // bind custom events\r\n      $editable.on('keydown', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          context.triggerEvent('enter', event);\r\n        }\r\n        context.triggerEvent('keydown', event);\r\n\r\n        if (!event.isDefaultPrevented()) {\r\n          if (options.shortcuts) {\r\n            self.handleKeyMap(event);\r\n          } else {\r\n            self.preventDefaultEditableShortCuts(event);\r\n          }\r\n        }\r\n      }).on('keyup', function (event) {\r\n        context.triggerEvent('keyup', event);\r\n      }).on('focus', function (event) {\r\n        context.triggerEvent('focus', event);\r\n      }).on('blur', function (event) {\r\n        context.triggerEvent('blur', event);\r\n      }).on('mousedown', function (event) {\r\n        context.triggerEvent('mousedown', event);\r\n      }).on('mouseup', function (event) {\r\n        context.triggerEvent('mouseup', event);\r\n      }).on('scroll', function (event) {\r\n        context.triggerEvent('scroll', event);\r\n      }).on('paste', function (event) {\r\n        context.triggerEvent('paste', event);\r\n      });\r\n\r\n      // init content before set event\r\n      $editable.html(dom.html($note) || dom.emptyPara);\r\n\r\n      // [workaround] IE doesn't have input events for contentEditable\r\n      // - see: https://goo.gl/4bfIvA\r\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\r\n      $editable.on(changeEventName, func.debounce(function () {\r\n        context.triggerEvent('change', $editable.html());\r\n      }, 100));\r\n\r\n      $editor.on('focusin', function (event) {\r\n        context.triggerEvent('focusin', event);\r\n      }).on('focusout', function (event) {\r\n        context.triggerEvent('focusout', event);\r\n      });\r\n\r\n      if (!options.airMode) {\r\n        if (options.width) {\r\n          $editor.outerWidth(options.width);\r\n        }\r\n        if (options.height) {\r\n          $editable.outerHeight(options.height);\r\n        }\r\n        if (options.maxHeight) {\r\n          $editable.css('max-height', options.maxHeight);\r\n        }\r\n        if (options.minHeight) {\r\n          $editable.css('min-height', options.minHeight);\r\n        }\r\n      }\r\n\r\n      history.recordUndo();\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $editable.off();\r\n    };\r\n\r\n    this.handleKeyMap = function (event) {\r\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\r\n      var keys = [];\r\n\r\n      if (event.metaKey) { keys.push('CMD'); }\r\n      if (event.ctrlKey && !event.altKey) { keys.push('CTRL'); }\r\n      if (event.shiftKey) { keys.push('SHIFT'); }\r\n\r\n      var keyName = key.nameFromCode[event.keyCode];\r\n      if (keyName) {\r\n        keys.push(keyName);\r\n      }\r\n\r\n      var eventName = keyMap[keys.join('+')];\r\n      if (eventName) {\r\n        event.preventDefault();\r\n        context.invoke(eventName);\r\n      } else if (key.isEdit(event.keyCode)) {\r\n        this.afterCommand();\r\n      }\r\n    };\r\n\r\n    this.preventDefaultEditableShortCuts = function (event) {\r\n      // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\r\n      if ((event.ctrlKey || event.metaKey) &&\r\n        list.contains([66, 73, 85], event.keyCode)) {\r\n        event.preventDefault();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create range\r\n     * @return {WrappedRange}\r\n     */\r\n    this.createRange = function () {\r\n      this.focus();\r\n      return range.create(editable);\r\n    };\r\n\r\n    /**\r\n     * saveRange\r\n     *\r\n     * save current range\r\n     *\r\n     * @param {Boolean} [thenCollapse=false]\r\n     */\r\n    this.saveRange = function (thenCollapse) {\r\n      lastRange = this.createRange();\r\n      if (thenCollapse) {\r\n        lastRange.collapse().select();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * restoreRange\r\n     *\r\n     * restore lately range\r\n     */\r\n    this.restoreRange = function () {\r\n      if (lastRange) {\r\n        lastRange.select();\r\n        this.focus();\r\n      }\r\n    };\r\n\r\n    this.saveTarget = function (node) {\r\n      $editable.data('target', node);\r\n    };\r\n\r\n    this.clearTarget = function () {\r\n      $editable.removeData('target');\r\n    };\r\n\r\n    this.restoreTarget = function () {\r\n      return $editable.data('target');\r\n    };\r\n\r\n    /**\r\n     * currentStyle\r\n     *\r\n     * current style\r\n     * @return {Object|Boolean} unfocus\r\n     */\r\n    this.currentStyle = function () {\r\n      var rng = range.create();\r\n      if (rng) {\r\n        rng = rng.normalize();\r\n      }\r\n      return rng ? style.current(rng) : style.fromNode($editable);\r\n    };\r\n\r\n    /**\r\n     * style from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\r\n    this.styleFromNode = function ($node) {\r\n      return style.fromNode($node);\r\n    };\r\n\r\n    /**\r\n     * undo\r\n     */\r\n    this.undo = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      history.undo();\r\n      context.triggerEvent('change', $editable.html());\r\n    };\r\n    context.memo('help.undo', lang.help.undo);\r\n\r\n    /**\r\n     * redo\r\n     */\r\n    this.redo = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      history.redo();\r\n      context.triggerEvent('change', $editable.html());\r\n    };\r\n    context.memo('help.redo', lang.help.redo);\r\n\r\n    /**\r\n     * before command\r\n     */\r\n    var beforeCommand = this.beforeCommand = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      // keep focus on editable before command execution\r\n      self.focus();\r\n    };\r\n\r\n    /**\r\n     * after command\r\n     * @param {Boolean} isPreventTrigger\r\n     */\r\n    var afterCommand = this.afterCommand = function (isPreventTrigger) {\r\n      history.recordUndo();\r\n      if (!isPreventTrigger) {\r\n        context.triggerEvent('change', $editable.html());\r\n      }\r\n    };\r\n\r\n    /* jshint ignore:start */\r\n    // native commands(with execCommand), generate function for execCommand\r\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\r\n                    'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\r\n                    'formatBlock', 'removeFormat',\r\n                    'backColor', 'fontName'];\r\n\r\n    for (var idx = 0, len = commands.length; idx < len; idx ++) {\r\n      this[commands[idx]] = (function (sCmd) {\r\n        return function (value) {\r\n          beforeCommand();\r\n          document.execCommand(sCmd, false, value);\r\n          afterCommand(true);\r\n        };\r\n      })(commands[idx]);\r\n      context.memo('help.' + commands[idx], lang.help[commands[idx]]);\r\n    }\r\n    /* jshint ignore:end */\r\n\r\n    /**\r\n     * handle tab key\r\n     */\r\n    this.tab = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        table.tab(rng);\r\n      } else {\r\n        beforeCommand();\r\n        typing.insertTab(rng, options.tabSize);\r\n        afterCommand();\r\n      }\r\n    };\r\n    context.memo('help.tab', lang.help.tab);\r\n\r\n    /**\r\n     * handle shift+tab key\r\n     */\r\n    this.untab = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        table.tab(rng, true);\r\n      }\r\n    };\r\n    context.memo('help.untab', lang.help.untab);\r\n\r\n    /**\r\n     * run given function between beforeCommand and afterCommand\r\n     */\r\n    this.wrapCommand = function (fn) {\r\n      return function () {\r\n        beforeCommand();\r\n        fn.apply(self, arguments);\r\n        afterCommand();\r\n      };\r\n    };\r\n\r\n    /**\r\n     * insert paragraph\r\n     */\r\n    this.insertParagraph = this.wrapCommand(function () {\r\n      typing.insertParagraph(editable);\r\n    });\r\n    context.memo('help.insertParagraph', lang.help.insertParagraph);\r\n\r\n    this.insertOrderedList = this.wrapCommand(function () {\r\n      bullet.insertOrderedList(editable);\r\n    });\r\n    context.memo('help.insertOrderedList', lang.help.insertOrderedList);\r\n\r\n    this.insertUnorderedList = this.wrapCommand(function () {\r\n      bullet.insertUnorderedList(editable);\r\n    });\r\n    context.memo('help.insertUnorderedList', lang.help.insertUnorderedList);\r\n\r\n    this.indent = this.wrapCommand(function () {\r\n      bullet.indent(editable);\r\n    });\r\n    context.memo('help.indent', lang.help.indent);\r\n\r\n    this.outdent = this.wrapCommand(function () {\r\n      bullet.outdent(editable);\r\n    });\r\n    context.memo('help.outdent', lang.help.outdent);\r\n\r\n    /**\r\n     * insert image\r\n     *\r\n     * @param {String} src\r\n     * @param {String|Function} param\r\n     * @return {Promise}\r\n     */\r\n    this.insertImage = function (src, param) {\r\n      return async.createImage(src, param).then(function ($image) {\r\n        beforeCommand();\r\n\r\n        if (typeof param === 'function') {\r\n          param($image);\r\n        } else {\r\n          if (typeof param === 'string') {\r\n            $image.attr('data-filename', param);\r\n          }\r\n          $image.css('width', Math.min($editable.width(), $image.width()));\r\n        }\r\n\r\n        $image.show();\r\n        range.create(editable).insertNode($image[0]);\r\n        range.createFromNodeAfter($image[0]).select();\r\n        afterCommand();\r\n      }).fail(function (e) {\r\n        context.triggerEvent('image.upload.error', e);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insertImages\r\n     * @param {File[]} files\r\n     */\r\n    this.insertImages = function (files) {\r\n      $.each(files, function (idx, file) {\r\n        var filename = file.name;\r\n        if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\r\n          context.triggerEvent('image.upload.error', lang.image.maximumFileSizeError);\r\n        } else {\r\n          async.readFileAsDataURL(file).then(function (dataURL) {\r\n            return self.insertImage(dataURL, filename);\r\n          }).fail(function () {\r\n            context.triggerEvent('image.upload.error');\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insertImagesOrCallback\r\n     * @param {File[]} files\r\n     */\r\n    this.insertImagesOrCallback = function (files) {\r\n      var callbacks = options.callbacks;\r\n\r\n      // If onImageUpload options setted\r\n      if (callbacks.onImageUpload) {\r\n        context.triggerEvent('image.upload', files);\r\n      // else insert Image as dataURL\r\n      } else {\r\n        this.insertImages(files);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * insertNode\r\n     * insert node\r\n     * @param {Node} node\r\n     */\r\n    this.insertNode = this.wrapCommand(function (node) {\r\n      var rng = this.createRange();\r\n      rng.insertNode(node);\r\n      range.createFromNodeAfter(node).select();\r\n    });\r\n\r\n    /**\r\n     * insert text\r\n     * @param {String} text\r\n     */\r\n    this.insertText = this.wrapCommand(function (text) {\r\n      var rng = this.createRange();\r\n      var textNode = rng.insertNode(dom.createText(text));\r\n      range.create(textNode, dom.nodeLength(textNode)).select();\r\n    });\r\n\r\n    /**\r\n     * return selected plain text\r\n     * @return {String} text\r\n     */\r\n    this.getSelectedText = function () {\r\n      var rng = this.createRange();\r\n\r\n      // if range on anchor, expand range with anchor\r\n      if (rng.isOnAnchor()) {\r\n        rng = range.createFromNode(dom.ancestor(rng.sc, dom.isAnchor));\r\n      }\r\n\r\n      return rng.toString();\r\n    };\r\n\r\n    /**\r\n     * paste HTML\r\n     * @param {String} markup\r\n     */\r\n    this.pasteHTML = this.wrapCommand(function (markup) {\r\n      var contents = this.createRange().pasteHTML(markup);\r\n      range.createFromNodeAfter(list.last(contents)).select();\r\n    });\r\n\r\n    /**\r\n     * formatBlock\r\n     *\r\n     * @param {String} tagName\r\n     */\r\n    this.formatBlock = this.wrapCommand(function (tagName, $target) {\r\n      var onApplyCustomStyle = context.options.callbacks.onApplyCustomStyle;\r\n      if (onApplyCustomStyle) {\r\n        onApplyCustomStyle.call(this, $target, context, this.onFormatBlock);\r\n      } else {\r\n        this.onFormatBlock(tagName);\r\n      }\r\n    });\r\n\r\n    this.onFormatBlock = function (tagName) {\r\n      // [workaround] for MSIE, IE need `<`\r\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\r\n      document.execCommand('FormatBlock', false, tagName);\r\n    };\r\n\r\n    this.formatPara = function () {\r\n      this.formatBlock('P');\r\n    };\r\n    context.memo('help.formatPara', lang.help.formatPara);\r\n\r\n    /* jshint ignore:start */\r\n    for (var idx = 1; idx <= 6; idx ++) {\r\n      this['formatH' + idx] = function (idx) {\r\n        return function () {\r\n          this.formatBlock('H' + idx);\r\n        };\r\n      }(idx);\r\n      context.memo('help.formatH'+idx, lang.help['formatH' + idx]);\r\n    };\r\n    /* jshint ignore:end */\r\n\r\n    /**\r\n     * fontSize\r\n     *\r\n     * @param {String} value - px\r\n     */\r\n    this.fontSize = function (value) {\r\n      var rng = this.createRange();\r\n\r\n      if (rng && rng.isCollapsed()) {\r\n        var spans = style.styleNodes(rng);\r\n        var firstSpan = list.head(spans);\r\n\r\n        $(spans).css({\r\n          'font-size': value + 'px'\r\n        });\r\n\r\n        // [workaround] added styled bogus span for style\r\n        //  - also bogus character needed for cursor position\r\n        if (firstSpan && !dom.nodeLength(firstSpan)) {\r\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\r\n          range.createFromNodeAfter(firstSpan.firstChild).select();\r\n          $editable.data(KEY_BOGUS, firstSpan);\r\n        }\r\n      } else {\r\n        beforeCommand();\r\n        $(style.styleNodes(rng)).css({\r\n          'font-size': value + 'px'\r\n        });\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * insert horizontal rule\r\n     */\r\n    this.insertHorizontalRule = this.wrapCommand(function () {\r\n      var hrNode = this.createRange().insertNode(dom.create('HR'));\r\n      if (hrNode.nextSibling) {\r\n        range.create(hrNode.nextSibling, 0).normalize().select();\r\n      }\r\n    });\r\n    context.memo('help.insertHorizontalRule', lang.help.insertHorizontalRule);\r\n\r\n    /**\r\n     * remove bogus node and character\r\n     */\r\n    this.removeBogus = function () {\r\n      var bogusNode = $editable.data(KEY_BOGUS);\r\n      if (!bogusNode) {\r\n        return;\r\n      }\r\n\r\n      var textNode = list.find(list.from(bogusNode.childNodes), dom.isText);\r\n\r\n      var bogusCharIdx = textNode.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);\r\n      if (bogusCharIdx !== -1) {\r\n        textNode.deleteData(bogusCharIdx, 1);\r\n      }\r\n\r\n      if (dom.isEmpty(bogusNode)) {\r\n        dom.remove(bogusNode);\r\n      }\r\n\r\n      $editable.removeData(KEY_BOGUS);\r\n    };\r\n\r\n    /**\r\n     * lineHeight\r\n     * @param {String} value\r\n     */\r\n    this.lineHeight = this.wrapCommand(function (value) {\r\n      style.stylePara(this.createRange(), {\r\n        lineHeight: value\r\n      });\r\n    });\r\n\r\n    /**\r\n     * unlink\r\n     *\r\n     * @type command\r\n     */\r\n    this.unlink = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isOnAnchor()) {\r\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\r\n        rng = range.createFromNode(anchor);\r\n        rng.select();\r\n\r\n        beforeCommand();\r\n        document.execCommand('unlink');\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create link (command)\r\n     *\r\n     * @param {Object} linkInfo\r\n     */\r\n    this.createLink = this.wrapCommand(function (linkInfo) {\r\n      var linkUrl = linkInfo.url;\r\n      var linkText = linkInfo.text;\r\n      var isNewWindow = linkInfo.isNewWindow;\r\n      var rng = linkInfo.range || this.createRange();\r\n      var isTextChanged = rng.toString() !== linkText;\r\n\r\n      // handle spaced urls from input\r\n      if (typeof linkUrl === 'string') {\r\n        linkUrl = linkUrl.trim();\r\n      }\r\n\r\n      if (options.onCreateLink) {\r\n        linkUrl = options.onCreateLink(linkUrl);\r\n      } else {\r\n        // if url doesn't match an URL schema, set http:// as default\r\n        linkUrl = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(linkUrl) ?\r\n          linkUrl : 'http://' + linkUrl;\r\n      }\r\n\r\n      var anchors = [];\r\n      if (isTextChanged) {\r\n        rng = rng.deleteContents();\r\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\r\n        anchors.push(anchor);\r\n      } else {\r\n        anchors = style.styleNodes(rng, {\r\n          nodeName: 'A',\r\n          expandClosestSibling: true,\r\n          onlyPartialContains: true\r\n        });\r\n      }\r\n\r\n      $.each(anchors, function (idx, anchor) {\r\n        $(anchor).attr('href', linkUrl);\r\n        if (isNewWindow) {\r\n          $(anchor).attr('target', '_blank');\r\n        } else {\r\n          $(anchor).removeAttr('target');\r\n        }\r\n      });\r\n\r\n      var startRange = range.createFromNodeBefore(list.head(anchors));\r\n      var startPoint = startRange.getStartPoint();\r\n      var endRange = range.createFromNodeAfter(list.last(anchors));\r\n      var endPoint = endRange.getEndPoint();\r\n\r\n      range.create(\r\n        startPoint.node,\r\n        startPoint.offset,\r\n        endPoint.node,\r\n        endPoint.offset\r\n      ).select();\r\n    });\r\n\r\n    /**\r\n     * returns link info\r\n     *\r\n     * @return {Object}\r\n     * @return {WrappedRange} return.range\r\n     * @return {String} return.text\r\n     * @return {Boolean} [return.isNewWindow=true]\r\n     * @return {String} [return.url=\"\"]\r\n     */\r\n    this.getLinkInfo = function () {\r\n      var rng = this.createRange().expand(dom.isAnchor);\r\n\r\n      // Get the first anchor on range(for edit).\r\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\r\n      var linkInfo = {\r\n        range: rng,\r\n        text: rng.toString(),\r\n        url: $anchor.length ? $anchor.attr('href') : ''\r\n      };\r\n\r\n      // Define isNewWindow when anchor exists.\r\n      if ($anchor.length) {\r\n        linkInfo.isNewWindow = $anchor.attr('target') === '_blank';\r\n      }\r\n\r\n      return linkInfo;\r\n    };\r\n\r\n    /**\r\n     * setting color\r\n     *\r\n     * @param {Object} sObjColor  color code\r\n     * @param {String} sObjColor.foreColor foreground color\r\n     * @param {String} sObjColor.backColor background color\r\n     */\r\n    this.color = this.wrapCommand(function (colorInfo) {\r\n      var foreColor = colorInfo.foreColor;\r\n      var backColor = colorInfo.backColor;\r\n\r\n      if (foreColor) { document.execCommand('foreColor', false, foreColor); }\r\n      if (backColor) { document.execCommand('backColor', false, backColor); }\r\n    });\r\n\r\n    /**\r\n     * Set foreground color\r\n     *\r\n     * @param {String} colorCode foreground color code\r\n     */\r\n    this.foreColor = this.wrapCommand(function (colorInfo) {\r\n      document.execCommand('styleWithCSS', false, true);\r\n      document.execCommand('foreColor', false, colorInfo);\r\n    });\r\n\r\n    /**\r\n     * insert Table\r\n     *\r\n     * @param {String} dimension of table (ex : \"5x5\")\r\n     */\r\n    this.insertTable = this.wrapCommand(function (dim) {\r\n      var dimension = dim.split('x');\r\n\r\n      var rng = this.createRange().deleteContents();\r\n      rng.insertNode(table.createTable(dimension[0], dimension[1], options));\r\n    });\r\n\r\n     /**\r\n     * @method addRow\r\n     *\r\n     *\r\n     */\r\n    this.addRow = function (position) {\r\n      var rng = this.createRange($editable);\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        beforeCommand();\r\n        table.addRow(rng, position);\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n     /**\r\n     * @method addCol\r\n     *\r\n     *\r\n     */\r\n    this.addCol = function (position) {\r\n      var rng = this.createRange($editable);\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        beforeCommand();\r\n        table.addCol(rng, position);\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method deleteRow\r\n     *\r\n     *\r\n     */\r\n    this.deleteRow = function () {\r\n      var rng = this.createRange($editable);\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        beforeCommand();\r\n        table.deleteRow(rng);\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method deleteCol\r\n     *\r\n     *\r\n     */\r\n    this.deleteCol = function () {\r\n      var rng = this.createRange($editable);\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        beforeCommand();\r\n        table.deleteCol(rng);\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method deleteTable\r\n     *\r\n     *\r\n     */\r\n    this.deleteTable = function () {\r\n      var rng = this.createRange($editable);\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        beforeCommand();\r\n        table.deleteTable(rng);\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * float me\r\n     *\r\n     * @param {String} value\r\n     */\r\n    this.floatMe = this.wrapCommand(function (value) {\r\n      var $target = $(this.restoreTarget());\r\n      $target.toggleClass('note-float-left', value === 'left');\r\n      $target.toggleClass('note-float-right', value === 'right');\r\n      $target.css('float', value);\r\n    });\r\n\r\n    /**\r\n     * resize overlay element\r\n     * @param {String} value\r\n     */\r\n    this.resize = this.wrapCommand(function (value) {\r\n      var $target = $(this.restoreTarget());\r\n      $target.css({\r\n        width: value * 100 + '%',\r\n        height: ''\r\n      });\r\n    });\r\n\r\n    /**\r\n     * @param {Position} pos\r\n     * @param {jQuery} $target - target element\r\n     * @param {Boolean} [bKeepRatio] - keep ratio\r\n     */\r\n    this.resizeTo = function (pos, $target, bKeepRatio) {\r\n      var imageSize;\r\n      if (bKeepRatio) {\r\n        var newRatio = pos.y / pos.x;\r\n        var ratio = $target.data('ratio');\r\n        imageSize = {\r\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\r\n          height: ratio > newRatio ? pos.x * ratio : pos.y\r\n        };\r\n      } else {\r\n        imageSize = {\r\n          width: pos.x,\r\n          height: pos.y\r\n        };\r\n      }\r\n\r\n      $target.css(imageSize);\r\n    };\r\n\r\n    /**\r\n     * remove media object\r\n     */\r\n    this.removeMedia = this.wrapCommand(function () {\r\n      var $target = $(this.restoreTarget()).detach();\r\n      context.triggerEvent('media.delete', $target, $editable);\r\n    });\r\n\r\n    /**\r\n     * returns whether editable area has focus or not.\r\n     */\r\n    this.hasFocus = function () {\r\n      return $editable.is(':focus');\r\n    };\r\n\r\n    /**\r\n     * set focus\r\n     */\r\n    this.focus = function () {\r\n      // [workaround] Screen will move when page is scolled in IE.\r\n      //  - do focus when not focused\r\n      if (!this.hasFocus()) {\r\n        $editable.focus();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * returns whether contents is empty or not.\r\n     * @return {Boolean}\r\n     */\r\n    this.isEmpty = function () {\r\n      return dom.isEmpty($editable[0]) || dom.emptyPara === $editable.html();\r\n    };\r\n\r\n    /**\r\n     * Removes all contents and restores the editable instance to an _emptyPara_.\r\n     */\r\n    this.empty = function () {\r\n      context.invoke('code', dom.emptyPara);\r\n    };\r\n  };\r\n\r\n  var Clipboard = function (context) {\r\n    var self = this;\r\n\r\n    var $editable = context.layoutInfo.editable;\r\n\r\n    this.events = {\r\n      'summernote.keydown': function (we, e) {\r\n        if (self.needKeydownHook()) {\r\n          if ((e.ctrlKey || e.metaKey) && e.keyCode === key.code.V) {\r\n            context.invoke('editor.saveRange');\r\n            self.$paste.focus();\r\n\r\n            setTimeout(function () {\r\n              self.pasteByHook();\r\n            }, 0);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.needKeydownHook = function () {\r\n      return (agent.isMSIE && agent.browserVersion > 10) || agent.isFF;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      // [workaround] getting image from clipboard\r\n      //  - IE11 and Firefox: CTRL+v hook\r\n      //  - Webkit: event.clipboardData\r\n      if (this.needKeydownHook()) {\r\n        this.$paste = $('<div tabindex=\"-1\" />').attr('contenteditable', true).css({\r\n          position: 'absolute',\r\n          left: -100000,\r\n          opacity: 0\r\n        });\r\n        $editable.before(this.$paste);\r\n\r\n        this.$paste.on('paste', function (event) {\r\n          context.triggerEvent('paste', event);\r\n        });\r\n      } else {\r\n        $editable.on('paste', this.pasteByEvent);\r\n      }\r\n    };\r\n\r\n    this.destroy = function () {\r\n      if (this.needKeydownHook()) {\r\n        this.$paste.remove();\r\n        this.$paste = null;\r\n      }\r\n    };\r\n\r\n    this.pasteByHook = function () {\r\n      var node = this.$paste[0].firstChild;\r\n\r\n      var src = node && node.src;\r\n      if (dom.isImg(node) && src.indexOf('data:') === 0) {\r\n        var decodedData = atob(node.src.split(',')[1]);\r\n        var array = new Uint8Array(decodedData.length);\r\n        for (var i = 0; i < decodedData.length; i++) {\r\n          array[i] = decodedData.charCodeAt(i);\r\n        }\r\n\r\n        var blob = new Blob([array], { type: 'image/png' });\r\n        blob.name = 'clipboard.png';\r\n\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.focus');\r\n        context.invoke('editor.insertImagesOrCallback', [blob]);\r\n      } else {\r\n        var pasteContent = $('<div />').html(this.$paste.html()).html();\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.focus');\r\n\r\n        if (pasteContent) {\r\n          context.invoke('editor.pasteHTML', pasteContent);\r\n        }\r\n      }\r\n\r\n      this.$paste.empty();\r\n    };\r\n\r\n    /**\r\n     * paste by clipboard event\r\n     *\r\n     * @param {Event} event\r\n     */\r\n    this.pasteByEvent = function (event) {\r\n      var clipboardData = event.originalEvent.clipboardData;\r\n      if (clipboardData && clipboardData.items && clipboardData.items.length) {\r\n        var item = list.head(clipboardData.items);\r\n        if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\r\n          context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\r\n        }\r\n        context.invoke('editor.afterCommand');\r\n      }\r\n    };\r\n  };\r\n\r\n  var Dropzone = function (context) {\r\n    var $document = $(document);\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n    var documentEventHandlers = {};\r\n\r\n    var $dropzone = $([\r\n      '<div class=\"note-dropzone\">',\r\n      '  <div class=\"note-dropzone-message\"/>',\r\n      '</div>'\r\n    ].join('')).prependTo($editor);\r\n\r\n    var detachDocumentEvent = function () {\r\n      Object.keys(documentEventHandlers).forEach(function (key) {\r\n        $document.off(key.substr(2).toLowerCase(), documentEventHandlers[key]);\r\n      });\r\n      documentEventHandlers = {};\r\n    };\r\n\r\n    /**\r\n     * attach Drag and Drop Events\r\n     */\r\n    this.initialize = function () {\r\n      if (options.disableDragAndDrop) {\r\n        // prevent default drop event\r\n        documentEventHandlers.onDrop = function (e) {\r\n          e.preventDefault();\r\n        };\r\n        $document.on('drop', documentEventHandlers.onDrop);\r\n      } else {\r\n        this.attachDragAndDropEvent();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * attach Drag and Drop Events\r\n     */\r\n    this.attachDragAndDropEvent = function () {\r\n      var collection = $(),\r\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\r\n\r\n      documentEventHandlers.onDragenter = function (e) {\r\n        var isCodeview = context.invoke('codeview.isActivated');\r\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\r\n        if (!isCodeview && !collection.length && hasEditorSize) {\r\n          $editor.addClass('dragover');\r\n          $dropzone.width($editor.width());\r\n          $dropzone.height($editor.height());\r\n          $dropzoneMessage.text(lang.image.dragImageHere);\r\n        }\r\n        collection = collection.add(e.target);\r\n      };\r\n\r\n      documentEventHandlers.onDragleave = function (e) {\r\n        collection = collection.not(e.target);\r\n        if (!collection.length) {\r\n          $editor.removeClass('dragover');\r\n        }\r\n      };\r\n\r\n      documentEventHandlers.onDrop = function () {\r\n        collection = $();\r\n        $editor.removeClass('dragover');\r\n      };\r\n\r\n      // show dropzone on dragenter when dragging a object to document\r\n      // -but only if the editor is visible, i.e. has a positive width and height\r\n      $document.on('dragenter', documentEventHandlers.onDragenter)\r\n        .on('dragleave', documentEventHandlers.onDragleave)\r\n        .on('drop', documentEventHandlers.onDrop);\r\n\r\n      // change dropzone's message on hover.\r\n      $dropzone.on('dragenter', function () {\r\n        $dropzone.addClass('hover');\r\n        $dropzoneMessage.text(lang.image.dropImage);\r\n      }).on('dragleave', function () {\r\n        $dropzone.removeClass('hover');\r\n        $dropzoneMessage.text(lang.image.dragImageHere);\r\n      });\r\n\r\n      // attach dropImage\r\n      $dropzone.on('drop', function (event) {\r\n        var dataTransfer = event.originalEvent.dataTransfer;\r\n\r\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\r\n          event.preventDefault();\r\n          $editable.focus();\r\n          context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\r\n        } else {\r\n          $.each(dataTransfer.types, function (idx, type) {\r\n            var content = dataTransfer.getData(type);\r\n\r\n            if (type.toLowerCase().indexOf('text') > -1) {\r\n              context.invoke('editor.pasteHTML', content);\r\n            } else {\r\n              $(content).each(function () {\r\n                context.invoke('editor.insertNode', this);\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }).on('dragover', false); // prevent default dragover event\r\n    };\r\n\r\n    this.destroy = function () {\r\n      detachDocumentEvent();\r\n    };\r\n  };\r\n\r\n\r\n  var CodeMirror;\r\n  if (agent.hasCodeMirror) {\r\n    if (agent.isSupportAmd) {\r\n      require(['codemirror'], function (cm) {\r\n        CodeMirror = cm;\r\n      });\r\n    } else {\r\n      CodeMirror = window.CodeMirror;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @class Codeview\r\n   */\r\n  var Codeview = function (context) {\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var $codable = context.layoutInfo.codable;\r\n    var options = context.options;\r\n\r\n    this.sync = function () {\r\n      var isCodeview = this.isActivated();\r\n      if (isCodeview && agent.hasCodeMirror) {\r\n        $codable.data('cmEditor').save();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @return {Boolean}\r\n     */\r\n    this.isActivated = function () {\r\n      return $editor.hasClass('codeview');\r\n    };\r\n\r\n    /**\r\n     * toggle codeview\r\n     */\r\n    this.toggle = function () {\r\n      if (this.isActivated()) {\r\n        this.deactivate();\r\n      } else {\r\n        this.activate();\r\n      }\r\n      context.triggerEvent('codeview.toggled');\r\n    };\r\n\r\n    /**\r\n     * activate code view\r\n     */\r\n    this.activate = function () {\r\n      $codable.val(dom.html($editable, options.prettifyHtml));\r\n      $codable.height($editable.height());\r\n\r\n      context.invoke('toolbar.updateCodeview', true);\r\n      $editor.addClass('codeview');\r\n      $codable.focus();\r\n\r\n      // activate CodeMirror as codable\r\n      if (agent.hasCodeMirror) {\r\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\r\n\r\n        // CodeMirror TernServer\r\n        if (options.codemirror.tern) {\r\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\r\n          cmEditor.ternServer = server;\r\n          cmEditor.on('cursorActivity', function (cm) {\r\n            server.updateArgHints(cm);\r\n          });\r\n        }\r\n\r\n        // CodeMirror hasn't Padding.\r\n        cmEditor.setSize(null, $editable.outerHeight());\r\n        $codable.data('cmEditor', cmEditor);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * deactivate code view\r\n     */\r\n    this.deactivate = function () {\r\n      // deactivate CodeMirror as codable\r\n      if (agent.hasCodeMirror) {\r\n        var cmEditor = $codable.data('cmEditor');\r\n        $codable.val(cmEditor.getValue());\r\n        cmEditor.toTextArea();\r\n      }\r\n\r\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\r\n      var isChange = $editable.html() !== value;\r\n\r\n      $editable.html(value);\r\n      $editable.height(options.height ? $codable.height() : 'auto');\r\n      $editor.removeClass('codeview');\r\n\r\n      if (isChange) {\r\n        context.triggerEvent('change', $editable.html(), $editable);\r\n      }\r\n\r\n      $editable.focus();\r\n\r\n      context.invoke('toolbar.updateCodeview', false);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      if (this.isActivated()) {\r\n        this.deactivate();\r\n      }\r\n    };\r\n  };\r\n\r\n  var EDITABLE_PADDING = 24;\r\n\r\n  var Statusbar = function (context) {\r\n    var $document = $(document);\r\n    var $statusbar = context.layoutInfo.statusbar;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n\r\n    this.initialize = function () {\r\n      if (options.airMode || options.disableResizeEditor) {\r\n        this.destroy();\r\n        return;\r\n      }\r\n\r\n      $statusbar.on('mousedown', function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        var editableTop = $editable.offset().top - $document.scrollTop();\r\n        var onMouseMove = function (event) {\r\n          var height = event.clientY - (editableTop + EDITABLE_PADDING);\r\n\r\n          height = (options.minheight > 0) ? Math.max(height, options.minheight) : height;\r\n          height = (options.maxHeight > 0) ? Math.min(height, options.maxHeight) : height;\r\n\r\n          $editable.height(height);\r\n        };\r\n\r\n        $document\r\n          .on('mousemove', onMouseMove)\r\n          .one('mouseup', function () {\r\n            $document.off('mousemove', onMouseMove);\r\n          });\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $statusbar.off();\r\n      $statusbar.remove();\r\n    };\r\n  };\r\n\r\n  var Fullscreen = function (context) {\r\n    var self = this;\r\n    var $editor = context.layoutInfo.editor;\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var $editable = context.layoutInfo.editable;\r\n    var $codable = context.layoutInfo.codable;\r\n\r\n    var $window = $(window);\r\n    var $scrollbar = $('html, body');\r\n\r\n    this.resizeTo = function (size) {\r\n      $editable.css('height', size.h);\r\n      $codable.css('height', size.h);\r\n      if ($codable.data('cmeditor')) {\r\n        $codable.data('cmeditor').setsize(null, size.h);\r\n      }\r\n    };\r\n\r\n    this.onResize = function () {\r\n      self.resizeTo({\r\n        h: $window.height() - $toolbar.outerHeight()\r\n      });\r\n    };\r\n\r\n    /**\r\n     * toggle fullscreen\r\n     */\r\n    this.toggle = function () {\r\n      $editor.toggleClass('fullscreen');\r\n      if (this.isFullscreen()) {\r\n        $editable.data('orgHeight', $editable.css('height'));\r\n        $window.on('resize', this.onResize).trigger('resize');\r\n        $scrollbar.css('overflow', 'hidden');\r\n      } else {\r\n        $window.off('resize', this.onResize);\r\n        this.resizeTo({ h: $editable.data('orgHeight') });\r\n        $scrollbar.css('overflow', 'visible');\r\n      }\r\n\r\n      context.invoke('toolbar.updateFullscreen', this.isFullscreen());\r\n    };\r\n\r\n    this.isFullscreen = function () {\r\n      return $editor.hasClass('fullscreen');\r\n    };\r\n  };\r\n\r\n  var Handle = function (context) {\r\n    var self = this;\r\n\r\n    var $document = $(document);\r\n    var $editingArea = context.layoutInfo.editingArea;\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.mousedown': function (we, e) {\r\n        if (self.update(e.target)) {\r\n          e.preventDefault();\r\n        }\r\n      },\r\n      'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown': function () {\r\n        self.update();\r\n      },\r\n      'summernote.disable': function () {\r\n        self.hide();\r\n      },\r\n      'summernote.codeview.toggled': function () {\r\n        self.update();\r\n      }\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$handle = $([\r\n        '<div class=\"note-handle\">',\r\n        '<div class=\"note-control-selection\">',\r\n        '<div class=\"note-control-selection-bg\"></div>',\r\n        '<div class=\"note-control-holder note-control-nw\"></div>',\r\n        '<div class=\"note-control-holder note-control-ne\"></div>',\r\n        '<div class=\"note-control-holder note-control-sw\"></div>',\r\n        '<div class=\"',\r\n        (options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing'),\r\n        ' note-control-se\"></div>',\r\n        (options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>'),\r\n        '</div>',\r\n        '</div>'\r\n      ].join('')).prependTo($editingArea);\r\n\r\n      this.$handle.on('mousedown', function (event) {\r\n        if (dom.isControlSizing(event.target)) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          var $target = self.$handle.find('.note-control-selection').data('target'),\r\n              posStart = $target.offset(),\r\n              scrollTop = $document.scrollTop();\r\n\r\n          var onMouseMove = function (event) {\r\n            context.invoke('editor.resizeTo', {\r\n              x: event.clientX - posStart.left,\r\n              y: event.clientY - (posStart.top - scrollTop)\r\n            }, $target, !event.shiftKey);\r\n\r\n            self.update($target[0]);\r\n          };\r\n\r\n          $document\r\n            .on('mousemove', onMouseMove)\r\n            .one('mouseup', function (e) {\r\n              e.preventDefault();\r\n              $document.off('mousemove', onMouseMove);\r\n              context.invoke('editor.afterCommand');\r\n            });\r\n\r\n          if (!$target.data('ratio')) { // original ratio.\r\n            $target.data('ratio', $target.height() / $target.width());\r\n          }\r\n        }\r\n      });\r\n\r\n      // Listen for scrolling on the handle overlay.\r\n      this.$handle.on('wheel', function (e) {\r\n        e.preventDefault();\r\n        self.update();\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$handle.remove();\r\n    };\r\n\r\n    this.update = function (target) {\r\n      if (context.isDisabled()) {\r\n        return false;\r\n      }\r\n\r\n      var isImage = dom.isImg(target);\r\n      var $selection = this.$handle.find('.note-control-selection');\r\n\r\n      context.invoke('imagePopover.update', target);\r\n\r\n      if (isImage) {\r\n        var $image = $(target);\r\n        var position = $image.position();\r\n        var pos = {\r\n          left: position.left + parseInt($image.css('marginLeft'), 10),\r\n          top: position.top + parseInt($image.css('marginTop'), 10)\r\n        };\r\n\r\n        // exclude margin\r\n        var imageSize = {\r\n          w: $image.outerWidth(false),\r\n          h: $image.outerHeight(false)\r\n        };\r\n\r\n        $selection.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top,\r\n          width: imageSize.w,\r\n          height: imageSize.h\r\n        }).data('target', $image); // save current image element.\r\n\r\n        var sizingText = imageSize.w + 'x' + imageSize.h;\r\n        $selection.find('.note-control-selection-info').text(sizingText);\r\n        context.invoke('editor.saveTarget', target);\r\n      } else {\r\n        this.hide();\r\n      }\r\n\r\n      return isImage;\r\n    };\r\n\r\n    /**\r\n     * hide\r\n     *\r\n     * @param {jQuery} $handle\r\n     */\r\n    this.hide = function () {\r\n      context.invoke('editor.clearTarget');\r\n      this.$handle.children().hide();\r\n    };\r\n  };\r\n\r\n  var AutoLink = function (context) {\r\n    var self = this;\r\n    var defaultScheme = 'http://';\r\n    var linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\r\n\r\n    this.events = {\r\n      'summernote.keyup': function (we, e) {\r\n        if (!e.isDefaultPrevented()) {\r\n          self.handleKeyup(e);\r\n        }\r\n      },\r\n      'summernote.keydown': function (we, e) {\r\n        self.handleKeydown(e);\r\n      }\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.lastWordRange = null;\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.lastWordRange = null;\r\n    };\r\n\r\n    this.replace = function () {\r\n      if (!this.lastWordRange) {\r\n        return;\r\n      }\r\n\r\n      var keyword = this.lastWordRange.toString();\r\n      var match = keyword.match(linkPattern);\r\n\r\n      if (match && (match[1] || match[2])) {\r\n        var link = match[1] ? keyword : defaultScheme + keyword;\r\n        var node = $('<a />').html(keyword).attr('href', link)[0];\r\n\r\n        this.lastWordRange.insertNode(node);\r\n        this.lastWordRange = null;\r\n        context.invoke('editor.focus');\r\n      }\r\n\r\n    };\r\n\r\n    this.handleKeydown = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\r\n        var wordRange = context.invoke('editor.createRange').getWordRange();\r\n        this.lastWordRange = wordRange;\r\n      }\r\n    };\r\n\r\n    this.handleKeyup = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\r\n        this.replace();\r\n      }\r\n    };\r\n  };\r\n\r\n  /**\r\n   * textarea auto sync.\r\n   */\r\n  var AutoSync = function (context) {\r\n    var $note = context.layoutInfo.note;\r\n\r\n    this.events = {\r\n      'summernote.change': function () {\r\n        $note.val(context.invoke('code'));\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return dom.isTextarea($note[0]);\r\n    };\r\n  };\r\n\r\n  var Placeholder = function (context) {\r\n    var self = this;\r\n    var $editingArea = context.layoutInfo.editingArea;\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.init summernote.change': function () {\r\n        self.update();\r\n      },\r\n      'summernote.codeview.toggled': function () {\r\n        self.update();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !!options.placeholder;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$placeholder = $('<div class=\"note-placeholder\">');\r\n      this.$placeholder.on('click', function () {\r\n        context.invoke('focus');\r\n      }).text(options.placeholder).prependTo($editingArea);\r\n\r\n      this.update();\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$placeholder.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      var isShow = !context.invoke('codeview.isActivated') && context.invoke('editor.isEmpty');\r\n      this.$placeholder.toggle(isShow);\r\n    };\r\n  };\r\n\r\n  var Buttons = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    var invertedKeyMap = func.invertObject(options.keyMap[agent.isMac ? 'mac' : 'pc']);\r\n\r\n    var representShortcut = this.representShortcut = function (editorMethod) {\r\n      var shortcut = invertedKeyMap[editorMethod];\r\n      if (!options.shortcuts || !shortcut) {\r\n        return '';\r\n      }\r\n\r\n      if (agent.isMac) {\r\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\r\n      }\r\n\r\n      shortcut = shortcut.replace('BACKSLASH', '\\\\')\r\n                         .replace('SLASH', '/')\r\n                         .replace('LEFTBRACKET', '[')\r\n                         .replace('RIGHTBRACKET', ']');\r\n\r\n      return ' (' + shortcut + ')';\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.addToolbarButtons();\r\n      this.addImagePopoverButtons();\r\n      this.addLinkPopoverButtons();\r\n      this.addTablePopoverButtons();\r\n      this.fontInstalledMap = {};\r\n    };\r\n\r\n    this.destroy = function () {\r\n      delete this.fontInstalledMap;\r\n    };\r\n\r\n    this.isFontInstalled = function (name) {\r\n      if (!self.fontInstalledMap.hasOwnProperty(name)) {\r\n        self.fontInstalledMap[name] = agent.isFontInstalled(name) ||\r\n          list.contains(options.fontNamesIgnoreCheck, name);\r\n      }\r\n\r\n      return self.fontInstalledMap[name];\r\n    };\r\n\r\n    this.addToolbarButtons = function () {\r\n      context.memo('button.style', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents(ui.icon(options.icons.magic), options),\r\n            tooltip: lang.style.style,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown({\r\n            className: 'dropdown-style',\r\n            items: context.options.styleTags,\r\n            template: function (item) {\r\n\r\n              if (typeof item === 'string') {\r\n                item = { tag: item, title: (lang.style.hasOwnProperty(item) ? lang.style[item] : item) };\r\n              }\r\n\r\n              var tag = item.tag;\r\n              var title = item.title;\r\n              var style = item.style ? ' style=\"' + item.style + '\" ' : '';\r\n              var className = item.className ? ' class=\"' + item.className + '\"' : '';\r\n\r\n              return '<' + tag + style + className + '>' + title + '</' + tag +  '>';\r\n            },\r\n            click: context.createInvokeHandler('editor.formatBlock')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.bold', function () {\r\n        return ui.button({\r\n          className: 'note-btn-bold',\r\n          contents: ui.icon(options.icons.bold),\r\n          tooltip: lang.font.bold + representShortcut('bold'),\r\n          click: context.createInvokeHandlerAndUpdateState('editor.bold')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.italic', function () {\r\n        return ui.button({\r\n          className: 'note-btn-italic',\r\n          contents: ui.icon(options.icons.italic),\r\n          tooltip: lang.font.italic + representShortcut('italic'),\r\n          click: context.createInvokeHandlerAndUpdateState('editor.italic')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.underline', function () {\r\n        return ui.button({\r\n          className: 'note-btn-underline',\r\n          contents: ui.icon(options.icons.underline),\r\n          tooltip: lang.font.underline + representShortcut('underline'),\r\n          click: context.createInvokeHandlerAndUpdateState('editor.underline')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.clear', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.eraser),\r\n          tooltip: lang.font.clear + representShortcut('removeFormat'),\r\n          click: context.createInvokeHandler('editor.removeFormat')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.strikethrough', function () {\r\n        return ui.button({\r\n          className: 'note-btn-strikethrough',\r\n          contents: ui.icon(options.icons.strikethrough),\r\n          tooltip: lang.font.strikethrough + representShortcut('strikethrough'),\r\n          click: context.createInvokeHandlerAndUpdateState('editor.strikethrough')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.superscript', function () {\r\n        return ui.button({\r\n          className: 'note-btn-superscript',\r\n          contents: ui.icon(options.icons.superscript),\r\n          tooltip: lang.font.superscript,\r\n          click: context.createInvokeHandlerAndUpdateState('editor.superscript')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.subscript', function () {\r\n        return ui.button({\r\n          className: 'note-btn-subscript',\r\n          contents: ui.icon(options.icons.subscript),\r\n          tooltip: lang.font.subscript,\r\n          click: context.createInvokeHandlerAndUpdateState('editor.subscript')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.fontname', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents('<span class=\"note-current-fontname\"/>', options),\r\n            tooltip: lang.font.name,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            className: 'dropdown-fontname',\r\n            checkClassName: options.icons.menuCheck,\r\n            items: options.fontNames.filter(self.isFontInstalled),\r\n            template: function (item) {\r\n              return '<span style=\"font-family:' + item + '\">' + item + '</span>';\r\n            },\r\n            click: context.createInvokeHandlerAndUpdateState('editor.fontName')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.fontsize', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents('<span class=\"note-current-fontsize\"/>', options),\r\n            tooltip: lang.font.size,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            className: 'dropdown-fontsize',\r\n            checkClassName: options.icons.menuCheck,\r\n            items: options.fontSizes,\r\n            click: context.createInvokeHandlerAndUpdateState('editor.fontSize')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.color', function () {\r\n        return ui.buttonGroup({\r\n          className: 'note-color',\r\n          children: [\r\n            ui.button({\r\n              className: 'note-current-color-button',\r\n              contents: ui.icon(options.icons.font + ' note-recent-color'),\r\n              tooltip: lang.color.recent,\r\n              click: function (e) {\r\n                var $button = $(e.currentTarget);\r\n                context.invoke('editor.color', {\r\n                  backColor: $button.attr('data-backColor'),\r\n                  foreColor: $button.attr('data-foreColor')\r\n                });\r\n              },\r\n              callback: function ($button) {\r\n                var $recentColor = $button.find('.note-recent-color');\r\n                $recentColor.css('background-color', '#FFFF00');\r\n                $button.attr('data-backColor', '#FFFF00');\r\n              }\r\n            }),\r\n            ui.button({\r\n              className: 'dropdown-toggle',\r\n              contents: ui.dropdownButtonContents('', options),\r\n              tooltip: lang.color.more,\r\n              data: {\r\n                toggle: 'dropdown'\r\n              }\r\n            }),\r\n            ui.dropdown({\r\n              items: [\r\n                '<div class=\"note-palette\">',\r\n                '  <div class=\"note-palette-title\">' + lang.color.background + '</div>',\r\n                '  <div>',\r\n                '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"backColor\" data-value=\"inherit\">',\r\n                lang.color.transparent,\r\n                '    </button>',\r\n                '  </div>',\r\n                '  <div class=\"note-holder\" data-event=\"backColor\"/>',\r\n                '</div>',\r\n                '<div class=\"note-palette\">',\r\n                '  <div class=\"note-palette-title\">' + lang.color.foreground + '</div>',\r\n                '  <div>',\r\n                '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"removeFormat\" data-value=\"foreColor\">',\r\n                lang.color.resetToDefault,\r\n                '    </button>',\r\n                '  </div>',\r\n                '  <div class=\"note-holder\" data-event=\"foreColor\"/>',\r\n                '</div>'\r\n              ].join(''),\r\n              callback: function ($dropdown) {\r\n                $dropdown.find('.note-holder').each(function () {\r\n                  var $holder = $(this);\r\n                  $holder.append(ui.palette({\r\n                    colors: options.colors,\r\n                    eventName: $holder.data('event'),\r\n                    tooltip: options.tooltip\r\n                  }).render());\r\n                });\r\n              },\r\n              click: function (event) {\r\n                var $button = $(event.target);\r\n                var eventName = $button.data('event');\r\n                var value = $button.data('value');\r\n\r\n                if (eventName && value) {\r\n                  var key = eventName === 'backColor' ? 'background-color' : 'color';\r\n                  var $color = $button.closest('.note-color').find('.note-recent-color');\r\n                  var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\r\n\r\n                  $color.css(key, value);\r\n                  $currentButton.attr('data-' + eventName, value);\r\n                  context.invoke('editor.' + eventName, value);\r\n                }\r\n              }\r\n            })\r\n          ]\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.ul',  function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.unorderedlist),\r\n          tooltip: lang.lists.unordered + representShortcut('insertUnorderedList'),\r\n          click: context.createInvokeHandler('editor.insertUnorderedList')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.ol', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.orderedlist),\r\n          tooltip: lang.lists.ordered + representShortcut('insertOrderedList'),\r\n          click:  context.createInvokeHandler('editor.insertOrderedList')\r\n        }).render();\r\n      });\r\n\r\n      var justifyLeft = ui.button({\r\n        contents: ui.icon(options.icons.alignLeft),\r\n        tooltip: lang.paragraph.left + representShortcut('justifyLeft'),\r\n        click: context.createInvokeHandler('editor.justifyLeft')\r\n      });\r\n\r\n      var justifyCenter = ui.button({\r\n        contents: ui.icon(options.icons.alignCenter),\r\n        tooltip: lang.paragraph.center + representShortcut('justifyCenter'),\r\n        click: context.createInvokeHandler('editor.justifyCenter')\r\n      });\r\n\r\n      var justifyRight = ui.button({\r\n        contents: ui.icon(options.icons.alignRight),\r\n        tooltip: lang.paragraph.right + representShortcut('justifyRight'),\r\n        click: context.createInvokeHandler('editor.justifyRight')\r\n      });\r\n\r\n      var justifyFull = ui.button({\r\n        contents: ui.icon(options.icons.alignJustify),\r\n        tooltip: lang.paragraph.justify + representShortcut('justifyFull'),\r\n        click: context.createInvokeHandler('editor.justifyFull')\r\n      });\r\n\r\n      var outdent = ui.button({\r\n        contents: ui.icon(options.icons.outdent),\r\n        tooltip: lang.paragraph.outdent + representShortcut('outdent'),\r\n        click: context.createInvokeHandler('editor.outdent')\r\n      });\r\n\r\n      var indent = ui.button({\r\n        contents: ui.icon(options.icons.indent),\r\n        tooltip: lang.paragraph.indent + representShortcut('indent'),\r\n        click: context.createInvokeHandler('editor.indent')\r\n      });\r\n\r\n      context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\r\n      context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\r\n      context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\r\n      context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\r\n      context.memo('button.outdent', func.invoke(outdent, 'render'));\r\n      context.memo('button.indent', func.invoke(indent, 'render'));\r\n\r\n      context.memo('button.paragraph', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents(ui.icon(options.icons.alignLeft), options),\r\n            tooltip: lang.paragraph.paragraph,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown([\r\n            ui.buttonGroup({\r\n              className: 'note-align',\r\n              children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\r\n            }),\r\n            ui.buttonGroup({\r\n              className: 'note-list',\r\n              children: [outdent, indent]\r\n            })\r\n          ])\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.height', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents(ui.icon(options.icons.textHeight), options),\r\n            tooltip: lang.font.height,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            items: options.lineHeights,\r\n            checkClassName: options.icons.menuCheck,\r\n            className: 'dropdown-line-height',\r\n            click: context.createInvokeHandler('editor.lineHeight')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.table', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.dropdownButtonContents(ui.icon(options.icons.table), options),\r\n            tooltip: lang.table.table,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown({\r\n            className: 'note-table',\r\n            items: [\r\n              '<div class=\"note-dimension-picker\">',\r\n              '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>',\r\n              '  <div class=\"note-dimension-picker-highlighted\"/>',\r\n              '  <div class=\"note-dimension-picker-unhighlighted\"/>',\r\n              '</div>',\r\n              '<div class=\"note-dimension-display\">1 x 1</div>'\r\n            ].join('')\r\n          })\r\n        ], {\r\n          callback: function ($node) {\r\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\r\n            $catcher.css({\r\n              width: options.insertTableMaxSize.col + 'em',\r\n              height: options.insertTableMaxSize.row + 'em'\r\n            }).mousedown(context.createInvokeHandler('editor.insertTable'))\r\n              .on('mousemove', self.tableMoveHandler);\r\n          }\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.link', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.link),\r\n          tooltip: lang.link.link + representShortcut('linkDialog.show'),\r\n          click: context.createInvokeHandler('linkDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.picture', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.picture),\r\n          tooltip: lang.image.image,\r\n          click: context.createInvokeHandler('imageDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.video', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.video),\r\n          tooltip: lang.video.video,\r\n          click: context.createInvokeHandler('videoDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.hr', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.minus),\r\n          tooltip: lang.hr.insert + representShortcut('insertHorizontalRule'),\r\n          click: context.createInvokeHandler('editor.insertHorizontalRule')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.fullscreen', function () {\r\n        return ui.button({\r\n          className: 'btn-fullscreen',\r\n          contents: ui.icon(options.icons.arrowsAlt),\r\n          tooltip: lang.options.fullscreen,\r\n          click: context.createInvokeHandler('fullscreen.toggle')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.codeview', function () {\r\n        return ui.button({\r\n          className: 'btn-codeview',\r\n          contents: ui.icon(options.icons.code),\r\n          tooltip: lang.options.codeview,\r\n          click: context.createInvokeHandler('codeview.toggle')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.redo', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.redo),\r\n          tooltip: lang.history.redo + representShortcut('redo'),\r\n          click: context.createInvokeHandler('editor.redo')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.undo', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.undo),\r\n          tooltip: lang.history.undo + representShortcut('undo'),\r\n          click: context.createInvokeHandler('editor.undo')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.help', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.question),\r\n          tooltip: lang.options.help,\r\n          click: context.createInvokeHandler('helpDialog.show')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    /**\r\n     * image : [\r\n     *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n     *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\r\n     *   ['remove', ['removeMedia']]\r\n     * ],\r\n     */\r\n    this.addImagePopoverButtons = function () {\r\n      // Image Size Buttons\r\n      context.memo('button.imageSize100', function () {\r\n        return ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\r\n          tooltip: lang.image.resizeFull,\r\n          click: context.createInvokeHandler('editor.resize', '1')\r\n        }).render();\r\n      });\r\n      context.memo('button.imageSize50', function () {\r\n        return  ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\r\n          tooltip: lang.image.resizeHalf,\r\n          click: context.createInvokeHandler('editor.resize', '0.5')\r\n        }).render();\r\n      });\r\n      context.memo('button.imageSize25', function () {\r\n        return ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\r\n          tooltip: lang.image.resizeQuarter,\r\n          click: context.createInvokeHandler('editor.resize', '0.25')\r\n        }).render();\r\n      });\r\n\r\n      // Float Buttons\r\n      context.memo('button.floatLeft', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignLeft),\r\n          tooltip: lang.image.floatLeft,\r\n          click: context.createInvokeHandler('editor.floatMe', 'left')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.floatRight', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignRight),\r\n          tooltip: lang.image.floatRight,\r\n          click: context.createInvokeHandler('editor.floatMe', 'right')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.floatNone', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignJustify),\r\n          tooltip: lang.image.floatNone,\r\n          click: context.createInvokeHandler('editor.floatMe', 'none')\r\n        }).render();\r\n      });\r\n\r\n      // Remove Buttons\r\n      context.memo('button.removeMedia', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.trash),\r\n          tooltip: lang.image.remove,\r\n          click: context.createInvokeHandler('editor.removeMedia')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    this.addLinkPopoverButtons = function () {\r\n      context.memo('button.linkDialogShow', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.link),\r\n          tooltip: lang.link.edit,\r\n          click: context.createInvokeHandler('linkDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.unlink', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.unlink),\r\n          tooltip: lang.link.unlink,\r\n          click: context.createInvokeHandler('editor.unlink')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    /**\r\n     * table : [\r\n     *  ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\r\n     *  ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\r\n     * ],\r\n     */\r\n    this.addTablePopoverButtons = function () {\r\n      context.memo('button.addRowUp', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.rowAbove),\r\n          tooltip: lang.table.addRowAbove,\r\n          click: context.createInvokeHandler('editor.addRow', 'top')\r\n        }).render();\r\n      });\r\n      context.memo('button.addRowDown', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.rowBelow),\r\n          tooltip: lang.table.addRowBelow,\r\n          click: context.createInvokeHandler('editor.addRow', 'bottom')\r\n        }).render();\r\n      });\r\n      context.memo('button.addColLeft', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.colBefore),\r\n          tooltip: lang.table.addColLeft,\r\n          click: context.createInvokeHandler('editor.addCol', 'left')\r\n        }).render();\r\n      });\r\n      context.memo('button.addColRight', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.colAfter),\r\n          tooltip: lang.table.addColRight,\r\n          click: context.createInvokeHandler('editor.addCol', 'right')\r\n        }).render();\r\n      });\r\n      context.memo('button.deleteRow', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.rowRemove),\r\n          tooltip: lang.table.delRow,\r\n          click: context.createInvokeHandler('editor.deleteRow')\r\n        }).render();\r\n      });\r\n      context.memo('button.deleteCol', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.colRemove),\r\n          tooltip: lang.table.delCol,\r\n          click: context.createInvokeHandler('editor.deleteCol')\r\n        }).render();\r\n      });\r\n      context.memo('button.deleteTable', function () {\r\n        return ui.button({\r\n          className: 'btn-md',\r\n          contents: ui.icon(options.icons.trash),\r\n          tooltip: lang.table.delTable,\r\n          click: context.createInvokeHandler('editor.deleteTable')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    this.build = function ($container, groups) {\r\n      for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\r\n        var group = groups[groupIdx];\r\n        var groupName = group[0];\r\n        var buttons = group[1];\r\n\r\n        var $group = ui.buttonGroup({\r\n          className: 'note-' + groupName\r\n        }).render();\r\n\r\n        for (var idx = 0, len = buttons.length; idx < len; idx++) {\r\n          var button = context.memo('button.' + buttons[idx]);\r\n          if (button) {\r\n            $group.append(typeof button === 'function' ? button(context) : button);\r\n          }\r\n        }\r\n        $group.appendTo($container);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @param {jQuery} [$container]\r\n     */\r\n    this.updateCurrentStyle = function ($container) {\r\n      var $cont = $container || $toolbar;\r\n      \r\n      var styleInfo = context.invoke('editor.currentStyle');\r\n      this.updateBtnStates($cont, {\r\n        '.note-btn-bold': function () {\r\n          return styleInfo['font-bold'] === 'bold';\r\n        },\r\n        '.note-btn-italic': function () {\r\n          return styleInfo['font-italic'] === 'italic';\r\n        },\r\n        '.note-btn-underline': function () {\r\n          return styleInfo['font-underline'] === 'underline';\r\n        },\r\n        '.note-btn-subscript': function () {\r\n          return styleInfo['font-subscript'] === 'subscript';\r\n        },\r\n        '.note-btn-superscript': function () {\r\n          return styleInfo['font-superscript'] === 'superscript';\r\n        },\r\n        '.note-btn-strikethrough': function () {\r\n          return styleInfo['font-strikethrough'] === 'strikethrough';\r\n        }\r\n      });\r\n\r\n      if (styleInfo['font-family']) {\r\n        var fontNames = styleInfo['font-family'].split(',').map(function (name) {\r\n          return name.replace(/[\\'\\\"]/g, '')\r\n            .replace(/\\s+$/, '')\r\n            .replace(/^\\s+/, '');\r\n        });\r\n        var fontName = list.find(fontNames, self.isFontInstalled);\r\n\r\n        $cont.find('.dropdown-fontname a').each(function () {\r\n          var $item = $(this);\r\n          // always compare string to avoid creating another func.\r\n          var isChecked = ($item.data('value') + '') === (fontName + '');\r\n          $item.toggleClass('checked', isChecked);\r\n        });\r\n        $cont.find('.note-current-fontname').text(fontName);\r\n      }\r\n\r\n      if (styleInfo['font-size']) {\r\n        var fontSize = styleInfo['font-size'];\r\n        $cont.find('.dropdown-fontsize a').each(function () {\r\n          var $item = $(this);\r\n          // always compare with string to avoid creating another func.\r\n          var isChecked = ($item.data('value') + '') === (fontSize + '');\r\n          $item.toggleClass('checked', isChecked);\r\n        });\r\n        $cont.find('.note-current-fontsize').text(fontSize);\r\n      }\r\n\r\n      if (styleInfo['line-height']) {\r\n        var lineHeight = styleInfo['line-height'];\r\n        $cont.find('.dropdown-line-height li a').each(function () {\r\n          // always compare with string to avoid creating another func.\r\n          var isChecked = ($(this).data('value') + '') === (lineHeight + '');\r\n          this.className = isChecked ? 'checked' : '';\r\n        });\r\n      }\r\n    };\r\n\r\n    this.updateBtnStates = function ($container, infos) {\r\n      $.each(infos, function (selector, pred) {\r\n        ui.toggleBtnActive($container.find(selector), pred());\r\n      });\r\n    };\r\n\r\n    this.tableMoveHandler = function (event) {\r\n      var PX_PER_EM = 18;\r\n      var $picker = $(event.target.parentNode); // target is mousecatcher\r\n      var $dimensionDisplay = $picker.next();\r\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\r\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\r\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\r\n\r\n      var posOffset;\r\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\r\n      if (event.offsetX === undefined) {\r\n        var posCatcher = $(event.target).offset();\r\n        posOffset = {\r\n          x: event.pageX - posCatcher.left,\r\n          y: event.pageY - posCatcher.top\r\n        };\r\n      } else {\r\n        posOffset = {\r\n          x: event.offsetX,\r\n          y: event.offsetY\r\n        };\r\n      }\r\n\r\n      var dim = {\r\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\r\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\r\n      };\r\n\r\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\r\n      $catcher.data('value', dim.c + 'x' + dim.r);\r\n\r\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\r\n        $unhighlighted.css({ width: dim.c + 1 + 'em'});\r\n      }\r\n\r\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\r\n        $unhighlighted.css({ height: dim.r + 1 + 'em'});\r\n      }\r\n\r\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\r\n    };\r\n  };\r\n\r\n  var Toolbar = function (context) {\r\n    var ui = $.summernote.ui;\r\n\r\n    var $note = context.layoutInfo.note;\r\n    var $editor = context.layoutInfo.editor;\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var options = context.options;\r\n\r\n    this.shouldInitialize = function () {\r\n      return !options.airMode;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      options.toolbar = options.toolbar || [];\r\n\r\n      if (!options.toolbar.length) {\r\n        $toolbar.hide();\r\n      } else {\r\n        context.invoke('buttons.build', $toolbar, options.toolbar);\r\n      }\r\n\r\n      if (options.toolbarContainer) {\r\n        $toolbar.appendTo(options.toolbarContainer);\r\n      }\r\n\r\n      this.changeContainer(false);\r\n\r\n      $note.on('summernote.keyup summernote.mouseup summernote.change', function () {\r\n        context.invoke('buttons.updateCurrentStyle');\r\n      });\r\n\r\n      context.invoke('buttons.updateCurrentStyle');\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $toolbar.children().remove();\r\n    };\r\n\r\n    this.changeContainer = function (isFullscreen) {\r\n      if (isFullscreen) {\r\n        $toolbar.prependTo($editor);\r\n      } else {\r\n        if (options.toolbarContainer) {\r\n          $toolbar.appendTo(options.toolbarContainer);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.updateFullscreen = function (isFullscreen) {\r\n      ui.toggleBtnActive($toolbar.find('.btn-fullscreen'), isFullscreen);\r\n\r\n      this.changeContainer(isFullscreen);\r\n    };\r\n\r\n    this.updateCodeview = function (isCodeview) {\r\n      ui.toggleBtnActive($toolbar.find('.btn-codeview'), isCodeview);\r\n      if (isCodeview) {\r\n        this.deactivate();\r\n      } else {\r\n        this.activate();\r\n      }\r\n    };\r\n\r\n    this.activate = function (isIncludeCodeview) {\r\n      var $btn = $toolbar.find('button');\r\n      if (!isIncludeCodeview) {\r\n        $btn = $btn.not('.btn-codeview');\r\n      }\r\n      ui.toggleBtn($btn, true);\r\n    };\r\n\r\n    this.deactivate = function (isIncludeCodeview) {\r\n      var $btn = $toolbar.find('button');\r\n      if (!isIncludeCodeview) {\r\n        $btn = $btn.not('.btn-codeview');\r\n      }\r\n      ui.toggleBtn($btn, false);\r\n    };\r\n  };\r\n\r\n  var LinkDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = '<div class=\"form-group note-form-group\">' +\r\n                   '<label class=\"note-form-label\">' + lang.link.textToDisplay + '</label>' +\r\n                   '<input class=\"note-link-text form-control '+\r\n                   ' note-form-control  note-input\" type=\"text\" />' +\r\n                 '</div>' +\r\n                 '<div class=\"form-group note-form-group\">' +\r\n                   '<label class=\"note-form-label\">' + lang.link.url + '</label>' +\r\n                   '<input class=\"note-link-url form-control note-form-control ' +\r\n                   'note-input\" type=\"text\" value=\"http://\" />' +\r\n                 '</div>' +\r\n      (!options.disableLinkTarget ?\r\n          $('<div/>').append(ui.checkbox({ id: 'sn-checkbox-open-in-new-window', text: lang.link.openInNewWindow, checked: true }).render())\r\n              .html()\r\n          : '');\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary ' +\r\n      'note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        className: 'link-dialog',\r\n        title: lang.link.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * toggle update button\r\n     */\r\n    this.toggleLinkBtn = function ($linkBtn, $linkText, $linkUrl) {\r\n      ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\r\n    };\r\n\r\n    /**\r\n     * Show link dialog and set event handlers on dialog controls.\r\n     *\r\n     * @param {Object} linkInfo\r\n     * @return {Promise}\r\n     */\r\n    this.showLinkDialog = function (linkInfo) {\r\n      return $.Deferred(function (deferred) {\r\n        var $linkText = self.$dialog.find('.note-link-text'),\r\n        $linkUrl = self.$dialog.find('.note-link-url'),\r\n        $linkBtn = self.$dialog.find('.note-link-btn'),\r\n        $openInNewWindow = self.$dialog.find('input[type=checkbox]');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n\r\n          // if no url was given, copy text to url\r\n          if (!linkInfo.url) {\r\n            linkInfo.url = linkInfo.text;\r\n          }\r\n\r\n          $linkText.val(linkInfo.text);\r\n\r\n          var handleLinkTextUpdate = function () {\r\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n            // if linktext was modified by keyup,\r\n            // stop cloning text from linkUrl\r\n            linkInfo.text = $linkText.val();\r\n          };\r\n\r\n          $linkText.on('input', handleLinkTextUpdate).on('paste', function () {\r\n            setTimeout(handleLinkTextUpdate, 0);\r\n          });\r\n\r\n          var handleLinkUrlUpdate = function () {\r\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n            // display same link on `Text to display` input\r\n            // when create a new link\r\n            if (!linkInfo.text) {\r\n              $linkText.val($linkUrl.val());\r\n            }\r\n          };\r\n\r\n          $linkUrl.on('input', handleLinkUrlUpdate).on('paste', function () {\r\n            setTimeout(handleLinkUrlUpdate, 0);\r\n          }).val(linkInfo.url).trigger('focus');\r\n\r\n          self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n          self.bindEnterKey($linkUrl, $linkBtn);\r\n          self.bindEnterKey($linkText, $linkBtn);\r\n\r\n          var isChecked = linkInfo.isNewWindow !== undefined ?\r\n            linkInfo.isNewWindow : context.options.linkTargetBlank;\r\n\r\n          $openInNewWindow.prop('checked', isChecked);\r\n\r\n          $linkBtn.one('click', function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve({\r\n              range: linkInfo.range,\r\n              url: $linkUrl.val(),\r\n              text: $linkText.val(),\r\n              isNewWindow: $openInNewWindow.is(':checked')\r\n            });\r\n            ui.hideDialog(self.$dialog);\r\n          });\r\n        });\r\n\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          // detach events\r\n          $linkText.off('input paste keypress');\r\n          $linkUrl.off('input paste keypress');\r\n          $linkBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      }).promise();\r\n    };\r\n\r\n    /**\r\n     * @param {Object} layoutInfo\r\n     */\r\n    this.show = function () {\r\n      var linkInfo = context.invoke('editor.getLinkInfo');\r\n\r\n      context.invoke('editor.saveRange');\r\n      this.showLinkDialog(linkInfo).then(function (linkInfo) {\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.createLink', linkInfo);\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n    context.memo('help.linkDialog.show', options.langInfo.help['linkDialog.show']);\r\n  };\r\n\r\n  var LinkPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function () {\r\n        self.update();\r\n      },\r\n      'summernote.disable summernote.dialog.shown': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !list.isEmpty(options.popover.link);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-link-popover',\r\n        callback: function ($node) {\r\n          var $content = $node.find('.popover-content,.note-popover-content');\r\n          $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\r\n        }\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.link);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      // Prevent focusing on editable when invoke('code') is executed\r\n      if (!context.invoke('editor.hasFocus')) {\r\n        this.hide();\r\n        return;\r\n      }\r\n\r\n      var rng = context.invoke('editor.createRange');\r\n      if (rng.isCollapsed() && rng.isOnAnchor()) {\r\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\r\n        var href = $(anchor).attr('href');\r\n        this.$popover.find('a').attr('href', href).html(href);\r\n\r\n        var pos = dom.posFromPlaceholder(anchor);\r\n        this.$popover.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top\r\n        });\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var ImageDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var imageLimitation = '';\r\n      if (options.maximumImageFileSize) {\r\n        var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\r\n        var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\r\n                           ' ' + ' KMGTP'[unit] + 'B';\r\n        imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\r\n      }\r\n\r\n      var body = '<div class=\"form-group note-form-group note-group-select-from-files\">' +\r\n                   '<label class=\"note-form-label\">' + lang.image.selectFromFiles + '</label>' +\r\n                   '<input class=\"note-image-input form-control note-form-control note-input\" '+\r\n                   ' type=\"file\" name=\"files\" accept=\"image/jpg,image/jpeg,image/png,image/gif,image/webp,image/bmp\" multiple=\"multiple\" />' +\r\n                   imageLimitation +\r\n                 '</div>' + \r\n                 '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">' +\r\n                   '<label class=\"note-form-label\">' + lang.image.url + '</label>' +\r\n                   '<input class=\"note-image-url form-control note-form-control note-input ' +\r\n                   ' col-md-12\" type=\"text\" />' +\r\n                 '</div>';\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary ' +\r\n      'note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.image.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    this.show = function () {\r\n      context.invoke('editor.saveRange');\r\n      this.showImageDialog().then(function (data) {\r\n        // [workaround] hide dialog before restore range for IE range focus\r\n        ui.hideDialog(self.$dialog);\r\n        context.invoke('editor.restoreRange');\r\n\r\n        if (typeof data === 'string') { // image url\r\n          context.invoke('editor.insertImage', data);\r\n        } else { // array of files\r\n          context.invoke('editor.insertImagesOrCallback', data);\r\n        }\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n\r\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\r\n    this.showImageDialog = function () {\r\n      return $.Deferred(function (deferred) {\r\n        var $imageInput = self.$dialog.find('.note-image-input'),\r\n            $imageUrl = self.$dialog.find('.note-image-url'),\r\n            $imageBtn = self.$dialog.find('.note-image-btn');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n\r\n          // Cloning imageInput to clear element.\r\n          $imageInput.replaceWith($imageInput.clone()\r\n            .on('change', function () {\r\n              deferred.resolve(this.files || this.value);\r\n            })\r\n            .val('')\r\n          );\r\n\r\n          $imageBtn.click(function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve($imageUrl.val());\r\n          });\r\n\r\n          $imageUrl.on('keyup paste', function () {\r\n            var url = $imageUrl.val();\r\n            ui.toggleBtn($imageBtn, url);\r\n          }).val('').trigger('focus');\r\n          self.bindEnterKey($imageUrl, $imageBtn);\r\n        });\r\n\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          $imageInput.off('change');\r\n          $imageUrl.off('keyup paste keypress');\r\n          $imageBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      });\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * Image popover module\r\n   *  mouse events that show/hide popover will be handled by Handle.js.\r\n   *  Handle.js will receive the events and invoke 'imagePopover.update'.\r\n   */\r\n  var ImagePopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editable = context.layoutInfo.editable;\r\n    var editable = $editable[0];\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.disable': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !list.isEmpty(options.popover.image);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-image-popover'\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.image);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function (target) {\r\n      if (dom.isImg(target)) {\r\n        var pos = dom.posFromPlaceholder(target);\r\n        var posEditor = dom.posFromPlaceholder(editable);\r\n\r\n        this.$popover.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: Math.min(pos.top, posEditor.top)\r\n        });\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var TablePopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.mousedown': function (we, e) {\r\n        self.update(e.target);\r\n      },\r\n      'summernote.keyup summernote.scroll summernote.change': function () {\r\n        self.update();\r\n      },\r\n      'summernote.disable': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !list.isEmpty(options.popover.table);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-table-popover'\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content,.note-popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.table);\r\n\r\n      // [workaround] Disable Firefox's default table editor\r\n      if (agent.isFF) {\r\n        document.execCommand('enableInlineTableEditing', false, false);\r\n      }\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function (target) {\r\n      if (context.isDisabled()) {\r\n        return false;\r\n      }\r\n\r\n      var isCell = dom.isCell(target);\r\n\r\n      if (isCell) {\r\n        var pos = dom.posFromPlaceholder(target);\r\n        this.$popover.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top\r\n        });\r\n      } else {\r\n        this.hide();\r\n      }\r\n\r\n      return isCell;\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var VideoDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = '<div class=\"form-group note-form-group row-fluid\">' +\r\n          '<label class=\"note-form-label\">' + lang.video.url + ' <small class=\"text-muted\">' + lang.video.providers.toString() + '</small></label>' +\r\n          '<input class=\"note-video-url form-control  note-form-control note-input span12\" ' + \r\n          ' type=\"text\" />' +\r\n          '</div><div class=\"alert alert-danger note-video-danger hidden\" style=\"padding:0px 15px\" role=\"alert\">'+\r\n          '</div>';\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-btn note-btn-primary' + \r\n      ' note-video-btn disabled\" disabled>' + lang.video.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.video.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * createVideoNode 创建视频\r\n     * @update 2017/11/30\r\n     * @param  { String } str 用户填入视频元素可能是iframe、oject等\r\n     * @return {[type]}     [description]\r\n     */\r\n    this.createVideoNode = function (str) {\r\n      \r\n      var $video = $(str);\r\n      $video.addClass('note-video-clip');\r\n      console.log($video)\r\n      return $video[0];\r\n      \r\n    }\r\n    // this.createVideoNode = function (url) {\r\n    //   // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\r\n    //   var ytRegExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n    //   var ytMatch = url.match(ytRegExp);\r\n\r\n    //   var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\r\n    //   var igMatch = url.match(igRegExp);\r\n\r\n    //   var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\r\n    //   var vMatch = url.match(vRegExp);\r\n\r\n    //   var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\r\n    //   var vimMatch = url.match(vimRegExp);\r\n\r\n    //   var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\r\n    //   var dmMatch = url.match(dmRegExp);\r\n\r\n    //   var youkuRegExp = /\\/\\/player\\.youku\\.com\\/embed\\/(.*)/;\r\n    //   var youkuMatch = url.match(youkuRegExp);\r\n\r\n    //   var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\r\n    //   var qqMatch = url.match(qqRegExp);\r\n\r\n    //   var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\r\n    //   var qqMatch2 = url.match(qqRegExp2);\r\n    //   //2017/11/24\r\n    //   var qqRegExp3 = /\\/\\/imgcache\\.qq\\.com.*/;\r\n    //   var qqMatch3 = url.match(qqRegExp3);\r\n\r\n    //   var mp4RegExp = /^.+.(mp4|m4v)$/;\r\n    //   var mp4Match = url.match(mp4RegExp);\r\n\r\n    //   var oggRegExp = /^.+.(ogg|ogv)$/;\r\n    //   var oggMatch = url.match(oggRegExp);\r\n\r\n    //   var webmRegExp = /^.+.(webm)$/;\r\n    //   var webmMatch = url.match(webmRegExp);\r\n\r\n    //   //2017/11/24新增\r\n    //   //爱奇艺\r\n    //   var iqiyiRegExp = /\\/\\/player\\.video\\.qiyi\\.com\\/(.*)/;\r\n    //   var iqiyiMatch = url.match(iqiyiRegExp)\r\n    //   var iqiyiRegExp2 = /\\/\\/open\\.iqiyi\\.com\\/developer\\/player\\_js\\/(.*)/;\r\n    //   var iqiyiMatch2 = url.match(iqiyiRegExp2)\r\n    //   //芒果TV\r\n    //   var mgtvRegExp = /\\/\\/player\\.mgtv\\.com\\/mgtv_v5_main\\/main\\.swf\\?play_type\\=1\\&video\\_id\\=(\\d+)/;\r\n    //   var mgtvMatch = url.match(mgtvRegExp);\r\n    //   //新浪视频\r\n    //   var sinaRegExp = /\\/\\/video\\.sina\\.com\\.cn\\/share\\/video\\/(\\d+)\\.swf\\&topBar\\=1\\&autoplay\\=false\\&plid\\=(\\d+)/;\r\n    //   var singMatch = url.match(sinaRegExp);\r\n    //   //凤凰视频;\r\n    //   var ifengRegExp = /\\/\\/v\\.ifeng\\.com\\/include\\/exterior\\.swf\\?guid\\=(.*)\\&AutoPlay\\=false/;\r\n    //   var ifengMatch = url.match(ifengRegExp);\r\n    //   //搜狐\r\n    //   var sohuRegExp = /\\/\\/share\\.vrs\\.sohu\\.com\\/(\\d+)\\/v\\.swf/;\r\n    //   var sohuMatch = url.match(sohuRegExp);\r\n    //   var sohuRegExp2 = /\\/\\/tv\\.sohu\\.com\\/upload\\/static\\/share\\/share\\_play\\.html\\#(.*)/;\r\n    //   var sohuMatch2 = url.match(sohuRegExp2);\r\n    //   //乐视\r\n    //   var leRegExp = /\\/\\/(.*)\\.letv\\.com\\/ptv\\/player\\/swfPlayer\\.swf\\?autoPlay\\=0\\&id\\=(\\d+)/;\r\n    //   var leMatch = url.match(leRegExp);\r\n    //   //bilibili\r\n    //   var bilibiliRegExp = /static\\.hdslb\\.com\\/miniloader\\.swf\\?aid\\=(\\d+)\\&page/;\r\n    //   var bilibiliMatch = url.match(bilibiliRegExp);\r\n\r\n    //   var $video;\r\n    //   var $embed = $('<embed allowFullScreen=\"true\" quality=\"high\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\">')\r\n    //   if (ytMatch && ytMatch[1].length === 11) {\r\n    //     var youtubeId = ytMatch[1];\r\n    //     $video = $('<iframe>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', '//www.youtube.com/embed/' + youtubeId)\r\n    //         .attr('width', '640').attr('height', '360');\r\n    //   } else if(bilibiliMatch && bilibiliMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//static.hdslb.com/miniloader.swf?aid='+ bilibiliMatch[1] +'&page=1');         \r\n    //   } else if(leMatch && leMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//'+ leMatch[1] +'.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id='+ leMatch[2]); \r\n    //   } else if(sohuMatch2 && sohuMatch2[1].length){\r\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//tv.sohu.com/upload/static/share/share_play.html#'+ sohuMatch2[1]);   \r\n    //   } else if(sohuMatch && sohuMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//share.vrs.sohu.com/'+ sohuMatch[1] +'/v.swf&topBar=1&autoplay=false&plid='+ sohuMatch[2] +'&pub_catecode=0&from=page');            \r\n    //   } else if(ifengMatch && ifengMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//v.ifeng.com/include/exterior.swf?guid=' + ifengMatch[1] + '&AutoPlay=false');       \r\n\r\n    //   } else if(singMatch && singMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//video.sina.com.cn/share/video/' + singMatch[1] + '.swf');          \r\n    //   } else if(mgtvMatch && mgtvMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '425')\r\n    //         .attr('width', '580')\r\n    //         .attr('src', '//player.mgtv.com/mgtv_v5_main/main.swf?play_type=1&video_id=' + mgtvMatch[1]);        \r\n    //   } else if(iqiyiMatch && iqiyiMatch[1].length){\r\n    //     $video = $embed\r\n    //         .attr('height', '360')\r\n    //         .attr('width', '640')\r\n    //         .attr('src', '//player.video.qiyi.com/' + iqiyiMatch[1]);\r\n    //   } else if(iqiyiMatch2 && iqiyiMatch2[1].length){\r\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', '//open.iqiyi.com/developer/player_js/' + iqiyiMatch2[1])\r\n    //         .attr('width', '640').attr('height', '360');\r\n    //   } else if (igMatch && igMatch[0].length) {\r\n    //     $video = $('<iframe>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\r\n    //         .attr('width', '612').attr('height', '710')\r\n    //         .attr('scrolling', 'no')\r\n    //         .attr('allowtransparency', 'true');\r\n    //   } else if (vMatch && vMatch[0].length) {\r\n    //     $video = $('<iframe>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', vMatch[0] + '/embed/simple')\r\n    //         .attr('width', '600').attr('height', '600')\r\n    //         .attr('class', 'vine-embed');\r\n    //   } else if (vimMatch && vimMatch[3].length) {\r\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\r\n    //         .attr('width', '640').attr('height', '360');\r\n    //   } else if (dmMatch && dmMatch[2].length) {\r\n    //     $video = $('<iframe>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\r\n    //         .attr('width', '640').attr('height', '360');\r\n    //   } else if (youkuMatch && youkuMatch[1].length) {\r\n    //     $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('height', '498')\r\n    //         .attr('width', '510')\r\n    //         .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\r\n    //   } else if(qqMatch3 && qqMatch3[0].length){\r\n    //     $video = $('<embed allowFullScreen=\"true\" quality=\"high\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\">')\r\n    //         .attr('height', '498')\r\n    //         .attr('width', '640')\r\n    //         .attr('src', qqMatch3[0]);\r\n    //   } else if ((qqMatch && qqMatch[1].length) || (qqMatch2 && qqMatch2[2].length)) {\r\n    //     var vid = ((qqMatch && qqMatch[1].length) ? qqMatch[1]:qqMatch2[2]);\r\n    //     $video = $('<embed webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n    //         .attr('frameborder', 0)\r\n    //         .attr('height', '310')\r\n    //         .attr('width', '500')\r\n    //         .attr('src', 'http://v.qq.com/iframe/player.html?vid=' + vid + '&amp;auto=0');\r\n    //   } else if (mp4Match || oggMatch || webmMatch) {\r\n    //     $video = $('<video controls>')\r\n    //         .attr('src', url)\r\n    //         .attr('width', '640').attr('height', '360');\r\n    //   } else {\r\n    //     // this is not a known video link. Now what, Cat? Now what?\r\n    //     return false;\r\n    //   }\r\n\r\n    //   $video.addClass('note-video-clip');\r\n\r\n    //   return $video[0];\r\n    // };\r\n    this.show = function () {\r\n      var text = context.invoke('editor.getSelectedText');\r\n      context.invoke('editor.saveRange');\r\n      this.showVideoDialog(text).then(function (url) {\r\n        // [workaround] hide dialog before restore range for IE range focus\r\n        ui.hideDialog(self.$dialog);\r\n        context.invoke('editor.restoreRange');\r\n\r\n        // build node\r\n        var $node = self.createVideoNode(url);\r\n\r\n        if ($node) {\r\n          // insert video node\r\n          context.invoke('editor.insertNode', $node);\r\n        }\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n\r\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\r\n    this.showVideoDialog = function (text) {\r\n      return $.Deferred(function (deferred) {\r\n        var $videoUrl = self.$dialog.find('.note-video-url'),\r\n            //2017-11-20\r\n            $videoError = self.$dialog.find('.note-video-danger'),\r\n            $videoBtn = self.$dialog.find('.note-video-btn');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n          \r\n          $videoUrl.val(text).on('input', function () {\r\n            var $node = self.createVideoNode($videoUrl.val());\r\n            ui.toggleBtn($videoBtn, $node);\r\n          }).trigger('focus');\r\n\r\n          $videoBtn.click(function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve($videoUrl.val());\r\n          });\r\n\r\n          self.bindEnterKey($videoUrl, $videoBtn);\r\n        });\r\n        //2017-11-20\r\n        $videoUrl.on('keyup keydown change blur', function(){\r\n          var url = $videoUrl.val()\r\n          if(url) {\r\n            var $node = self.createVideoNode($videoUrl.val());\r\n            if(!$node) {\r\n              $videoError.removeClass('hidden')\r\n              $videoError.html('视频格式不正确，请重新输入；')\r\n            }else {\r\n              $videoError.addClass('hidden')\r\n            }\r\n          }else {\r\n            $videoError.addClass('hidden')\r\n          }\r\n          \r\n        })\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          $videoUrl.off('input');\r\n          $videoBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      });\r\n    };\r\n  };\r\n\r\n  var HelpDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.createShortCutList = function () {\r\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\r\n      return Object.keys(keyMap).map(function (key) {\r\n        var command = keyMap[key];\r\n        var $row = $('<div><div class=\"help-list-item\"/></div>');\r\n        $row.append($('<label><kbd>' + key + '</kdb></label>').css({\r\n          'width': 180,\r\n          'margin-right': 10\r\n        })).append($('<span/>').html(context.memo('help.' + command) || command));\r\n        return $row.html();\r\n      }).join('');\r\n    };\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = [\r\n        '<p class=\"text-center\">',\r\n        '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.8</a> · ',\r\n        '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a> · ',\r\n        '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',\r\n        '</p>'\r\n      ].join('');\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.options.help,\r\n        fade: options.dialogsFade,\r\n        body: this.createShortCutList(),\r\n        footer: body,\r\n        callback: function ($node) {\r\n          $node.find('.modal-body,.note-modal-body').css({\r\n            'max-height': 300,\r\n            'overflow': 'scroll'\r\n          });\r\n        }\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    /**\r\n     * show help dialog\r\n     *\r\n     * @return {Promise}\r\n     */\r\n    this.showHelpDialog = function () {\r\n      return $.Deferred(function (deferred) {\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n          deferred.resolve();\r\n        });\r\n        ui.showDialog(self.$dialog);\r\n      }).promise();\r\n    };\r\n\r\n    this.show = function () {\r\n      context.invoke('editor.saveRange');\r\n      this.showHelpDialog().then(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n  };\r\n\r\n  var AirPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    var AIR_MODE_POPOVER_X_OFFSET = 20;\r\n\r\n    this.events = {\r\n      'summernote.keyup summernote.mouseup summernote.scroll': function () {\r\n        self.update();\r\n      },\r\n      'summernote.disable summernote.change summernote.dialog.shown': function () {\r\n        self.hide();\r\n      },\r\n      'summernote.focusout': function (we, e) {\r\n        // [workaround] Firefox doesn't support relatedTarget on focusout\r\n        //  - Ignore hide action on focus out in FF.\r\n        if (agent.isFF) {\r\n          return;\r\n        }\r\n\r\n        if (!e.relatedTarget || !dom.ancestor(e.relatedTarget, func.eq(self.$popover[0]))) {\r\n          self.hide();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return options.airMode && !list.isEmpty(options.popover.air);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-air-popover'\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.air);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      var styleInfo = context.invoke('editor.currentStyle');\r\n      if (styleInfo.range && !styleInfo.range.isCollapsed()) {\r\n        var rect = list.last(styleInfo.range.getClientRects());\r\n        if (rect) {\r\n          var bnd = func.rect2bnd(rect);\r\n          this.$popover.css({\r\n            display: 'block',\r\n            left: Math.max(bnd.left + bnd.width / 2, 0) - AIR_MODE_POPOVER_X_OFFSET,\r\n            top: bnd.top + bnd.height\r\n          });\r\n          context.invoke('buttons.updateCurrentStyle', this.$popover);\r\n        }\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var HintPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var POPOVER_DIST = 5;\r\n    var hint = context.options.hint || [];\r\n    var direction = context.options.hintDirection || 'bottom';\r\n    var hints = $.isArray(hint) ? hint : [hint];\r\n\r\n    this.events = {\r\n      'summernote.keyup': function (we, e) {\r\n        if (!e.isDefaultPrevented()) {\r\n          self.handleKeyup(e);\r\n        }\r\n      },\r\n      'summernote.keydown': function (we, e) {\r\n        self.handleKeydown(e);\r\n      },\r\n      'summernote.disable summernote.dialog.shown': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return hints.length > 0;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.lastWordRange = null;\r\n      this.$popover = ui.popover({\r\n        className: 'note-hint-popover',\r\n        hideArrow: true,\r\n        direction: ''\r\n      }).render().appendTo('body');\r\n\r\n      this.$popover.hide();\r\n\r\n      this.$content = this.$popover.find('.popover-content,.note-popover-content');\r\n\r\n      this.$content.on('click', '.note-hint-item', function () {\r\n        self.$content.find('.active').removeClass('active');\r\n        $(this).addClass('active');\r\n        self.replace();\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.selectItem = function ($item) {\r\n      this.$content.find('.active').removeClass('active');\r\n      $item.addClass('active');\r\n\r\n      this.$content[0].scrollTop = $item[0].offsetTop - (this.$content.innerHeight() / 2);\r\n    };\r\n\r\n    this.moveDown = function () {\r\n      var $current = this.$content.find('.note-hint-item.active');\r\n      var $next = $current.next();\r\n\r\n      if ($next.length) {\r\n        this.selectItem($next);\r\n      } else {\r\n        var $nextGroup = $current.parent().next();\r\n\r\n        if (!$nextGroup.length) {\r\n          $nextGroup = this.$content.find('.note-hint-group').first();\r\n        }\r\n\r\n        this.selectItem($nextGroup.find('.note-hint-item').first());\r\n      }\r\n    };\r\n\r\n    this.moveUp = function () {\r\n      var $current = this.$content.find('.note-hint-item.active');\r\n      var $prev = $current.prev();\r\n\r\n      if ($prev.length) {\r\n        this.selectItem($prev);\r\n      } else {\r\n        var $prevGroup = $current.parent().prev();\r\n\r\n        if (!$prevGroup.length) {\r\n          $prevGroup = this.$content.find('.note-hint-group').last();\r\n        }\r\n\r\n        this.selectItem($prevGroup.find('.note-hint-item').last());\r\n      }\r\n    };\r\n\r\n    this.replace = function () {\r\n      var $item = this.$content.find('.note-hint-item.active');\r\n\r\n      if ($item.length) {\r\n        var node = this.nodeFromItem($item);\r\n        // XXX: consider to move codes to editor for recording redo/undo.\r\n        this.lastWordRange.insertNode(node);\r\n        range.createFromNode(node).collapse().select();\r\n\r\n        this.lastWordRange = null;\r\n        this.hide();\r\n        context.triggerEvent('change', context.layoutInfo.editable.html(), context.layoutInfo.editable);\r\n        context.invoke('editor.focus');\r\n      }\r\n\r\n    };\r\n\r\n    this.nodeFromItem = function ($item) {\r\n      var hint = hints[$item.data('index')];\r\n      var item = $item.data('item');\r\n      var node = hint.content ? hint.content(item) : item;\r\n      if (typeof node === 'string') {\r\n        node = dom.createText(node);\r\n      }\r\n      return node;\r\n    };\r\n\r\n    this.createItemTemplates = function (hintIdx, items) {\r\n      var hint = hints[hintIdx];\r\n      return items.map(function (item, idx) {\r\n        var $item = $('<div class=\"note-hint-item\"/>');\r\n        $item.append(hint.template ? hint.template(item) : item + '');\r\n        $item.data({\r\n          'index': hintIdx,\r\n          'item': item\r\n        });\r\n\r\n        if (hintIdx === 0 && idx === 0) {\r\n          $item.addClass('active');\r\n        }\r\n        return $item;\r\n      });\r\n    };\r\n\r\n    this.handleKeydown = function (e) {\r\n      if (!this.$popover.is(':visible')) {\r\n        return;\r\n      }\r\n\r\n      if (e.keyCode === key.code.ENTER) {\r\n        e.preventDefault();\r\n        this.replace();\r\n      } else if (e.keyCode === key.code.UP) {\r\n        e.preventDefault();\r\n        this.moveUp();\r\n      } else if (e.keyCode === key.code.DOWN) {\r\n        e.preventDefault();\r\n        this.moveDown();\r\n      }\r\n    };\r\n\r\n    this.searchKeyword = function (index, keyword, callback) {\r\n      var hint = hints[index];\r\n      if (hint && hint.match.test(keyword) && hint.search) {\r\n        var matches = hint.match.exec(keyword);\r\n        hint.search(matches[1], callback);\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    this.createGroup = function (idx, keyword) {\r\n      var $group = $('<div class=\"note-hint-group note-hint-group-' + idx + '\"/>');\r\n      this.searchKeyword(idx, keyword, function (items) {\r\n        items = items || [];\r\n        if (items.length) {\r\n          $group.html(self.createItemTemplates(idx, items));\r\n          self.show();\r\n        }\r\n      });\r\n\r\n      return $group;\r\n    };\r\n\r\n    this.handleKeyup = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode)) {\r\n        if (e.keyCode === key.code.ENTER) {\r\n          if (this.$popover.is(':visible')) {\r\n            return;\r\n          }\r\n        }\r\n      } else {\r\n        var wordRange = context.invoke('editor.createRange').getWordRange();\r\n        var keyword = wordRange.toString();\r\n        if (hints.length && keyword) {\r\n          this.$content.empty();\r\n\r\n          var bnd = func.rect2bnd(list.last(wordRange.getClientRects()));\r\n          if (bnd) {\r\n\r\n            this.$popover.hide();\r\n\r\n            this.lastWordRange = wordRange;\r\n\r\n            hints.forEach(function (hint, idx) {\r\n              if (hint.match.test(keyword)) {\r\n                self.createGroup(idx, keyword).appendTo(self.$content);\r\n              }\r\n            });\r\n\r\n            // set position for popover after group is created\r\n            if (direction === 'top') {\r\n              this.$popover.css({\r\n                left: bnd.left,\r\n                top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\r\n              });\r\n            } else {\r\n              this.$popover.css({\r\n                left: bnd.left,\r\n                top: bnd.top + bnd.height + POPOVER_DIST\r\n              });\r\n            }\r\n\r\n          }\r\n        } else {\r\n          this.hide();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.show = function () {\r\n      this.$popover.show();\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n\r\n  $.summernote = $.extend($.summernote, {\r\n    version: '0.8.8',\r\n    ui: ui,\r\n    dom: dom,\r\n\r\n    plugins: {},\r\n\r\n    options: {\r\n      modules: {\r\n        'editor': Editor,\r\n        'clipboard': Clipboard,\r\n        'dropzone': Dropzone,\r\n        'codeview': Codeview,\r\n        'statusbar': Statusbar,\r\n        'fullscreen': Fullscreen,\r\n        'handle': Handle,\r\n        // FIXME: HintPopover must be front of autolink\r\n        //  - Script error about range when Enter key is pressed on hint popover\r\n        'hintPopover': HintPopover,\r\n        'autoLink': AutoLink,\r\n        'autoSync': AutoSync,\r\n        'placeholder': Placeholder,\r\n        'buttons': Buttons,\r\n        'toolbar': Toolbar,\r\n        'linkDialog': LinkDialog,\r\n        'linkPopover': LinkPopover,\r\n        'imageDialog': ImageDialog,\r\n        'imagePopover': ImagePopover,\r\n        'tablePopover': TablePopover,\r\n        'videoDialog': VideoDialog,\r\n        'helpDialog': HelpDialog,\r\n        'airPopover': AirPopover\r\n      },\r\n\r\n      buttons: {},\r\n\r\n      lang: 'en-US',\r\n\r\n      // toolbar\r\n      toolbar: [\r\n        ['style', ['style']],\r\n        ['font', ['bold', 'underline', 'clear']],\r\n        ['fontname', ['fontname']],\r\n        ['color', ['color']],\r\n        ['para', ['ul', 'ol', 'paragraph']],\r\n        ['table', ['table']],\r\n        ['insert', ['link', 'picture', 'video']],\r\n        ['view', ['fullscreen', 'codeview', 'help']]\r\n      ],\r\n\r\n      // popover\r\n      popover: {\r\n        image: [\r\n          ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n          ['float', ['floatLeft', 'floatRight', 'floatNone']],\r\n          ['remove', ['removeMedia']]\r\n        ],\r\n        link: [\r\n          ['link', ['linkDialogShow', 'unlink']]\r\n        ],\r\n        table: [\r\n          ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\r\n          ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\r\n        ],\r\n        air: [\r\n          ['color', ['color']],\r\n          ['font', ['bold', 'underline', 'clear']],\r\n          ['para', ['ul', 'paragraph']],\r\n          ['table', ['table']],\r\n          ['insert', ['link', 'picture']]\r\n        ]\r\n      },\r\n\r\n      // air mode: inline editor\r\n      airMode: false,\r\n\r\n      width: null,\r\n      height: null,\r\n      linkTargetBlank: true,\r\n\r\n      focus: false,\r\n      tabSize: 4,\r\n      styleWithSpan: true,\r\n      shortcuts: true,\r\n      textareaAutoSync: true,\r\n      direction: null,\r\n      tooltip: 'auto',\r\n\r\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\r\n\r\n      fontNames: [\r\n        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\r\n        'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\r\n        'Tahoma', 'Times New Roman', 'Verdana'\r\n      ],\r\n\r\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\r\n\r\n      // pallete colors(n x n)\r\n      colors: [\r\n        ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\r\n        ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\r\n        ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\r\n        ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\r\n        ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\r\n        ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\r\n        ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\r\n        ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\r\n      ],\r\n\r\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\r\n\r\n      tableClassName: 'table table-bordered',\r\n\r\n      insertTableMaxSize: {\r\n        col: 10,\r\n        row: 10\r\n      },\r\n\r\n      dialogsInBody: false,\r\n      dialogsFade: false,\r\n\r\n      maximumImageFileSize: null,\r\n\r\n      callbacks: {\r\n        onInit: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n        onEnter: null,\r\n        onKeyup: null,\r\n        onKeydown: null,\r\n        onImageUpload: null,\r\n        onImageUploadError: null\r\n      },\r\n\r\n      codemirror: {\r\n        mode: 'text/html',\r\n        htmlMode: true,\r\n        lineNumbers: true\r\n      },\r\n\r\n      keyMap: {\r\n        pc: {\r\n          'ENTER': 'insertParagraph',\r\n          'CTRL+Z': 'undo',\r\n          'CTRL+Y': 'redo',\r\n          'TAB': 'tab',\r\n          'SHIFT+TAB': 'untab',\r\n          'CTRL+B': 'bold',\r\n          'CTRL+I': 'italic',\r\n          'CTRL+U': 'underline',\r\n          'CTRL+SHIFT+S': 'strikethrough',\r\n          'CTRL+BACKSLASH': 'removeFormat',\r\n          'CTRL+SHIFT+L': 'justifyLeft',\r\n          'CTRL+SHIFT+E': 'justifyCenter',\r\n          'CTRL+SHIFT+R': 'justifyRight',\r\n          'CTRL+SHIFT+J': 'justifyFull',\r\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\r\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\r\n          'CTRL+LEFTBRACKET': 'outdent',\r\n          'CTRL+RIGHTBRACKET': 'indent',\r\n          'CTRL+NUM0': 'formatPara',\r\n          'CTRL+NUM1': 'formatH1',\r\n          'CTRL+NUM2': 'formatH2',\r\n          'CTRL+NUM3': 'formatH3',\r\n          'CTRL+NUM4': 'formatH4',\r\n          'CTRL+NUM5': 'formatH5',\r\n          'CTRL+NUM6': 'formatH6',\r\n          'CTRL+ENTER': 'insertHorizontalRule',\r\n          'CTRL+K': 'linkDialog.show'\r\n        },\r\n\r\n        mac: {\r\n          'ENTER': 'insertParagraph',\r\n          'CMD+Z': 'undo',\r\n          'CMD+SHIFT+Z': 'redo',\r\n          'TAB': 'tab',\r\n          'SHIFT+TAB': 'untab',\r\n          'CMD+B': 'bold',\r\n          'CMD+I': 'italic',\r\n          'CMD+U': 'underline',\r\n          'CMD+SHIFT+S': 'strikethrough',\r\n          'CMD+BACKSLASH': 'removeFormat',\r\n          'CMD+SHIFT+L': 'justifyLeft',\r\n          'CMD+SHIFT+E': 'justifyCenter',\r\n          'CMD+SHIFT+R': 'justifyRight',\r\n          'CMD+SHIFT+J': 'justifyFull',\r\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\r\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\r\n          'CMD+LEFTBRACKET': 'outdent',\r\n          'CMD+RIGHTBRACKET': 'indent',\r\n          'CMD+NUM0': 'formatPara',\r\n          'CMD+NUM1': 'formatH1',\r\n          'CMD+NUM2': 'formatH2',\r\n          'CMD+NUM3': 'formatH3',\r\n          'CMD+NUM4': 'formatH4',\r\n          'CMD+NUM5': 'formatH5',\r\n          'CMD+NUM6': 'formatH6',\r\n          'CMD+ENTER': 'insertHorizontalRule',\r\n          'CMD+K': 'linkDialog.show'\r\n        }\r\n      },\r\n      icons: {\r\n        'align': 'note-icon-align',\r\n        'alignCenter': 'note-icon-align-center',\r\n        'alignJustify': 'note-icon-align-justify',\r\n        'alignLeft': 'note-icon-align-left',\r\n        'alignRight': 'note-icon-align-right',\r\n        'rowBelow': 'note-icon-row-below',\r\n        'colBefore': 'note-icon-col-before',\r\n        'colAfter': 'note-icon-col-after',\r\n        'rowAbove': 'note-icon-row-above',\r\n        'rowRemove': 'note-icon-row-remove',\r\n        'colRemove': 'note-icon-col-remove',\r\n        'indent': 'note-icon-align-indent',\r\n        'outdent': 'note-icon-align-outdent',\r\n        'arrowsAlt': 'note-icon-arrows-alt',\r\n        'bold': 'note-icon-bold',\r\n        'caret': 'note-icon-caret',\r\n        'circle': 'note-icon-circle',\r\n        'close': 'note-icon-close',\r\n        'code': 'note-icon-code',\r\n        'eraser': 'note-icon-eraser',\r\n        'font': 'note-icon-font',\r\n        'frame': 'note-icon-frame',\r\n        'italic': 'note-icon-italic',\r\n        'link': 'note-icon-link',\r\n        'unlink': 'note-icon-chain-broken',\r\n        'magic': 'note-icon-magic',\r\n        'menuCheck': 'note-icon-menu-check',\r\n        'minus': 'note-icon-minus',\r\n        'orderedlist': 'note-icon-orderedlist',\r\n        'pencil': 'note-icon-pencil',\r\n        'picture': 'note-icon-picture',\r\n        'question': 'note-icon-question',\r\n        'redo': 'note-icon-redo',\r\n        'square': 'note-icon-square',\r\n        'strikethrough': 'note-icon-strikethrough',\r\n        'subscript': 'note-icon-subscript',\r\n        'superscript': 'note-icon-superscript',\r\n        'table': 'note-icon-table',\r\n        'textHeight': 'note-icon-text-height',\r\n        'trash': 'note-icon-trash',\r\n        'underline': 'note-icon-underline',\r\n        'undo': 'note-icon-undo',\r\n        'unorderedlist': 'note-icon-unorderedlist',\r\n        'video': 'note-icon-video'\r\n      }\r\n    }\r\n  });\r\n\r\n}));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/summernote/summernote.js","//test\r\n// export const increment = ({commit}) => {\r\n// \tconsole.log('nihao', commit)\r\n//     commit('INCREMENT')\r\n// }\r\n\r\n// export const decrement = ({commit}) => {\r\n//     commit('DECREMENT')\r\n// }\r\n\r\n// export const updateUserSelectedSku = ({commit}) => {\r\n// \tconsole.log('nihao', commit)\r\n//     commit('UPDATE_USER_SELECTED_THE_SKU')\r\n// }\r\nexport default {\r\n\tupdateUserSelectedSku( {commit}, data ) {\r\n\t\tcommit('UPDATE_USER_SELECTED_THE_SKU', data)\r\n\t},\r\n\tupdateProdcutSkuQuantity( {commit}, data ) {\r\n\t\tcommit('UPDATE_PRODCUT_SKU_QUANTITY', data)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions.js","import Full from '@/components/Full.vue'\r\nimport goodsManagementRoutes from './goodsManagementRoutes.js'\r\n//店铺管理路由\r\nimport shopsManagementRoutes from './shopsManagementRoutes.js'\r\n\r\n/*交易管理路由*/\r\nimport transaction from './transactionRoutes.js'\r\n\r\n/*营销路由管理*/\r\nimport marketingCenter from './marketingCenterRoutes.js'\r\n\r\n//首页路由\r\nimport home from './home.js'\r\nconst asyncRouterArr =  [\r\n   \r\n\t{\r\n\r\n        path: '/seller-management',\r\n        component: Full,\r\n        redirect: '/seller-management/goods',\r\n        name: '商品管理',\r\n        iconCls: 'iconfont icon-shangpu',//图标样式class\r\n        children: goodsManagementRoutes\r\n    },\r\n    {\r\n        path: '/transaction',\r\n        component: Full,\r\n        name: '交易管理',\r\n        iconCls: 'iconfont icon-jiaoyiguanli',//图标样式class\r\n        children: transaction\r\n    },\r\n\t{\r\n        path: '/store',\r\n        component: Full,\r\n        name: '店铺管理',\r\n        iconCls: 'iconfont icon-shangpinguanli',\r\n        children:shopsManagementRoutes \r\n    },\r\n    \r\n    {   path: '/marketing-center',\r\n        component: Full,\r\n        name: '营销中心',\r\n        iconCls: 'iconfont icon-yingxiaozhongxin',\r\n        children:marketingCenter \r\n    }\r\n]\r\n\r\nexport default asyncRouterArr;\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/asyncRouter.js","\r\nimport '@/components/summernote/summernote.js'\r\nimport '@/components/summernote/lang/summernote-zh-CN.js'\r\nimport $ from 'jquery'\r\nexport default {\r\n\r\n  install: function (Vue, options) {\r\n\r\n    Vue.component('vue-summernote', {\r\n      render: function (createElement) {\r\n        return createElement('div')\r\n      },\r\n      mounted: function () {\r\n        var self = this\r\n        var initOptions = {\r\n          lang: 'zh-CN',\r\n          placeholder: self.placeholder,\r\n          height: self.height,\r\n          minHeight: self.minHeight,\r\n          maxHeight: self.maxHeight,\r\n          focus: self.focus,\r\n          callbacks: {\r\n            onInit: function () {\r\n              self.$emit('onInit')\r\n            },\r\n            onEnter: function () {\r\n              self.$emit('onEnter')\r\n            },\r\n            onFocus: function () {\r\n              self.$emit('onFocus')\r\n            },\r\n            onBlur: function () {\r\n              self.$emit('onBlur')\r\n            },\r\n            onKeyup: function (e) {\r\n              self.$emit('onKeyup', e)\r\n            },\r\n            onKeydown: function (e) {\r\n              self.$emit('onKeydown', e)\r\n            },\r\n            onPaste: function (e) {\r\n              self.$emit('onPaste', e)\r\n            },\r\n            onImageUpload: function (files) {\r\n              self.$emit('onImageUpload', files)\r\n            },\r\n            onChange: function (contents) {\r\n              self.$emit('onChange', contents)\r\n            }\r\n          }\r\n        }\r\n        var params = Object.assign({}, initOptions, options)\r\n        $(this.$el).summernote(params)\r\n      },\r\n      beforeDestroy: function () {\r\n        $(this.$el).summernote('destroy')\r\n      },\r\n      props: {\r\n        placeholder: {\r\n          type: String,\r\n          default: '请输入内容'\r\n        },\r\n        height: {\r\n          type: Number,\r\n          default: 500\r\n        },\r\n        minHeight: {\r\n          type: Number,\r\n          default: 200\r\n        },\r\n        maxHeight: {\r\n          type: Number,\r\n          default: 700\r\n        },\r\n        focus: {\r\n          type: Boolean,\r\n          default: false\r\n        }\r\n      },\r\n      methods: {\r\n        /**\r\n         * run summernote API\r\n         * @param {String} code\r\n         * @param {String | Number} value\r\n         * @returns {*|jQuery}\r\n         */\r\n        run: function (code, value) {\r\n          if (typeof value === undefined) {\r\n            return $(this.$el).summernote(code)\r\n          } else {\r\n            return $(this.$el).summernote(code, value)\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/editer/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container bgColor\"},[_c('app-header',{attrs:{\"sysUserName\":_vm.sysUserName}}),_vm._v(\" \"),_c('div',{staticClass:\"shadows\"}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"main mains\"},[_c('section',{staticClass:\"content-container\"},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('div',{staticClass:\"content-wrapper\",attrs:{\"span\":24}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view',{key:_vm.key})],1)],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"errorTop\"},[_c('a',{staticClass:\"topCont\",attrs:{\"href\":\"javascript:;\"}},[_c('div',{staticClass:\"logos\"}),_vm._v(\" \"),_c('p',[_vm._v(\"商户中心登录\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-f22ba94a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/FullNoLeft.vue\n// module id = 4Kl9\n// module chunks = 46","<template>\r\n  <div class=\"app-container\">\r\n    <app-header :sysUserName=\"sysUserName\"></app-header>\r\n    <div class='shadows'></div>\r\n    <div class=\"main\">\r\n        <!--导航菜单-->\r\n      <el-menu :default-active=\"$route.path\" class=\"pro-sidebar\" unique-opened router backgroundColor=\"#545c64\"\r\n      textColor=\"#fff\" activeTextColor=\"#ffd04b\">\r\n        <template v-for=\"(item,index) in $router.options.routes\" v-if=\"!item.hidden\">\r\n          <el-submenu :index=\"index+''\" v-if=\"!item.leaf\">\r\n            <template slot=\"title\"><i :class=\"item.iconCls\"></i><span slot=\"title\" class=\"side-title\">{{item.name}}</span></template>\r\n            <el-menu-item v-for=\"child in item.children\" :key=\"child.name\" :index=\"child.path\" v-if=\"!child.hidden\" >{{child.name}}</el-menu-item>\r\n          </el-submenu>\r\n          <el-menu-item v-if=\"item.leaf && item.children.length>0\" :index=\"item.children[0].path\" class=\"sub-title\"><i :class=\"item.iconCls\"></i>{{item.children[0].name}}</el-menu-item>\r\n        </template>\r\n      </el-menu>\r\n    <section class=\"content-container\">\r\n      <div class=\"grid-content bg-purple-light\">\r\n        <div :span=\"24\" class=\"content-wrapper\">\r\n          <transition name=\"fade\" mode=\"out-in\">\r\n            <router-view :key=\"key\"></router-view>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import AppHeader from './Header'\r\n  export default {\r\n    components: { AppHeader },\r\n    data() {\r\n      return {\r\n        sysName:'商户中心',\r\n        sysUserName: '',\r\n        sysUserAvatar: ''\r\n      }\r\n    },\r\n    created(){\r\n\r\n    },\r\n    computed: {\r\n        key() {\r\n            return this.$route.name !== undefined? this.$route.name +new Date(): this.$route +new Date();\r\n        }\r\n    },\r\n    watch: {\r\n     '$route' (to, from) {\r\n     }\r\n   },\r\n    methods: {\r\n      //退出登录\r\n      logout: function () {\r\n        var _this = this;\r\n        this.$confirm('确认退出吗?', '提示', {\r\n          //type: 'warning'\r\n        }).then(() => {\r\n          sessionStorage.removeItem('user');\r\n          _this.$router.push('/login');\r\n        }).catch(() => {\r\n\r\n        });\r\n      }\r\n    },\r\n    mounted() {\r\n\r\n      var user = sessionStorage.getItem('user');\r\n      if (user) {\r\n        user = JSON.parse(user);\r\n        this.sysUserName = user.name || '';\r\n        this.sysUserAvatar = user.avatar || '';\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import '~scss_vars';\r\n  .shadows{\r\n    position:absolute;\r\n    width:calc(100% - 200px);\r\n    left:200px; \r\n    top:56px;\r\n    height:4px;\r\n    z-index:999;\r\n    box-shadow: 0 2px 5px 0 rgba(204, 204, 204, 0.5);\r\n\r\n  }\r\n  .el-menu--collapse {\r\n    width: 64px;\r\n  }\r\n  .breadcrumb-router {\r\n    position: relative;\r\n    padding-bottom: 20px;\r\n    border-radius: 0\r\n  }\r\n  .app-container {\r\n    position: absolute;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n\r\n    .main {\r\n      width: 100%;\r\n      display: flex;\r\n      // background: #324057;\r\n      bottom: 0px;\r\n      overflow: hidden;\r\n      position:absolute;\r\n      top:60px;\r\n      aside {\r\n        flex:0 0 200px;\r\n        width: 200px;\r\n        .el-menu{\r\n          height: 100%;\r\n       \r\n\r\n        }\r\n        .isCollapse{\r\n          width:60px;\r\n          .item{\r\n            position: relative;\r\n          }\r\n          .submenu{\r\n            position:absolute;\r\n            top:0px;\r\n            left:60px;\r\n            z-index:99999;\r\n            height:auto;\r\n            display:none;\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n      .content-container {\r\n        position: relative;\r\n        // background: #f1f2f7;\r\n        flex:1;\r\n        // position: absolute;\r\n        // right: 0px;\r\n        // top: 0px;\r\n        // bottom: 0px;\r\n        // left: 200px;\r\n        overflow-y: scroll;\r\n        .breadcrumb-container {\r\n          //margin-bottom: 15px;\r\n          .title {\r\n            width: 200px;\r\n            float: left;\r\n            color: #475669;\r\n          }\r\n          .breadcrumb-inner {\r\n            float: right;\r\n          }\r\n        }\r\n        .content-wrapper {\r\n          background-color: #fff;\r\n          box-sizing: border-box;\r\n          padding: 40px;\r\n        }\r\n        .breadcrumb-router{\r\n          border:none;\r\n          padding-left:40px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Full.vue","<template>\r\n  <div class=\"app-header app-navbar\" id=\"appHeader\">\r\n      <router-link to=\"/home/index\">\r\n        <div class=\"logo logo-width\">{{sysName}}</div>\r\n      </router-link>\r\n      \r\n      <div class=\"breadcrumb-container\">\r\n          <!-- <strong class=\"title\">{{$route.path}}</strong> -->\r\n          <el-breadcrumb separator=\"/\" class=\"breadcrumb-router\">\r\n            <el-breadcrumb-item v-for=\"item in $route.matched\" :key=\"item.path\" :to=\"{ path: item.path }\">\r\n             {{ item.name }}\r\n            </el-breadcrumb-item>\r\n          </el-breadcrumb>\r\n        </div>\r\n      <div class=\"userinfo\">\r\n\r\n        <div class=\"user-item\" @click='jump(\"index\")'>欢迎你，{{ueseName}}</div>\r\n        <div class=\"user-item\" style=\"padding:0 30px 0 10px;\">\r\n          <el-dropdown trigger=\"click\"  @command=\"handleCommand\" @visible-change=\"triangle\">\r\n            <span class=\"el-dropdown-link userinfo-inner\">商户中心<i class=\"iconfont icon-xiala2\" :class=\"{'el-xuanzhuan1':elXuanzhuan1,'el-xuanzhuan2':elXuanzhuan2}\"></i></span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item  command=\"a\">设置</el-dropdown-item>\r\n              <el-dropdown-item command=\"exit\">退出登录</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>          \r\n        </div>\r\n        <i class=\"pipe\"></i>\r\n        <div class=\"user-item\" style=\"width:90px;text-align:center;\"  @click='jump(\"note\")'>消息<i>{{total}}</i></div>\r\n        <i class=\"pipe\"></i>\r\n        <div class=\"user-item\" style=\"cursor:pointer;\" @click='jump(\"phone\")'><i class=\"iconfont icon-shouji\"></i>商户中心手机版</div>\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { msgNumber,userLogout } from '@/api/toolApi';\r\nexport default {\r\n  name: 'app-header',\r\n  data(){\r\n    return {\r\n      total: null,\r\n      ueseName:'',\r\n\r\n      elXuanzhuan1:false,\r\n      elXuanzhuan2:false\r\n    }\r\n  },\r\n  created(){\r\n    let params = {\r\n      uid: config.uid,\r\n      page: 1,\r\n      size: 20\r\n    }\r\n    msgNumber(params).then( res => {\r\n      if(res.data.data){\r\n        let tal = Number(res.data.data)\r\n        this.total = tal > 999 ? '999+' : tal;\r\n      } \r\n    }).catch(res => {\r\n\r\n    })\r\n  },\r\n  props: {\r\n    sysName: {\r\n      type: String,\r\n      default: '商户中心'\r\n    },\r\n    sysUserName: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  components: {\r\n\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  mounted(){\r\n    this.ueseName=config.userName;\r\n    \r\n  },\r\n  methods: {\r\n    //跳转首页，手机版页面前判断是否是入驻页面\r\n    jump(str){\r\n      console.log(this.$route.path)\r\n      if(this.$route.path==\"/merchant/merchant-enter-before\"||this.$route.path==\"/merchant/merchant-enter\"){\r\n        return false;\r\n      }\r\n      if(str==\"index\"){\r\n        this.$router.push({ path: '/home/index'});\r\n      }else if(str==\"phone\"){\r\n        this.$router.push({ path: '/home/phone'});\r\n      }else{\r\n        this.$router.push({ path: '/person/message'});\r\n      }\r\n    },\r\n    handleCommand(command) {\r\n     if(command==\"exit\"){\r\n        userLogout({}).then((res) => {\r\n          window.location.href= config.apiHost + '/login';\r\n        }).catch(error => {\r\n          console.log(error)\r\n        })\r\n      }\r\n       \r\n    },\r\n    //下拉框出现/隐藏时触发\r\n    triangle(isShow){\r\n      if(isShow){\r\n        this.elXuanzhuan1=true;\r\n        this.elXuanzhuan2=false;\r\n      }else{\r\n        this.elXuanzhuan1=false;\r\n        this.elXuanzhuan2=true;\r\n      }\r\n      \r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  @import '~scss_vars';\r\n  ul{\r\n    margin:0;\r\n    padding:0;\r\n  }\r\n  .app-navbar {\r\n      position: relative;\r\n  }\r\n  .breadcrumb-container{\r\n    float:left;\r\n    height:60px;\r\n    padding-bottom:0px;\r\n    padding-left:40px;\r\n    .breadcrumb-router{\r\n      padding:0;\r\n      height:60px;\r\n      line-height:60px;\r\n    }\r\n  }\r\n    .app-header {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      background: #FFF;\r\n      color:#333;\r\n      flex-direction: row;\r\n      .userinfo {\r\n        text-align: right;\r\n        padding-right: 50px;\r\n        float: right;\r\n        color: #666;\r\n        a{text-decoration:none;vertical-align:baseline;zoom:1;}\r\n        .pipe {\r\n          display: inline-block;\r\n          height:24px;\r\n          width: 1px;\r\n          background-color: #ddd;\r\n          vertical-align: middle;\r\n        }\r\n        .user-item {\r\n          display: inline-block;\r\n          padding: 0px 5px; \r\n          cursor:pointer;\r\n          a{\r\n            color: #666;\r\n          }\r\n          &>i{\r\n              font-style: normal;\r\n              display: inline-block;\r\n              color: #f00;\r\n              margin-left: 3px;\r\n            }\r\n          \r\n        }\r\n        i.icon-shouji{\r\n          color:#41cac0 !important;\r\n          font-size:20px;\r\n          vertical-align: middle;\r\n          padding:0 8px 0 30px;\r\n        }\r\n        .userinfo-inner {\r\n          cursor: pointer;\r\n          color:#666;\r\n          img {\r\n            width: 40px;\r\n            height: 40px;\r\n            border-radius: 20px;\r\n            margin: 10px 0px 10px 10px;\r\n            float: right;\r\n          }\r\n        }\r\n      }\r\n      .logo {\r\n        //width:200px;\r\n        height:60px;\r\n        font-size:24px;\r\n        color:#ffffff;\r\n        text-align: center;\r\n        border-color: rgba(238,241,146,0.3);\r\n        border-right-width: 1px;\r\n        border-right-style: solid;\r\n        background-color: $color-primary;\r\n        img {\r\n          width: 40px;\r\n          float: left;\r\n          margin: 10px 10px 10px 18px;\r\n        }\r\n        .txt {\r\n          color:#fff;\r\n        }\r\n      }\r\n      .logo-width{\r\n        width:200px;\r\n        float:left;\r\n      }\r\n      .logo-collapse-width{\r\n        width:60px\r\n      }\r\n      .tools{\r\n        padding: 0px 23px;\r\n        width:14px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  .user-nav {\r\n    flex-direction: row;\r\n    align-items: center;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin: 0;\r\n    padding: 0;\r\n    li {\r\n      list-style: none;\r\n      height: 30px;\r\n      line-height: 60px;\r\n      +li{\r\n        border-left: 1px solid #eee;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-dropdown-menu{\r\n    background:#ffffff;\r\n    border:1px solid #dddddd;\r\n    box-shadow:0 1px 13px 0 rgba(204,204,204,0.47);\r\n    min-width:100px;\r\n    padding:0;\r\n    .el-dropdown-menu__item:not(.is-disabled):hover {\r\n      background-color: #41cac0 !important;\r\n      color: #fff !important;\r\n    }\r\n    li{\r\n      padding:0 26px;\r\n    }  \r\n  }\r\n\r\n  .el-xuanzhuan1{ \r\n    transform:rotate(-180deg);\r\n    -ms-transform:rotate(-180deg);   /* IE 9 */\r\n    -moz-transform:rotate(-180deg);  /* Firefox */\r\n    -webkit-transform:rotate(-180deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(-180deg);  /* Opera */\r\n  }\r\n  .el-xuanzhuan2{ \r\n    transform:rotate(-360deg);\r\n    -ms-transform:rotate(-360deg);   /* IE 9 */\r\n    -moz-transform:rotate(-360deg);  /* Firefox */\r\n    -webkit-transform:rotate(-360deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(-360deg);  /* Opera */\r\n  }\r\n\r\n  .icon-xiala2{\r\n    display:inline-block;\r\n    transform-origin:center;/*定义动画的旋转中心点*/\r\n    -webkit-transform-origin:center;  /* Safari 和 Chrome */\r\n    -moz-transition-origin:center;\r\n    -o-transition-origin:center;\r\n    \r\n    transition: All 0.4s ease-in-out;\r\n    -webkit-transition: All 0.4s ease-in-out;\r\n    -moz-transition: All 0.4s ease-in-out;\r\n    -o-transition: All 0.4s ease-in-out;\r\n  }\r\n\r\n  \r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","import axios from './newAxios';\r\n\r\nconst base = config.apiHost;\r\n\r\n/*获取营销工具*/\r\nexport const toolList = params => { return axios.get(`${base}/marketing/tools/shop`,  {params:params}); }\r\n\r\n/*获取店铺商品列表*/\r\nexport const productList = params => { return axios.get(`${base}/product/listontheshelves`,  {params:params}) }\r\n\r\n/*店铺创建活动*/\r\nexport const createAct = params => { return axios.post(`${base}/marketing/activity/save`,  params)}\r\n\r\n/*获取活动详情*/\r\nexport const actLastData = params => { return axios.get(`${base}/marketing/activity/detail`,  {params:params}) }\r\n\r\n/*修改店铺活动*/\r\nexport const changeAct = params => { return axios.post(`${base}/marketing/activity/update`,  params)}\r\n\r\n/*获取店铺活动*/\r\nexport const storeActList = params => { return axios.get(`${base}/marketing/activity/list`,  {params:params}); }\r\n\r\n/*获取平台活动*/\r\nexport const platformActList = params => { return axios.get(`${base}/marketing/activity/platform/list`,  {params:params}); }\r\n\r\n/*平台活动详情*/\r\nexport const platformActDetail = params => { return axios.get(`${base}/marketing/activity/platform/detail`,  {params:params}); }\r\n\r\n/*参与平台活动*/\r\nexport const attendAct = params => { return axios.post(`${base}/marketing/activity/sign`, params) }\r\n\r\n/*修改报名平台活动*/\r\nexport const changeAttendAct = params => { return axios.post(`${base}/marketing/activity/sign/update`, params) }\r\n\r\n\r\n/*获取消息*/\r\nexport const msgList = params => { return axios.get(`${base}/msg/page`, {params:params}); }\r\n\r\n/*消息条数*/\r\nexport const msgNumber = params => { return axios.get(`${base}/user/msg/count`, {params:params}); }\r\n\r\n\r\n\r\n//退出接口\r\nexport const userLogout = params => { return axios.get(`${base}/user/logout`, { params: params }); };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/toolApi.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4567d049\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./Demo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./Demo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4567d049\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./Demo.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4567d049\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Demo.vue\n// module id = 9gGt\n// module chunks = 46","<template>\r\n  <div class=\"el-loading-mask\" style=\"\">\r\n    <div class=\"el-loading-spinner\">\r\n      <svg viewBox=\"25 25 50 50\" class=\"circular\">\r\n        <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\"></circle>\r\n      </svg><!---->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'LoadingMask',\r\n \tdata(){\r\n \t\treturn {\r\n \t\t\t\r\n \t\t}\r\n \t}\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/loading/LoadingMask.vue","/*商家管理 =S */\r\nconst CateSelection =  resolve => require(['@/views/seller_management/CateSelection.vue'],resolve) \r\nconst Logistics = resolve => require(['@/views/seller_management/Logistics.vue'],resolve) \r\nconst GoodsForm = resolve => require(['@/views/seller_management/GoodsForm.vue'],resolve) \r\nconst UnderReview = resolve => require(['@/views/seller_management/UnderReview.vue'],resolve) \r\nconst UpShelve = resolve => require(['@/views/seller_management/UpShelve.vue'],resolve) \r\nconst DownShelve = resolve => require(['@/views/seller_management/DownShelve.vue'],resolve) \r\nconst NotPass = resolve => require(['@/views/seller_management/NotPass.vue'],resolve) \r\nconst ToBeShelved = resolve => require(['@/views/seller_management/ToBeShelved.vue'],resolve) \r\nconst DraftBox = resolve => require(['@/views/seller_management/DraftBox.vue'],resolve) \r\nconst RecycleBin = resolve => require(['@/views/seller_management/RecycleBin.vue'],resolve) \r\n \r\n\r\n/*商家管理 =E */\r\nconst routers = [{ \r\n        path: '/seller-management/goods', \r\n        component: CateSelection, \r\n        name: '创建商品',\r\n        showChildrenName: true,\r\n        children:[\r\n\r\n            { path: '/seller-management/goods/create', component: CateSelection, name: '选择类目' },\r\n            { path: '/seller-management/goods/form', component: GoodsForm, name: '新建商品' },\r\n            { path: '/seller-management/goods/editor', component: GoodsForm, name: '编辑商品' }\r\n        ]\r\n    },\r\n    { \r\n        path: '/seller-management/logistics', \r\n        component: Logistics, \r\n        name: '物流模板' ,\r\n        children:[\r\n            { path: '/seller-management/logistics/create', component: Logistics, name: '新建物流模板' },\r\n            { path: '/seller-management/logistics/editor', component: Logistics, name: '编辑物流模板' }\r\n        ]\r\n    },\r\n    { path: '/seller-management/underreview', component: UnderReview, name: '审核中列表' },\r\n    { path: '/seller-management/upshelve', component: UpShelve, name: '已上架列表' },\r\n    { path: '/seller-management/downshelve', component: DownShelve, name: '已下架列表' },\r\n    { path: '/seller-management/notpass', component: NotPass, name: '审核未通过列表' },\r\n    { path: '/seller-management/tobeshelved', component: ToBeShelved, name: '待上架列表' },\r\n    { path: '/seller-management/draftbox', component: DraftBox, name: '草稿箱' },\r\n    { path: '/seller-management/recyclebin', component: RecycleBin, name: '回收站' }\r\n]\r\n\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/goodsManagementRoutes.js","/*阶段一*/\r\nconst NotFound = resolve => require(['@/views/home/404.vue'],resolve);\r\n/*手机端下载页面*/\r\nconst Phone = resolve => require(['@/views/home/Phone.vue'],resolve);\r\n\r\nconst routers = [\r\n    { \r\n        path: '/404',  \r\n        component: NotFound, \r\n        name: '' \r\n    },\r\n    { \r\n        path: '/home/phone',  \r\n        component: Phone, \r\n        name: '' \r\n    }\r\n];\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/404.js","var normalizeComponent = require(\"!../../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./LoadingMask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fbacdfbe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./LoadingMask.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/loading/LoadingMask.vue\n// module id = GcVu\n// module chunks = 46","<template>\r\n  <div class=\"app-container bgColor\">\r\n    <app-header :sysUserName=\"sysUserName\"></app-header>\r\n    <div class='shadows'></div>\r\n    <div class=\"errorTop\">\r\n      <a class=\"topCont\" href=\"javascript:;\">\r\n        <div class=\"logos\"></div>\r\n        <p>商户中心登录</p>\r\n      </a>\r\n    </div>\r\n    <div class=\"main mains\">\r\n    <section class=\"content-container\">\r\n      <div class=\"grid-content bg-purple-light\">\r\n        <div :span=\"24\" class=\"content-wrapper\">\r\n          <transition name=\"fade\" mode=\"out-in\">\r\n            <router-view :key=\"key\"></router-view>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import AppHeader from './Header'\r\n  export default {\r\n    components: { AppHeader },\r\n    data() {\r\n      return {\r\n        sysName:'',\r\n        sysUserName: '',\r\n        sysUserAvatar: ''\r\n      }\r\n    },\r\n    created(){\r\n\r\n    },\r\n    computed: {\r\n        key() {\r\n            return this.$route.name !== undefined? this.$route.name +new Date(): this.$route +new Date();\r\n        }\r\n    },\r\n    watch: {\r\n     /*'$route' (to, from) {\r\n        console.log(this.$route.path)\r\n     }*/\r\n   },\r\n    methods: {\r\n      //退出登录\r\n      logout: function () {\r\n        var _this = this;\r\n        this.$confirm('确认退出吗?', '提示', {\r\n          //type: 'warning'\r\n        }).then(() => {\r\n          sessionStorage.removeItem('user');\r\n          _this.$router.push('/login');\r\n        }).catch(() => {\r\n\r\n        });\r\n\r\n\r\n      }\r\n      //折叠导航栏\r\n      // collapse:function(){\r\n      //   this.isCollapse=!this.isCollapse;\r\n      // },\r\n      // showMenu(i,status){\r\n      //   this.$refs.menuisCollapse.getElementsByClassName('submenu-hook-'+i)[0].style.display=status?'block':'none';\r\n      // }\r\n    },\r\n    mounted() {\r\n\r\n      var user = sessionStorage.getItem('user');\r\n      if (user) {\r\n        user = JSON.parse(user);\r\n        this.sysUserName = user.name || '';\r\n        this.sysUserAvatar = user.avatar || '';\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import '~scss_vars';\r\n  .bgColor{\r\n    background:#f5f5f5;\r\n    .shadows{\r\n      position:absolute;\r\n      width:100%;\r\n      top:56px;\r\n      left:0;\r\n      height:4px;\r\n      z-index:999;\r\n      box-shadow: 0 2px 5px 0 rgba(204, 204, 204, 0.5);\r\n    }\r\n  }\r\n  .mains{\r\n    .content-container{\r\n      background:#fff;\r\n    }\r\n    .content-wrapper{\r\n      padding:0 !important;\r\n    }\r\n  }\r\n  .errorTop{\r\n    position:absolute;\r\n    top:0;\r\n    width:100%;\r\n    min-width:1190px;\r\n    height:60px;\r\n    background:#Fff;\r\n    transform:translate(-50%,0);\r\n    z-index:99;\r\n    .topCont{\r\n      display:block;\r\n      width:595px;\r\n      height:60px;\r\n      float:right;\r\n      line-height:60px;\r\n      .logos{\r\n        width:104px;\r\n        height:60px;\r\n        float:left;\r\n        background:url(../assets/logos.png) no-repeat center;\r\n        background-size:contain;\r\n      }\r\n      p{ \r\n        width:170px;\r\n        padding:0;\r\n        float:left;\r\n        padding-left:20px;\r\n        font-size: 20px;\r\n        color: #333333;\r\n        height:60px;\r\n        line-height:60px;\r\n\r\n      }\r\n    }\r\n  }\r\n  .el-menu--collapse {\r\n    width: 64px;\r\n  }\r\n  .breadcrumb-router {\r\n    position: relative;\r\n    padding-bottom: 20px;\r\n    border-radius: 0\r\n  }\r\n  .app-container {\r\n    position: absolute;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n\r\n    .main {\r\n      width: 100%;\r\n      display: flex;\r\n      bottom: 0px;\r\n      overflow: hidden;\r\n      position:absolute;\r\n      top:60px;\r\n      aside {\r\n        flex:0 0 200px;\r\n        width: 200px;\r\n        .el-menu{\r\n          height: 100%;\r\n        }\r\n        .isCollapse{\r\n          width:60px;\r\n          .item{\r\n            position: relative;\r\n          }\r\n          .submenu{\r\n            position:absolute;\r\n            top:0px;\r\n            left:60px;\r\n            z-index:99999;\r\n            height:auto;\r\n            display:none;\r\n          }\r\n\r\n        }\r\n      }\r\n      .content-container {\r\n        position: relative;\r\n        flex:1;\r\n        overflow-y: scroll;\r\n        .breadcrumb-container {\r\n          //margin-bottom: 15px;\r\n          .title {\r\n            width: 200px;\r\n            float: left;\r\n            color: #475669;\r\n          }\r\n          .breadcrumb-inner {\r\n            float: right;\r\n          }\r\n        }\r\n        .content-wrapper {\r\n          background-color: #fff;\r\n          box-sizing: border-box;\r\n        }\r\n        .breadcrumb-router{\r\n          border:none;\r\n          padding-left:40px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/FullNoLeft.vue","import axios from 'axios';\r\n\r\nconst newAxios = axios.create({\r\n    headers: { 'X-Requested-With': 'ajax' }\r\n});\r\n\r\nnewAxios.interceptors.response.use(function (res) {\r\n    if(res.headers.redirect){\r\n        window.location.href = res.headers.contentpath;\r\n    }\r\n    return res;\r\n}, function (error) {\r\n    console.log(res)\r\n});\r\n\r\nexport default newAxios;\n\n\n// WEBPACK FOOTER //\n// ./src/api/newAxios.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19acfbe8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19acfbe8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 46","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  这是一个Demo\\n  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.price},on:{\"keyup\":_vm.inputHandle,\"input\":_vm.inputHandle}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.price},on:{\"keyup\":function($event){_vm.onafterpasteHandle($event)},\"input\":_vm.onafterpasteHandle}}),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('input',{attrs:{\"type\":\"text\",\"value\":\"0\",\"name\":\"\"},on:{\"focus\":_vm.focusHandle}})]),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"100px\"}},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"默认\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间选择\",\"rules\":[{ required: true, validator: _vm.validatePass, trigger: 'blur, change' }],\"prop\":\"dateValue\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},on:{\"change\":_vm.changeHandle},model:{value:(_vm.ruleForm.dateValue),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"dateValue\", $$v)},expression:\"ruleForm.dateValue\"}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-4567d049\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/Demo.vue\n// module id = McuT\n// module chunks = 46","// import babelpolyfill from 'babel-polyfill'\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport VueSummernote from '@/components/editer'\r\nimport ElementUI from 'element-ui'\r\nimport LoadingMask from '@/components/loading/'\r\nimport VueResource from 'vue-resource'\r\nimport { MessageBox } from 'element-ui';\r\n// import VueRouter from 'vue-router'\r\nimport store from '@/vuex/store'\r\nimport Vuex from 'vuex'\r\nimport router from '@/router/'\r\nimport '../theme/index.css'\r\nimport './assets/iconfont/iconfont.css'\r\nimport './assets/iconfont/iconfont.js'\r\nimport './styles/main.css'\r\nimport './permission.js'  //权限\r\n//import NProgress from 'nprogress'\r\n//import 'nprogress/nprogress.css'\r\n// 载入bootstrap.js\r\nrequire('bootstrap')\r\nrequire('bootstrap/dist/css/bootstrap.min.css')\r\nrequire('summernote/dist/summernote.css')\r\n\r\nVue.use(VueResource);\r\nVue.use(ElementUI)\r\n// Vue.use(VueRouter)\r\nVue.use(Vuex)\r\nVue.use(LoadingMask)\r\n\r\nVue.use(VueSummernote, {\r\n  height: 300,\r\n  disableDragAndDrop: true,\r\n  toolbar: [\r\n    ['style', ['style']],\r\n    ['font', ['bold', 'underline', 'clear']],\r\n    ['fontname', ['fontname']],\r\n    ['fontsize', ['fontsize']],\r\n    ['color', ['color']],\r\n    ['para', ['ul', 'ol', 'paragraph']],\r\n    ['table', ['table']],\r\n    ['insert', ['link', 'picture', 'video']],\r\n    ['view', ['fullscreen']]\r\n    // ['view', ['fullscreen', 'codeview', 'help']]\r\n  ]\r\n})\r\n\r\n\r\n//NProgress.configure({ showSpinner: false });\r\n/*\r\nrouter.beforeEach((to, from, next) => {\r\n  //NProgress.start();\r\n  // if (to.path == '/login') {\r\n  //   sessionStorage.removeItem('user');\r\n  // }\r\n  // let user = JSON.parse(sessionStorage.getItem('user'));\r\n  // if (!user && to.path != '/login') {\r\n  //   next({ path: '/login' })\r\n  // } else {\r\n  //   next()\r\n  // }\r\n  next()\r\n})*/\r\nrouter.beforeEach((to, from, next) => {\r\n  if(localStorage.getItem('merchant')==1){//控制入驻成功后刷新页面\r\n    localStorage.setItem(\"merchant\",0);\r\n    next({ path: '/store/message'}); // 确保一定要调用 next()\r\n  }\r\n  \r\n  \r\n  next(); // 确保一定要调用 next()\r\n})\r\n\r\n//router.afterEach(transition => {\r\n//NProgress.done();\r\n//});\r\n\r\n\r\nVue.filter('numbers', function(value) {\r\n    return value.replace(/[^\\d]/g,'');\r\n});\r\n\r\nconst app2 = new Vue({\r\n  //el: '#app',\r\n  //template: '<App/>',\r\n  router,\r\n  store,\r\n  \r\n\r\n  //components: { App }\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('app-header',{attrs:{\"sysUserName\":_vm.sysUserName}}),_vm._v(\" \"),_c('div',{staticClass:\"shadows\"}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('el-menu',{staticClass:\"pro-sidebar\",attrs:{\"default-active\":_vm.$route.path,\"unique-opened\":\"\",\"router\":\"\",\"backgroundColor\":\"#545c64\",\"textColor\":\"#fff\",\"activeTextColor\":\"#ffd04b\"}},[_vm._l((_vm.$router.options.routes),function(item,index){return (!item.hidden)?[(!item.leaf)?_c('el-submenu',{attrs:{\"index\":index+''}},[_c('template',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{class:item.iconCls}),_c('span',{staticClass:\"side-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_vm._l((item.children),function(child){return (!child.hidden)?_c('el-menu-item',{key:child.name,attrs:{\"index\":child.path}},[_vm._v(_vm._s(child.name))]):_vm._e()})],2):_vm._e(),_vm._v(\" \"),(item.leaf && item.children.length>0)?_c('el-menu-item',{staticClass:\"sub-title\",attrs:{\"index\":item.children[0].path}},[_c('i',{class:item.iconCls}),_vm._v(_vm._s(item.children[0].name))]):_vm._e()]:_vm._e()})],2),_vm._v(\" \"),_c('section',{staticClass:\"content-container\"},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('div',{staticClass:\"content-wrapper\",attrs:{\"span\":24}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view',{key:_vm.key})],1)],1)])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-635ab213\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/Full.vue\n// module id = QquN\n// module chunks = 46","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"el-loading-mask\"},[_c('div',{staticClass:\"el-loading-spinner\"},[_c('svg',{staticClass:\"circular\",attrs:{\"viewBox\":\"25 25 50 50\"}},[_c('circle',{staticClass:\"path\",attrs:{\"cx\":\"50\",\"cy\":\"50\",\"r\":\"20\",\"fill\":\"none\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-fbacdfbe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/loading/LoadingMask.vue\n// module id = WJS9\n// module chunks = 46","//test\r\nexport const getCount = state => {\r\n    return state.count\r\n}\r\n\r\nexport const getStoreId = state => {\r\n    return state.storeId\r\n}\r\n\r\nexport const getUserSelectedSku = state => {\r\n    return state.userSelectedTheSku\r\n}\r\n\r\nexport const getProductSkuQuantity = state => {\r\n    return state.productForm.skuQuantity\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/getters.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"message-con\"},[_vm._l((_vm.message),function(item,index){return _c('div',{staticClass:\"message-item\"},[_c('div',{staticClass:\"message-item-top\",on:{\"click\":function($event){_vm.toggleDown(item.bottom,index)}}},[_c('div',{staticClass:\"message-title\"},[_c('i',[_vm._v(\"•\")]),_vm._v(\" \"),_c('span',[_vm._v(\"【\"+_vm._s(_vm.switchType(item.majorType))+\"】\"+_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"message-time\"},[_vm._v(\"\\n                \"+_vm._s(_vm.switchTime(item.createdAt))+\"\\n                \"),(!item.bottom)?_c('i',{staticClass:\"el-icon-caret-bottom\"}):_c('i',{staticClass:\"el-icon-caret-top\"})])]),_vm._v(\" \"),(item.bottom)?_c('div',{staticClass:\"message-item-detail\"},[_c('p',{domProps:{\"innerHTML\":_vm._s(item.content)}}),_vm._v(\" \"),(item.jumpNot != \"\")?_c('router-link',{attrs:{\"to\":item.jumpLink}},[_vm._v(\"查看详情\")]):_vm._e()],1):_vm._e()])}),_vm._v(\" \"),(_vm.total > _vm.pageSize)?_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[20,50,100],\"page-size\":_vm.pageSize,\"layout\":\"sizes, prev, pager, next, jumper,total\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-22c5b8f4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/message/PersonMessage.vue\n// module id = X1Wg\n// module chunks = 46","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Full from '@/components/Full.vue'\r\nimport FullNoLeft from '@/components/FullNoLeft.vue'\r\nimport Demo from '@/views/Demo'\r\n\r\n/*import MerchantEnter from '@/views/shops//MerchantEnter.vue'\r\nimport MerchantEnter1 from '@/views/shops//MerchantEnter1.vue'*/\r\n\r\n//import mendian from '@/views/charts/mendian.vue'\r\nimport PersonMessage from '@/views/message/PersonMessage.vue'\r\n\r\n//商品管理路由\r\nimport goodsManagementRoutes from './goodsManagementRoutes.js'\r\n\r\n//首页路由\r\nimport home from './home.js'\r\n\r\n/*404*/\r\nimport NotFound from './404.js'\r\n\r\n//商家入驻\r\nimport MerchantEnter from './merchantEnter.js'\r\n\r\n//店铺管理路由\r\nimport shopsManagementRoutes from './shopsManagementRoutes.js'\r\n\r\n/*交易管理路由*/\r\nimport transaction from './transactionRoutes.js'\r\n\r\n/*营销路由管理*/\r\nimport marketingCenter from './marketingCenterRoutes.js'\r\n\r\n\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routers = new VueRouter({\r\n    routes:[\r\n    {\r\n        path: '/',\r\n        component: Full,\r\n        name: '',\r\n        hidden: true,\r\n        redirect: '/home/index',\r\n    },   \r\n    {\r\n        path: '/demo',\r\n        component: Demo,\r\n        name: 'demo',\r\n        hidden: true\r\n    }, \r\n    {\r\n        path: '/home',\r\n        component: Full,\r\n        name: '',\r\n        hidden:true,\r\n        redirect: '/home/index',\r\n        children: home\r\n    },\r\n\r\n    /*消息中心*/\r\n    {\r\n        path: '/person',\r\n        component: Full,\r\n        name: '',\r\n        hidden: true,\r\n        children: [{\r\n            path: '/person/message', \r\n            component: PersonMessage,\r\n            name: '消息中心' \r\n        }]\r\n    },\r\n    /*{\r\n        path: '/merchant-enter',\r\n        component: MerchantEnter,\r\n        name: '',\r\n        hidden: true\r\n    },*/\r\n    {\r\n        path: '/merchant',\r\n        component: FullNoLeft,\r\n        name: '',\r\n        hidden: true,\r\n        children:MerchantEnter\r\n    },\r\n    {\r\n        path: '/404',\r\n        component: FullNoLeft,\r\n        name: '',\r\n        children:NotFound,\r\n        hidden: true\r\n    },\r\n    {\r\n        path: '*',\r\n        redirect: '/404',\r\n        hidden: true\r\n    }\r\n  ]\r\n})\r\n\r\nexport default routers;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport actions from './actions'\r\nimport * as getters from './getters'\r\nconst storeId = window.config && window.config.storeId ? window.config.storeId : ''\r\nVue.use(Vuex)\r\n\r\n// 应用初始状态\r\nconst state = {\r\n    count: 10,\r\n    storeId: storeId,\r\n    userName: '',\r\n    userId: '',\r\n    storeType: '',\r\n    apiHost: '',\r\n    productForm: {\r\n        skuQuantity: ''\r\n    },\r\n    userSelectedTheSku: [],\r\n    templateValueList: []\r\n}\r\n\r\n// 定义所需的 mutations\r\nconst mutations = {\r\n    INCREMENT(state) {\r\n        state.count++\r\n    },\r\n    DECREMENT(state) {\r\n        state.count--\r\n    },\r\n    UPDATE_TEMPLATE_VALUE_LIST(state){\r\n        state.templateValueList = state\r\n    },\r\n    UPDATE_USER_SELECTED_THE_SKU(state, data){\r\n        //state.userSelectedTheSku = data\r\n        Vue.set(state, 'userSelectedTheSku',  data)\r\n    },\r\n    //更新商品库存\r\n    UPDATE_PRODCUT_SKU_QUANTITY(state, data){\r\n        state.productForm.skuQuantity = data\r\n    }\r\n}\r\n\r\n// 创建 store 实例\r\nexport default new Vuex.Store({\r\n    actions,\r\n    getters,\r\n    state,\r\n    mutations\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","\r\n/*营销中心*/\r\nconst Tool =  resolve => require(['@/views/tool/Tool.vue'],resolve)\r\nconst Rule =  resolve => require(['@/views/tool/Rule.vue'],resolve)\r\nconst Create = resolve => require(['@/views/tool/Create.vue'],resolve)\r\nconst Management =  resolve => require(['@/views/active/Management.vue'],resolve)\r\nconst Attend =  resolve => require(['@/views/active/Attend.vue'],resolve)\r\n\r\nconst routers = [\r\n    { path: '/marketing-center/tool', component: Tool, name: '营销工具' ,\r\n        children: [\r\n            { path: '/marketing-center/tool/detail', component: Rule, name: '现金券'},\r\n            { path: '/marketing-center/tool/create', component: Create, name: '创建活动'}\r\n        ]\r\n    },\r\n    { path: '/marketing-center/management', component: Management, name: '活动管理' ,\r\n        children: [\r\n            { path: '/marketing-center/management/detail', component: Create, name:'活动明细'},\r\n            { path: '/marketing-center/management/attend', component: Attend, name:'活动详情'}\r\n        ]\r\n    }\r\n]\r\n\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/marketingCenterRoutes.js","/*商家入驻*/\r\nconst merchantEnterBefore = resolve => require(['@/views/merchant_enter/MerchantEnterBefore.vue'],resolve);\r\n\r\nconst merchantEnter = resolve => require(['@/views/merchant_enter/MerchantEnter.vue'],resolve);\r\n\r\nconst routers = [\r\n    { \r\n        path: '/merchant/merchant-enter-before',  \r\n        component: merchantEnterBefore, \r\n        hidden: true\r\n    },\r\n    {\r\n        path: '/merchant/merchant-enter', \r\n        component: merchantEnter,\r\n        hidden: true\r\n    }\r\n];\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/merchantEnter.js","<template>\r\n  <transition name=\"fade\"\r\n  mode=\"out-in\">\r\n    <router-view></router-view>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'app',\r\n    components: {\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  html {\r\n    height: 100%;\r\n  }\r\n  body {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    /* background: url(assets/bg1.jpg) center !important; */\r\n    /* background: url('images/login_bg.png') no-repeat center top; */\r\n    background-size: cover;\r\n    -webkit-background-size: cover;\r\n    -moz-background-size: cover;\r\n    -o-background-size: cover;\r\n    font-family: Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, SimSun, sans-serif;\r\n    font-size: 14px;\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n\r\n  #app {\r\n    position: absolute;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    width: 100%;\r\n  }\r\n\r\n  .el-submenu [class^=fa] {\r\n    vertical-align: baseline;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .el-menu-item [class^=fa] {\r\n    vertical-align: baseline;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .toolbar {\r\n    background: #f2f2f2;\r\n    padding: 10px;\r\n  //border:1px solid #dfe6ec;\r\n  margin: 10px 0px;\r\n  .el-form-item {\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: all .2s ease;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-active {\r\n  opacity: 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import LoadingMask from './LoadingMask'\r\n\r\nconst loading = {\r\n    install:function(Vue){\r\n        Vue.component('LoadingMask', LoadingMask)\r\n    }  //'Loading'这就是后面可以使用的组件的名字，install是默认的一个方法\r\n};\r\n\r\nexport default loading;\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading/index.js","(function(window){var svgSprite='<svg><symbol id=\"icon-iconfonterror\" viewBox=\"0 0 1024 1024\"><path d=\"M514.15386963 168.64401245c-188.89041138 0-342.01620484 153.12579346-342.01620484 342.01620484s153.12579346 342.01620484 342.01620484 342.01620483 342.01620484-153.12579346 342.01620483-342.01620483S703.04345703 168.64401245 514.15386963 168.64401245zM632.35879516 630.62927246c-8.83630372 8.83630372-21.2659607 8.04611206-21.26596068 8.04611206-16.2355957 0-23.70904541-8.9079895-23.70904542-8.9079895l-73.23074341-73.23074341-73.22909546 73.23074341c0 0-7.47344971 8.9079895-23.70986938 8.9079895 0 0-12.42800903 0.79019165-21.26513672-8.04611206 0 0-9.91488648-10.20162964-9.91488648-22.84716797 0 0 0-16.2355957 10.05825807-24.42590332l72.52212524-72.35897827-73.33786011-73.33786011c-11.35107422-11.35107422-9.05136109-24.28253174-9.05136109-24.28253173 0-13.93753052 8.76461792-20.97756958 8.76461793-20.97756958 9.62649536-9.62649536 21.40933227-9.76986695 21.40933227-9.76986695 15.37371826 0 24.42590333 9.76986695 24.42590332 9.76986695l73.32714844 73.16235351 73.32879639-73.16235351c0 0 9.05136109-9.76986695 24.42590331-9.76986695 0 0 11.78283692 0.14337158 21.40933229 9.76986695 0 0 8.76461792 7.04003906 8.76461791 20.97756957 0 0 2.29806518 12.93145752-9.05300903 24.28253174l-73.33786011 73.33786011 72.52377319 72.35897827c10.05743408 8.19113159 10.05743408 24.42590333 10.05743409 24.42590333C642.27285766 620.42681885 632.35879516 630.62927246 632.35879516 630.62927246z\"  ></path></symbol><symbol id=\"icon-xiangyou\" viewBox=\"0 0 1024 1024\"><path d=\"M724.913 511.998 342.432 129.516l-43.343 43.343 339.14 339.141-339.141 339.14 43.343 43.346L724.913 511.998z\"  ></path></symbol><symbol id=\"icon-dengyuhao\" viewBox=\"0 0 1024 1024\"><path d=\"M995.84 386.56 28.16 386.56C12.8 386.56 0 378.88 0 358.4c0-15.36 15.36-23.04 28.16-23.04l967.68 0c15.36 0 28.16 7.68 28.16 23.04C1024 381.44 1008.64 386.56 995.84 386.56L995.84 386.56 995.84 386.56z\"  ></path><path d=\"M995.84 680.96 28.16 680.96c-15.36 0-28.16-7.68-28.16-23.04 0-15.36 12.8-28.16 28.16-28.16l967.68 0c15.36 0 28.16 15.36 28.16 28.16C1024 670.72 1008.64 680.96 995.84 680.96L995.84 680.96 995.84 680.96z\"  ></path></symbol><symbol id=\"icon-dengyu\" viewBox=\"0 0 1024 1024\"><path d=\"M67.971 306.879h888.861z\"  ></path><path d=\"M956.831 318.944h-888.861c-6.434 0-12.066-5.631-12.066-12.066s5.631-12.066 12.066-12.066h888.861c6.434 0 12.066 5.631 12.066 12.066s-5.631 12.066-12.066 12.066z\"  ></path><path d=\"M67.971 717.121h888.861z\"  ></path><path d=\"M956.831 729.187h-888.861c-6.434 0-12.066-5.631-12.066-12.066s5.631-12.066 12.066-12.066h888.861c6.434 0 12.066 5.631 12.066 12.066s-5.631 12.066-12.066 12.066z\"  ></path></symbol><symbol id=\"icon-guanbi1\" viewBox=\"0 0 1024 1024\"><path d=\"M512 142.859375C308.47085571 142.859375 142.859375 308.4453125 142.859375 512s165.5859375 369.140625 369.140625 369.140625c203.52914429 0 369.140625-165.5859375 369.140625-369.140625S715.5546875 142.859375 512 142.859375z m150.58300781 482.8359375c10.28320313 10.3359375 10.25683594 27-0.05191039 37.28320313a26.3152771 26.3152771 0 0 1-18.61523438 7.69921875c-6.77636719 0-13.52636719-2.58398438-18.66879273-7.75195313l-113.37890625-113.72167969-113.74804687 112.53598023c-5.14077758 5.0625-11.83886719 7.61929321-18.53613282 7.61929321a26.2732544 26.2732544 0 0 1-18.74707031-7.83105469c-10.23046875-10.36230469-10.15136719-27.02636719 0.21176148-37.28320312L474.6640625 511.86816406 361.46890258 398.3046875c-10.28320313-10.31039429-10.25601196-27 0.05273438-37.28320313 10.31039429-10.31039429 26.97280883-10.25683594 37.28320312 0.0519104l113.35253907 113.69613648L625.90542602 362.234375c10.33511352-10.25601196 27.0519104-10.15136719 37.28320313 0.21176148 10.25601196 10.36230469 10.15136719 27.0519104-0.21176147 37.28320312L549.36230469 512.10464477l113.22070312 113.59066773z\" fill=\"\" ></path></symbol><symbol id=\"icon-guanbi2\" viewBox=\"0 0 1024 1024\"><path d=\"M514.53125 525.5m-343.40625 0a343.40625 343.40625 0 1 0 686.8125 0 343.40625 343.40625 0 1 0-686.8125 0Z\" fill=\"#EA9325\" ></path><path d=\"M518.75 575.28125L638.5625 692.5625c16.875 16.03125 43.03125 16.03125 59.0625-0.84375 16.03125-16.875 16.03125-43.03125-0.84375-59.0625L577.8125 516.21875l113.0625-115.59375c16.03125-16.875 16.03125-43.03125-0.84375-59.0625-16.875-16.03125-43.03125-16.03125-59.0625 0.84375L517.90625 457.15625 398.9375 339.875c-16.875-16.03125-43.03125-16.03125-59.0625 0.84375-16.03125 16.875-16.03125 43.03125 0.84375 59.0625l118.96875 117.28125-121.5 123.1875c-16.03125 16.875-16.03125 43.03125 0.84375 59.0625 16.875 16.03125 43.03125 16.03125 59.0625-0.84375l120.65625-123.1875z\" fill=\"#FFFFFF\" ></path></symbol><symbol id=\"icon-gouxuan1\" viewBox=\"0 0 1024 1024\"><path d=\"M512.021 65.661c-247 0-447.185 200.206-447.185 447.185S265.02 960.031 512.021 960.031c246.955 0 447.186-200.206 447.186-447.185S758.977 65.661 512.02 65.661zM748.28 396.334L462.237 682.397c-9.257 9.236-24.194 9.28-33.539-0.087-0.021 0-0.044-0.022-0.044-0.022L260.567 514.2c-9.323-9.323-9.389-24.325-0.044-33.67 9.28-9.302 24.477-9.17 33.67 0.022L445.51 631.869l269.142-269.162c9.258-9.236 24.192-9.258 33.538 0.088 9.302 9.302 9.259 24.412 0.089 33.539z\"  ></path></symbol><symbol id=\"icon-yanjing\" viewBox=\"0 0 1024 1024\"><path d=\"M511.96234179 300.06395881C299.67067492 300.06395881 187.11316835 501.3847739 187.11316835 501.3847739s121.53319716 178.94169688 324.84917344 178.94169688c203.33118439 0 324.8774171-178.94169688 324.87741708-178.94169688S736.98610617 300.06395881 511.96234179 300.06395881z m0.19987821 304.67885435c-64.73229826 0-117.21119285-51.20937824-117.21119284-114.36872186 0-63.1593436 52.4788946-114.36872183 117.21119284-114.36872183 64.73157405 0 117.21046866 51.20937824 117.21046866 114.36872183 0 63.1593436-52.47961879 114.36872183-117.21119287 114.36872186z m-0.18539429-161.00479961c-28.34142743 0-51.31511092 22.78901338-51.31511092 50.8921802 0 28.10244263 22.97368347 50.89145602 51.31511092 50.89145601s51.31511092-22.78901338 51.31511092-50.89145601c0-28.10316682-22.97440767-50.89218021-51.31511092-50.8921802z\" fill=\"\" ></path></symbol><symbol id=\"icon-xiala1\" viewBox=\"0 0 1024 1024\"><path d=\"M919.8 381.1L555.2 779.8a57.377 57.377 0 0 1-43.1 19.5c-16.5 0-32.2-7.1-43.1-19.5L104.4 381.1c-17.8-18.8-23.3-46.2-14.1-70.4s31.4-41.1 57.2-43.4h728.9c25.9 2.2 48.2 19 57.4 43.3 9.3 24.3 3.8 51.6-14 70.5z\" fill=\"\" ></path></symbol><symbol id=\"icon-biyan1\" viewBox=\"0 0 2048 1024\"><path d=\"M807.9361104 377.28643885a22.60297697 22.60297697 0 0 0-4.01361275-28.94025996c-9.08343915-7.2174615-21.15948466-5.1402409-28.23611745 4.1544412-0.98579971 1.02100667-112.80364132 136.25158927-245.7809676 136.25158925-128.92850656 0-245.81617485-136.25158927-246.80197453-137.30780316A20.10327073 20.10327073 0 0 0 254.83211335 349.40239282a21.33552008 21.33552008 0 0 0-2.00680636 28.86984573c2.00680637 3.13343454 26.19410408 30.9822736 64.46425341 61.96454691L265.92235916 494.98387115c-8.02722551 8.23846818-7.04142579 21.68759147 1.05621395 28.90505299 2.00680637 4.11923423 7.04142579 6.19645482 12.07604523 6.19645484a19.64557787 19.64557787 0 0 0 14.0828516-6.19645484l55.41602097-58.86631964c26.19410408 18.58936421 57.42282734 36.15772147 91.67936389 48.51542361l-21.1242774 73.30124264a20.70179179 20.70179179 0 0 0 14.0828516 25.8420327h6.05562638a19.50474941 19.50474941 0 0 0 19.11747105-15.49113666l21.15948437-73.30124265c16.12486495 3.09822728 33.2355299 5.1402409 50.34619455 5.14024091 17.1458719 0 34.29174353-2.04201336 50.38140182-5.14024091l21.15948438 72.28023596a20.42013488 20.42013488 0 0 0 19.1526783 15.49113666c2.00680637 0 4.01361276 0 5.03461943-1.05621392a20.73699904 20.73699904 0 0 0 14.08285161-25.80682545l-21.12427743-72.28023595c34.25653658-12.39290938 65.48526007-29.92605968 91.64415693-48.51542388L764.63134163 521.81170355a19.6807851 19.6807851 0 0 0 14.08285162 6.19645482 19.64557787 19.64557787 0 0 0 14.08285161-6.19645482 21.30031312 21.30031312 0 0 0 1.05621394-28.90505301l-51.40240822-54.71187842c41.29796238-30.9822736 65.48526007-60.90833327 65.48525982-60.90833326z\" fill=\"#C7C7C7\" ></path></symbol><symbol id=\"icon-bianji\" viewBox=\"0 0 1024 1024\"><path d=\"M814.545455 0H46.545455a46.545455 46.545455 0 0 0-46.545455 46.545455v930.90909a46.545455 46.545455 0 0 0 46.545455 46.545455h930.90909a46.545455 46.545455 0 0 0 46.545455-46.545455V209.454545 372.363636h-46.545455v581.818182a23.272727 23.272727 0 0 1-23.272727 23.272727h-884.363636a23.272727 23.272727 0 0 1-23.272727-23.272727v-884.363636a23.272727 23.272727 0 0 1 23.272727-23.272727H651.636364V0h162.909091z\" fill=\"#999999\" ></path><path d=\"M825.064727 23.272727l154.903273 154.903273-503.389091 503.342545-154.856727-154.856727L825.064727 23.272727zM282.996364 565.341091l154.856727 154.903273-174.219636 19.362909 19.362909-174.266182z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-fanhui\" viewBox=\"0 0 1024 1024\"><path d=\"M651.82032352 286.50629017L632.83569345 267.49480773 366.99716786 533.33333333l265.83852559 265.8385256 18.98463007-19.01148244L404.99328036 533.33333333 651.82032352 286.50629017z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gangweijiaose\" viewBox=\"0 0 1024 1024\"><path d=\"M329.9555552 420.97777813m-91.02222187 0a91.02222187 91.02222187 0 1 0 182.0444448 0 91.02222187 91.02222187 0 1 0-182.0444448 0Z\" fill=\"#999999\" ></path><path d=\"M147.91111147 694.0444448a182.0444448 182.0444448 0 1 1 364.08888853 0H147.91111147z\" fill=\"#999999\" ></path><path d=\"M56.88888853 147.91111147h910.22222294a45.51111147 45.51111147 0 0 1 45.5111104 45.5111104v637.15555626a45.51111147 45.51111147 0 0 1-45.5111104 45.5111104H56.88888853a45.51111147 45.51111147 0 0 1-45.5111104-45.5111104V193.42222187a45.51111147 45.51111147 0 0 1 45.5111104-45.5111104z m22.75555627 45.5111104a22.7555552 22.7555552 0 0 0-22.75555627 22.75555626v591.64444374a22.7555552 22.7555552 0 0 0 22.75555627 22.75555626h864.7111104a22.7555552 22.7555552 0 0 0 22.75555627-22.75555626v-591.64444374a22.7555552 22.7555552 0 0 0-22.75555627-22.75555626h-864.7111104z\" fill=\"#999999\" ></path><path d=\"M603.02222187 375.46666667h273.06666666v45.51111146h-273.06666666zM603.02222187 512h273.06666666v45.51111147h-273.06666666zM603.02222187 648.53333333h273.06666666v45.51111147h-273.06666666z\" fill=\"#999999\" ></path><path d=\"M603.02222187 420.97777813a22.7555552 22.7555552 0 1 1 0-45.51111146 22.7555552 22.7555552 0 0 1 0 45.51111146z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111146 22.7555552 22.7555552 0 0 1 0 45.51111146z m-273.06666666 136.53333334a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m-273.06666666 136.53333333a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z m273.06666666 0a22.7555552 22.7555552 0 1 1 0-45.51111147 22.7555552 22.7555552 0 0 1 0 45.51111147z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gou\" viewBox=\"0 0 1408 1024\"><path d=\"M131.84 509.056c-19.264-19.264-51.136-18.688-71.104 1.28-19.968 19.968-20.544 51.84-1.28 71.104l396.288 396.288a32 32 0 0 0 45.248 0L1347.264 131.52c19.968-20.032 20.544-51.84 1.28-71.168-19.264-19.2-51.136-18.688-71.04 1.28L480.896 858.24 131.84 509.056z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-guanbi\" viewBox=\"0 0 1024 1024\"><path d=\"M547.75884507 512l83.81257008-83.78294353a14.81310869 14.81310869 0 0 0-20.97536228-20.97536228L526.81310869 491.05426427 443.03016519 407.24169419a14.81310869 14.81310869 0 0 0-20.97536229 20.97536228L505.86737298 512l-83.81257009 83.78294353a14.81310869 14.81310869 0 0 0 20.9753623 20.97536228l83.7829435-83.81257008 83.78294418 83.81257008a14.81310869 14.81310869 0 0 0 20.97536224-20.97536228L547.75884507 512zM512 837.8883953C332.02072736 837.8883953 186.1116047 691.97927264 186.1116047 512S332.02072736 186.1116047 512 186.1116047s325.8883953 145.90912267 325.8883953 325.8883953-145.90912267 325.8883953-325.8883953 325.8883953z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-gouxuan\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.236364 1024 0 794.763636 0 512S229.236364 0 512 0s512 229.236364 512 512-229.236364 512-512 512z m0-46.545455c257.070545 0 465.454545-208.384 465.454545-465.454545S769.070545 46.545455 512 46.545455 46.545455 254.929455 46.545455 512s208.384 465.454545 465.454545 465.454545z\" fill=\"#999999\" ></path><path d=\"M264.704 519.214545a23.738182 23.738182 0 0 0-33.512727 0.605091 23.738182 23.738182 0 0 0-0.605091 33.512728l181.015273 181.061818a23.272727 23.272727 0 0 0 32.907636 0l393.122909-393.122909a23.738182 23.738182 0 0 0 0.605091-33.512728 23.738182 23.738182 0 0 0-33.512727 0.605091L429.288727 683.752727l-164.584727-164.584727z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-mima\" viewBox=\"0 0 1024 1024\"><path d=\"M546.909091 712.145455v67.490909a34.909091 34.909091 0 1 1-69.818182 0V712.145455a69.818182 69.818182 0 1 1 69.818182 0zM744.727273 418.909091V279.272727A232.727273 232.727273 0 1 0 279.272727 279.272727v139.636364H232.727273v139.636364h558.545454V418.909091h-46.545454zM488.727273 0h46.545454A256 256 0 0 1 791.272727 256V558.545455H232.727273V256A256 256 0 0 1 488.727273 0z\" fill=\"#999999\" ></path><path d=\"M232.727273 372.363636h558.545454a139.636364 139.636364 0 0 1 139.636364 139.636364v372.363636a139.636364 139.636364 0 0 1-139.636364 139.636364H232.727273a139.636364 139.636364 0 0 1-139.636364-139.636364v-372.363636a139.636364 139.636364 0 0 1 139.636364-139.636364z m0 46.545455a93.090909 93.090909 0 0 0-93.090909 93.090909v372.363636a93.090909 93.090909 0 0 0 93.090909 93.090909h558.545454a93.090909 93.090909 0 0 0 93.090909-93.090909v-372.363636a93.090909 93.090909 0 0 0-93.090909-93.090909H232.727273z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shouji\" viewBox=\"0 0 1024 1024\"><path d=\"M279.272727 0h465.454546a46.545455 46.545455 0 0 1 46.545454 46.545455v930.90909a46.545455 46.545455 0 0 1-46.545454 46.545455H279.272727a46.545455 46.545455 0 0 1-46.545454-46.545455V46.545455a46.545455 46.545455 0 0 1 46.545454-46.545455z m0 162.909091v698.181818h465.454546v-698.181818H279.272727z m232.727273 828.509091a46.545455 46.545455 0 1 0 0-93.090909 46.545455 46.545455 0 0 0 0 93.090909zM460.8 46.545455a18.618182 18.618182 0 1 0 0 37.236363h102.4a18.618182 18.618182 0 1 0 0-37.236363H460.8z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zhanghao\" viewBox=\"0 0 1024 1024\"><path d=\"M977.454545 1000.727273h-46.545454a418.909091 418.909091 0 1 0-837.818182 0H46.545455c0-226.443636 161.698909-415.092364 375.90109-456.843637a279.272727 279.272727 0 1 1 179.10691 0C815.755636 585.634909 977.454545 774.283636 977.454545 1000.727273zM512 502.690909a223.418182 223.418182 0 1 0 0-446.836364 223.418182 223.418182 0 0 0 0 446.836364z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zizhanghao\" viewBox=\"0 0 1325 1024\"><path d=\"M391.529412 240.941176m-210.82353 0a210.823529 210.823529 0 1 0 421.647059 0 210.823529 210.823529 0 1 0-421.647059 0Z\" fill=\"#999999\" ></path><path d=\"M0 903.529412a391.529412 391.529412 0 1 1 783.058824 0H0z\" fill=\"#999999\" ></path><path d=\"M933.647059 361.411765m-210.82353 0a210.823529 210.823529 0 1 0 421.647059 0 210.823529 210.823529 0 1 0-421.647059 0Z\" fill=\"#999999\" ></path><path d=\"M542.117647 1024a391.529412 391.529412 0 1 1 783.058824 0H542.117647z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-zizhanghaoliebiao\" viewBox=\"0 0 1024 1024\"><path d=\"M791.272727 186.181818V46.545455a46.545455 46.545455 0 0 0-46.545454-46.545455H93.090909a46.545455 46.545455 0 0 0-46.545454 46.545455v744.727272a46.545455 46.545455 0 0 0 46.545454 46.545455h139.636364v-46.545455H116.363636a23.272727 23.272727 0 0 1-23.272727-23.272727v-698.181818a23.272727 23.272727 0 0 1 23.272727-23.272727h605.090909a23.272727 23.272727 0 0 1 23.272728 23.272727V186.181818h46.545454z\" fill=\"#999999\" ></path><path d=\"M372.363636 325.818182h465.454546v46.545454H372.363636zM372.363636 418.909091h279.272728v46.545454H372.363636zM372.363636 512h465.454546v46.545455H372.363636zM372.363636 605.090909h279.272728v46.545455H372.363636zM372.363636 698.181818h93.090909v46.545455H372.363636zM512 698.181818h93.090909v46.545455h-93.090909z\" fill=\"#999999\" ></path><path d=\"M279.272727 186.181818h651.636364a46.545455 46.545455 0 0 1 46.545454 46.545455v558.545454l-93.090909 93.090909-139.636363 139.636364H279.272727a46.545455 46.545455 0 0 1-46.545454-46.545455V232.727273a46.545455 46.545455 0 0 1 46.545454-46.545455z m23.272728 46.545455a23.272727 23.272727 0 0 0-23.272728 23.272727v698.181818a23.272727 23.272727 0 0 0 23.272728 23.272727h418.90909l139.636364-139.636363 69.818182-69.818182v-512a23.272727 23.272727 0 0 0-23.272727-23.272727h-605.090909z\" fill=\"#999999\" ></path><path d=\"M977.454545 791.272727v-46.545454h-279.272727v279.272727h46.545455v-232.727273h232.727272z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shenglvehao\" viewBox=\"0 0 1024 1024\"><path d=\"M128 597.333333a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z m384 0a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z m384 0a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-shijian\" viewBox=\"0 0 1024 1024\"><path d=\"M512 981.333333C252.8 981.333333 42.666667 771.2 42.666667 512S252.8 42.666667 512 42.666667s469.333333 210.133333 469.333333 469.333333-210.133333 469.333333-469.333333 469.333333z m0-42.666666c235.648 0 426.666667-191.018667 426.666667-426.666667S747.648 85.333333 512 85.333333 85.333333 276.352 85.333333 512s191.018667 426.666667 426.666667 426.666667z\" fill=\"#999999\" ></path><path d=\"M319.786667 512h213.333333V194.986667a21.333333 21.333333 0 1 0-42.453333-3.157334h-0.213334V469.333333h-170.666666a21.333333 21.333333 0 0 0 0 42.666667z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-rili\" viewBox=\"0 0 1024 1024\"><path d=\"M279.338667 228.992c25.813333-0.085333 45.824-20.693333 46.250666-47.786667 0.213333-14.933333 0-29.909333 0-44.842666h0.085334v-0.725334c0-15.018667 0.128-30.08 0-45.056a46.805333 46.805333 0 0 0-12.373334-32.896 45.44 45.44 0 0 0-50.773333-11.733333 45.226667 45.226667 0 0 0-29.653333 42.922667 4179.2 4179.2 0 0 0-0.256 46.805333c0 14.933333 0 29.866667 0.085333 44.8 0 27.264 20.650667 48.64 46.549333 48.554667h0.085334z m468.693333 0.853333c25.856-0.042667 45.866667-20.650667 46.293333-47.786666 0.213333-14.933333 0-29.866667 0-44.8h0.042667v-0.768c0-15.018667 0.128-30.037333 0-45.056a46.805333 46.805333 0 0 0-12.373333-32.853334 45.44 45.44 0 0 0-50.773334-11.733333c-17.92 6.826667-29.397333 22.826667-29.568 42.88-0.170667 15.573333-0.256 31.146667-0.213333 46.762667l0.042667 44.8c0 27.264 20.650667 48.682667 46.592 48.554666zM545.706667 573.866667h123.093333v91.690666h-123.093333v-91.733333z m187.306666-124.970667h122.88v91.818667h-122.88V448.853333z m0.085334 124.586667h122.709333V665.6h-122.709333v-92.032z m-374.613334 125.44h122.837334v91.776H358.4V698.88z m187.306667-0.213334h122.88v91.648h-122.88v-91.648z m187.349333 0.128h122.965334v91.562667h-122.965334V698.88z m-562.346666 0.128h123.093333v91.648H170.752v-91.648z m0.298666-125.013333h122.88v91.861333h-122.88v-91.818666z m374.442667-124.8h123.093333v91.648h-123.093333v-91.648z m-187.349333 124.885333h123.050666v91.690667H358.144v-91.690667z m0.298666-124.970666h122.88v91.776h-122.88v-91.733334z\" fill=\"#999999\" ></path><path d=\"M963.072 135.68h-115.541333c0 5.546667-0.085333 11.008-0.170667 16.512-0.810667 56.192-40.618667 99.413333-93.013333 102.954667a64.554667 64.554667 0 0 1-16.256-0.170667c-51.370667-4.693333-90.88-48.938667-90.965334-104.362667v-14.933333H377.258667c0 5.546667-0.042667 11.008-0.170667 16.512-0.810667 58.538667-44.074667 103.04-99.84 103.210667-55.722667 0.170667-100.309333-45.994667-100.437333-104.832v-14.933334H60.885333A18.218667 18.218667 0 0 0 42.666667 153.898667V928c0 10.069333 8.149333 18.261333 18.218666 18.261333h902.186667a18.218667 18.218667 0 0 0 18.218667-18.261333V153.898667a18.218667 18.218667 0 0 0-18.218667-18.218667z m-24.490667 725.333333H85.333333v-512h852.48v456.533334H938.666667v55.466666h-0.085334z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-fabuanli\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M716.8 448V294.4c0-7.68-5.12-12.8-12.8-12.8H307.2c-7.68 0-12.8 5.12-12.8 12.8v448c0 7.68 5.12 12.8 12.8 12.8h396.8c7.68 0 12.8-5.12 12.8-12.8V576h-25.6v147.2c0 3.84-2.56 6.4-6.4 6.4h-358.4c-3.84 0-6.4-2.56-6.4-6.4v-409.6c0-3.84 2.56-6.4 6.4-6.4h358.4c3.84 0 6.4 2.56 6.4 6.4V448h25.6z\" fill=\"#333333\" ></path><path d=\"M837.12 376.32c3.84 3.84 3.84 11.52 0 15.36L563.2 665.6c-3.84 3.84-11.52 3.84-15.36 0-3.84-3.84-3.84-11.52 0-15.36l273.92-273.92c3.84-3.84 11.52-3.84 15.36 0z\" fill=\"#333333\" ></path><path d=\"M748.8 194.56c3.84 3.84 3.84 11.52 0 15.36l-48.64 48.64c-3.84 3.84-11.52 3.84-15.36 0-3.84-3.84-3.84-11.52 0-15.36l48.64-48.64c3.84-5.12 10.24-5.12 15.36 0z\" fill=\"#41CAC0\" ></path><path d=\"M683.52 194.56c3.84-3.84 11.52-3.84 15.36 0l48.64 48.64c3.84 3.84 3.84 11.52 0 15.36-3.84 3.84-11.52 3.84-15.36 0l-48.64-48.64c-3.84-3.84-3.84-11.52 0-15.36zM395.52 380.16h122.88c6.4 0 11.52 5.12 11.52 11.52s-5.12 11.52-11.52 11.52h-122.88c-6.4 0-11.52-5.12-11.52-11.52s5.12-11.52 11.52-11.52z\" fill=\"#41CAC0\" ></path><path d=\"M428.8 215.04a16.64 16.64 0 1 0 33.28 0 16.64 16.64 0 1 0-33.28 0Z\" fill=\"#41CAC0\" ></path><path d=\"M766.72 328.96a16.64 16.64 0 1 0 33.28 0 16.64 16.64 0 1 0-33.28 0Z\" fill=\"#41CAC0\" ></path><path d=\"M573.44 128l53.76 53.76-53.76 53.76-53.76-53.76 53.76-53.76z m0 17.92L537.6 181.76l35.84 35.84 35.84-35.84-35.84-35.84zM395.52 471.04h202.24c6.4 0 11.52 5.12 11.52 11.52s-5.12 11.52-11.52 11.52H395.52c-6.4 0-11.52-5.12-11.52-11.52s5.12-11.52 11.52-11.52z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-fabushangpin\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M714.24 460.8h44.8c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-44.8c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24zM688.64 563.2h70.4c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-70.4c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24zM675.84 665.6h108.8c5.12 0 10.24 3.84 10.24 10.24 0 5.12-3.84 10.24-10.24 10.24h-108.8c-5.12 0-10.24-3.84-10.24-10.24s3.84-10.24 10.24-10.24z\" fill=\"#41CAC0\" ></path><path d=\"M258.56 435.2h404.48c7.68 0 12.8 5.12 12.8 12.8v2.56l-52.48 281.6c-1.28 6.4-6.4 10.24-12.8 10.24H311.04c-6.4 0-11.52-3.84-12.8-10.24l-52.48-281.6c-1.28-6.4 3.84-14.08 10.24-15.36h2.56z m17.92 25.6s-1.28 0 0 0c-5.12 1.28-6.4 3.84-6.4 7.68l48.64 243.2c0 2.56 3.84 5.12 6.4 5.12h271.36c2.56 0 5.12-2.56 6.4-5.12l48.64-243.2v-1.28c0-3.84-2.56-6.4-6.4-6.4H276.48z\" fill=\"#333333\" ></path><path d=\"M364.8 531.2m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\" fill=\"#333333\" ></path><path d=\"M556.8 531.2m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\" fill=\"#333333\" ></path><path d=\"M358.4 409.6h-25.6c0-70.4 57.6-128 128-128s128 57.6 128 128h-25.6c0-56.32-46.08-102.4-102.4-102.4s-102.4 46.08-102.4 102.4z\" fill=\"#333333\" ></path></symbol><symbol id=\"icon-fabuhuodong\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.12 1024 0 794.88 0 512S229.12 0 512 0s512 229.12 512 512-229.12 512-512 512z m0-25.6c268.8 0 486.4-217.6 486.4-486.4S780.8 25.6 512 25.6 25.6 243.2 25.6 512s217.6 486.4 486.4 486.4z\" fill=\"#DCE1EA\" ></path><path d=\"M518.4 716.8C401.92 716.8 307.2 610.56 307.2 480S401.92 243.2 518.4 243.2 729.6 349.44 729.6 480 634.88 716.8 518.4 716.8z m0-25.6c102.4 0 185.6-94.72 185.6-211.2S620.8 268.8 518.4 268.8 332.8 363.52 332.8 480 416 691.2 518.4 691.2z\" fill=\"#333333\" ></path><path d=\"M517.12 693.76c-19.2 12.8-21.76 33.28-11.52 60.16 6.4 15.36 2.56 21.76-11.52 28.16l8.96 24.32c28.16-11.52 37.12-33.28 26.88-61.44-6.4-16.64-5.12-24.32 1.28-29.44l-14.08-21.76z\" fill=\"#333333\" ></path><path d=\"M591.36 367.36c11.52 5.12 21.76 12.8 28.16 23.04 6.4 8.96 10.24 21.76 11.52 39.68 0 5.12 5.12 8.96 10.24 8.96s8.96-5.12 8.96-10.24c0-20.48-5.12-38.4-14.08-49.92-8.96-11.52-20.48-21.76-35.84-28.16-5.12-2.56-10.24 0-12.8 5.12s-1.28 8.96 3.84 11.52z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-shangpinguanli\" viewBox=\"0 0 1109 1024\"><path d=\"M106.666667 128h896v853.333333h-896V128z m42.666666 42.666667v768h810.666667V170.666667h-810.666667z\" fill=\"#999999\" ></path><path d=\"M256 597.333333c-34.133333 0-64-29.866667-64-64S221.866667 469.333333 256 469.333333s64 29.866667 64 64S290.133333 597.333333 256 597.333333z m0-42.666666c12.8 0 21.333333-8.533333 21.333333-21.333334S268.8 512 256 512s-21.333333 8.533333-21.333333 21.333333 8.533333 21.333333 21.333333 21.333334zM277.333333 981.333333h42.666667v-341.333333h-128v341.333333h42.666667v-298.666666h42.666666v298.666666z\" fill=\"#999999\" ></path><path d=\"M234.666667 554.666667h42.666666v128h-42.666666zM149.333333 213.333333h810.666667v42.666667h-810.666667z\" fill=\"#999999\" ></path><path d=\"M192 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M320 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M448 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M576 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M704 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M832 256v64c0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667V256h-85.333333z m-42.666667-42.666667h170.666667v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333334-85.333333V213.333333z\" fill=\"#979797\" ></path><path d=\"M149.333333 42.666667h810.666667v128h-810.666667V42.666667z m42.666667 42.666666v42.666667h725.333333V85.333333h-725.333333zM192.085333 785.578667l90.496-90.496 30.165334 30.165333-90.496 90.496zM192.085333 913.578667l90.496-90.496 30.165334 30.165333-90.496 90.496zM362.666667 469.333333h469.333333v512h-469.333333V469.333333z m42.666666 42.666667v426.666667h384V512h-384z\" fill=\"#999999\" ></path><path d=\"M576 512h42.666667v426.666667h-42.666667zM426.453333 616.106667l60.330667-60.373334 30.165333 30.165334-60.330666 60.330666zM426.24 734.592l90.496-90.496 30.165333 30.165333-90.496 90.496zM642.346667 614.997333L702.72 554.666667l30.165333 30.165333-60.330666 60.330667zM639.146667 730.496L729.6 640l30.165333 30.165333-90.496 90.496z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-yingxiaozhongxin\" viewBox=\"0 0 1024 1024\"><path d=\"M174.933333 234.666667L426.666667 256v298.666667l-12.8 4.266666-238.933334 17.066667c-25.6 0-42.666667-17.066667-46.933333-38.4V277.333333c0-25.6 17.066667-42.666667 46.933333-42.666666-4.266667 0 0 0 0 0z m17.066667 42.666666c-12.8 0-21.333333 8.533333-21.333333 21.333334v213.333333c0 12.8 12.8 21.333333 21.333333 21.333333l192-17.066666V294.4l-192-17.066667z\" fill=\"#999999\" ></path><path d=\"M85.333333 320h85.333334v213.333333H85.333333c-25.6 0-42.666667-17.066667-42.666666-42.666666v-128c0-25.6 17.066667-42.666667 42.666666-42.666667z m21.333334 42.666667c-12.8 0-21.333333 8.533333-21.333334 21.333333v85.333333c0 12.8 8.533333 21.333333 21.333334 21.333334H128v-128h-21.333333zM810.666667 298.666667h-42.666667v213.333333h42.666667c46.933333 0 85.333333-38.4 85.333333-85.333333V384c0-46.933333-38.4-85.333333-85.333333-85.333333z m0 42.666666c25.6 0 42.666667 17.066667 42.666666 42.666667v42.666667c0 25.6-17.066667 42.666667-42.666666 42.666666V341.333333zM170.666667 533.333333h170.666666v341.333334c0 46.933333-38.4 85.333333-85.333333 85.333333s-85.333333-38.4-85.333333-85.333333v-341.333334z m42.666666 42.666667v298.666667c0 25.6 17.066667 42.666667 42.666667 42.666666s42.666667-17.066667 42.666667-42.666666v-298.666667H213.333333z\" fill=\"#999999\" ></path><path d=\"M170.666667 618.666667h64c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333333H170.666667v-42.666666zM170.666667 704h64c12.8 0 21.333333 8.533333 21.333333 21.333333s-8.533333 21.333333-21.333333 21.333334H170.666667v-42.666667zM170.666667 789.333333h64c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 21.333333-21.333333 21.333333H170.666667v-42.666667zM452.266667 247.466667c-17.066667 8.533333-25.6 25.6-25.6 38.4v234.666666c0 17.066667 8.533333 29.866667 25.6 38.4l256 128c4.266667 4.266667 12.8 4.266667 17.066666 4.266667 25.6 0 42.666667-17.066667 42.666667-42.666667V157.866667c0-8.533333 0-12.8-4.266667-17.066667-8.533333-21.333333-34.133333-29.866667-55.466666-17.066667l-256 123.733334z m-21.333334-38.4l256-128c42.666667-21.333333 93.866667-4.266667 115.2 38.4 4.266667 12.8 8.533333 25.6 8.533334 38.4v490.666666c0 46.933333-38.4 85.333333-85.333334 85.333334-12.8 0-25.6-4.266667-38.4-8.533334l-256-128c-29.866667-12.8-46.933333-42.666667-46.933333-72.533333V285.866667c0-29.866667 17.066667-59.733333 46.933333-76.8z\" fill=\"#999999\" ></path><path d=\"M640 106.666667h42.666667v597.333333h-42.666667zM490.666667 448c12.8 0 21.333333 8.533333 21.333333 21.333333v42.666667c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333334-21.333333v-42.666667c0-12.8 8.533333-21.333333 21.333334-21.333333z\" fill=\"#999999\" ></path><path d=\"M512 375.466667v-38.4c0-17.066667 8.533333-34.133333 25.6-38.4l46.933333-21.333334c12.8-8.533333 17.066667-17.066667 12.8-29.866666-4.266667-12.8-17.066667-17.066667-29.866666-12.8l-46.933334 21.333333c-29.866667 12.8-51.2 42.666667-51.2 76.8v38.4c0 12.8 8.533333 21.333333 21.333334 21.333333s21.333333-4.266667 21.333333-17.066666zM878.933333 294.4c42.666667 38.4 59.733333 72.533333 59.733334 110.933333s-17.066667 72.533333-59.733334 110.933334c-8.533333 8.533333-8.533333 21.333333 0 29.866666 8.533333 8.533333 21.333333 8.533333 29.866667 0 46.933333-46.933333 68.266667-93.866667 68.266667-145.066666s-25.6-98.133333-68.266667-145.066667c-8.533333-8.533333-21.333333-8.533333-29.866667 0-4.266667 12.8-4.266667 29.866667 0 38.4z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-shangpu\" viewBox=\"0 0 1024 1024\"><path d=\"M85.333333 341.333333v554.666667c0 25.6 17.066667 42.666667 42.666667 42.666667h768c25.6 0 42.666667-17.066667 42.666667-42.666667V341.333333H85.333333zM42.666667 298.666667h938.666666v597.333333c0 46.933333-38.4 85.333333-85.333333 85.333333H128c-46.933333 0-85.333333-38.4-85.333333-85.333333V298.666667z\" fill=\"#999999\" ></path><path d=\"M836.266667 196.266667l93.866666 93.866666c8.533333 8.533333 8.533333 21.333333 0 29.866667-8.533333 8.533333-21.333333 8.533333-29.866666 0l-76.8-76.8v76.8c0 12.8-8.533333 21.333333-21.333334 21.333333s-21.333333-8.533333-21.333333-21.333333v-128h4.266667L896 85.333333l34.133333 17.066667-93.866666 93.866667zM183.466667 196.266667L89.6 290.133333c-4.266667 8.533333-4.266667 25.6 0 29.866667s21.333333 8.533333 29.866667 0l76.8-76.8v76.8c4.266667 12.8 12.8 21.333333 25.6 21.333333s21.333333-8.533333 21.333333-21.333333v-128h-4.266667L128 85.333333l-38.4 17.066667 93.866667 93.866667zM341.333333 512h341.333334c0-12.8 8.533333-21.333333 21.333333-21.333333s21.333333 8.533333 21.333333 21.333333v128c0 119.466667-93.866667 213.333333-213.333333 213.333333s-213.333333-93.866667-213.333333-213.333333v-128c0-12.8 8.533333-21.333333 21.333333-21.333333s21.333333 8.533333 21.333333 21.333333z m341.333334 64V512H341.333333v128c0 93.866667 76.8 170.666667 170.666667 170.666667s170.666667-76.8 170.666667-170.666667v-64z\" fill=\"#999999\" ></path><path d=\"M85.333333 85.333333h853.333334v256H85.333333V85.333333z m42.666667 42.666667v170.666667h768V128H128zM277.333333 512c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-46.933333 38.4-85.333333 85.333333-85.333333s85.333333 38.4 85.333333 85.333333c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-25.6-17.066667-42.666667-42.666667-42.666667s-42.666667 17.066667-42.666667 42.666667zM661.333333 512c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-46.933333 38.4-85.333333 85.333333-85.333333s85.333333 38.4 85.333333 85.333333c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333333-21.333333c0-25.6-17.066667-42.666667-42.666667-42.666667s-42.666667 17.066667-42.666667 42.666667z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-jiaoyiguanli\" viewBox=\"0 0 1024 1024\"><path d=\"M132.266667 541.866667c-38.4 0-46.933333 34.133333-46.933334 64v55.466666c0 29.866667 8.533333 64 46.933334 64h29.866666l4.266667 8.533334c38.4 115.2 183.466667 192 354.133333 192 200.533333 0 337.066667-115.2 337.066667-277.333334v-46.933333c-34.133333-4.266667-59.733333-34.133333-59.733333-68.266667 0-21.333333 8.533333-42.666667 29.866666-55.466666-25.6-59.733333-68.266667-110.933333-128-140.8-8.533333 21.333333-25.6 38.4-38.4 51.2l-8.533333 8.533333-8.533333-4.266667c-68.266667-34.133333-145.066667-29.866667-209.066667 8.533334l-8.533333 4.266666-12.8-4.266666c-25.6-21.333333-46.933333-46.933333-55.466667-81.066667-17.066667 8.533333-29.866667 12.8-38.4 17.066667H307.2c-51.2-21.333333-85.333333-29.866667-110.933333-34.133334 12.8 17.066667 21.333333 38.4 29.866666 59.733334 4.266667 8.533333 4.266667 17.066667 8.533334 25.6l4.266666 8.533333-8.533333 8.533333c-42.666667 38.4-46.933333 68.266667-55.466667 123.733334v12.8h-42.666666z m0 217.6h-12.8C72.533333 759.466667 42.666667 725.333333 42.666667 665.6v-55.466667c0-64 29.866667-98.133333 76.8-98.133333h21.333333c8.533333-51.2 12.8-85.333333 55.466667-128 0-4.266667-4.266667-12.8-8.533334-21.333333-8.533333-25.6-17.066667-51.2-38.4-59.733334-8.533333-4.266667-12.8-12.8-12.8-25.6s8.533333-17.066667 17.066667-17.066666c38.4-4.266667 85.333333 4.266667 153.6 34.133333 17.066667-4.266667 34.133333-8.533333 51.2-17.066667l12.8-4.266666 4.266667 17.066666c12.8 25.6 29.866667 51.2 51.2 72.533334 68.266667-42.666667 153.6-42.666667 226.133333-8.533334 12.8-12.8 25.6-29.866667 34.133333-51.2l4.266667-12.8 17.066667 4.266667c76.8 42.666667 136.533333 106.666667 162.133333 183.466667l4.266667 12.8-12.8 4.266666c-17.066667 4.266667-25.6 21.333333-25.6 34.133334 0 21.333333 17.066667 38.4 38.4 38.4h21.333333v17.066666c4.266667 21.333333 4.266667 42.666667 4.266667 64 0 187.733333-153.6 315.733333-375.466667 315.733334-192 4.266667-345.6-76.8-392.533333-204.8z\" fill=\"#999999\" ></path><path d=\"M268.8 477.866667c-12.8 0-21.333333 12.8-21.333333 21.333333 0 12.8 12.8 21.333333 21.333333 21.333333 12.8 0 21.333333-12.8 21.333333-21.333333 4.266667-8.533333-8.533333-21.333333-21.333333-21.333333z m0 81.066666c-29.866667 0-55.466667-25.6-55.466667-55.466666 0-29.866667 25.6-55.466667 55.466667-55.466667 29.866667 0 55.466667 25.6 55.466667 55.466667 0 29.866667-25.6 55.466667-55.466667 55.466666zM870.4 635.733333c0-8.533333 4.266667-17.066667 17.066667-17.066666 34.133333 0 64-29.866667 64-64 0-8.533333 4.266667-17.066667 17.066666-17.066667 8.533333 0 17.066667 4.266667 17.066667 17.066667 0 51.2-42.666667 93.866667-93.866667 93.866666-12.8 4.266667-21.333333-4.266667-21.333333-12.8z\" fill=\"#999999\" ></path><path d=\"M964.266667 571.733333c-8.533333 0-17.066667-4.266667-17.066667-17.066666 0-34.133333-29.866667-64-64-64-8.533333 0-17.066667-4.266667-17.066667-17.066667 0-8.533333 4.266667-17.066667 17.066667-17.066667 51.2 0 93.866667 42.666667 93.866667 93.866667 4.266667 17.066667-4.266667 21.333333-12.8 21.333333\" fill=\"#999999\" ></path><path d=\"M870.4 507.733333c-17.066667 0-25.6 12.8-25.6 25.6 0 17.066667 12.8 29.866667 25.6 29.866667s29.866667-12.8 29.866667-29.866667c-4.266667-12.8-17.066667-25.6-29.866667-25.6z m0 98.133334c-38.4 0-68.266667-29.866667-68.266667-68.266667 0-38.4 29.866667-68.266667 68.266667-68.266667 38.4 0 68.266667 29.866667 68.266667 68.266667 0 34.133333-29.866667 68.266667-68.266667 68.266667z\" fill=\"#999999\" ></path><path d=\"M934.4 541.866667h-4.266667c-8.533333-4.266667-12.8-12.8-8.533333-21.333334 8.533333-21.333333 8.533333-42.666667 0-64-4.266667-8.533333 0-17.066667 8.533333-21.333333 8.533333-4.266667 17.066667 0 21.333334 8.533333 12.8 29.866667 12.8 64 0 89.6-8.533333 4.266667-12.8 8.533333-17.066667 8.533334M533.333333 85.333333c-85.333333 0-153.6 68.266667-153.6 153.6 0 42.666667 17.066667 85.333333 51.2 115.2 64-38.4 145.066667-42.666667 213.333334-8.533333 29.866667-29.866667 42.666667-68.266667 42.666666-106.666667 0-85.333333-68.266667-153.6-153.6-153.6zM422.4 401.066667l-8.533333-8.533334C366.933333 354.133333 337.066667 298.666667 337.066667 238.933333 341.333333 132.266667 426.666667 42.666667 533.333333 42.666667c106.666667 0 196.266667 89.6 196.266667 196.266666 0 55.466667-21.333333 106.666667-64 145.066667l-8.533333 8.533333-4.266667-8.533333c-68.266667-34.133333-153.6-34.133333-217.6 8.533333l-12.8 8.533334z\" fill=\"#999999\" ></path><path d=\"M465.066667 328.533333c-29.866667-25.6-51.2-55.466667-51.2-93.866666 0-64 55.466667-119.466667 119.466666-119.466667 64 0 119.466667 55.466667 119.466667 119.466667 0 34.133333-12.8 64-38.4 85.333333-8.533333 8.533333-25.6 8.533333-34.133333 0-8.533333-8.533333-8.533333-25.6 0-34.133333 17.066667-12.8 25.6-34.133333 25.6-51.2 0-38.4-34.133333-72.533333-72.533334-72.533334-38.4 0-72.533333 34.133333-72.533333 72.533334 0 21.333333 8.533333 42.666667 29.866667 55.466666 8.533333 8.533333 12.8 21.333333 4.266666 34.133334-4.266667 8.533333-12.8 8.533333-21.333333 8.533333 0 0-4.266667 0-8.533333-4.266667z\" fill=\"#979797\" ></path><path d=\"M649.344 932.394667c0 4.266667 8.533333 8.533333 12.8 8.533333h115.2c17.066667 0 29.866667-4.266667 34.133333-17.066667 8.533333-8.533333 12.8-21.333333 4.266667-34.133333l-17.066667-38.4c-38.4 34.133333-89.6 59.733333-149.333333 81.066667z m17.066667 46.933333c-21.333333 0-42.666667-12.8-46.933334-29.866667l-12.8-29.866666h17.066667c72.533333-17.066667 132.266667-46.933333 174.933333-89.6l21.333334-21.333334 34.133333 81.066667c8.533333 21.333333 4.266667 42.666667-12.8 59.733333-17.066667 17.066667-38.4 25.6-68.266667 25.6h-106.666666zM222.677333 851.328l-21.333333 42.666667c-4.266667 8.533333-4.266667 21.333333 4.266667 29.866666 8.533333 8.533333 17.066667 12.8 29.866666 12.8h123.733334l8.533333-12.8c-55.466667-17.066667-106.666667-42.666667-145.066667-72.533333z m132.266667 128h-123.733333c-25.6 0-46.933333-12.8-64-29.866667-12.8-12.8-17.066667-34.133333-8.533334-55.466666l38.4-85.333334 21.333334 17.066667c42.666667 38.4 102.4 68.266667 170.666666 85.333333l21.333334 4.266667-21.333334 42.666667c-4.266667 12.8-17.066667 21.333333-34.133333 21.333333z\" fill=\"#999999\" ></path><path d=\"M409.6 430.933333c46.933333-38.4 89.6-59.733333 136.533333-59.733333s89.6 21.333333 136.533334 59.733333c8.533333 8.533333 21.333333 8.533333 29.866666-4.266666 8.533333-8.533333 8.533333-21.333333-4.266666-29.866667-55.466667-46.933333-106.666667-68.266667-162.133334-68.266667s-110.933333 21.333333-162.133333 68.266667c-8.533333 8.533333-12.8 21.333333-4.266667 29.866667 8.533333 8.533333 21.333333 12.8 29.866667 4.266666zM302.933333 806.4c38.4 38.4 89.6 59.733333 162.133334 68.266667 72.533333 8.533333 128 4.266667 166.4-25.6 8.533333-8.533333 12.8-21.333333 4.266666-29.866667s-21.333333-12.8-29.866666-4.266667c-29.866667 21.333333-72.533333 25.6-132.266667 17.066667-64-8.533333-106.666667-29.866667-136.533333-59.733333-8.533333-8.533333-21.333333-8.533333-29.866667 0-8.533333 8.533333-8.533333 25.6-4.266667 34.133333z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-xiala\" viewBox=\"0 0 2048 1024\"><path d=\"M609.74237382 246.63607006h821.4157323L1020.45023997 657.3439362z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-icon-xiala\" viewBox=\"0 0 2048 1024\"><path d=\"M861.92867843 372.82710723h430.80008518L1077.32872101 588.22714982z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-xiala-1\" viewBox=\"0 0 2048 1024\"><path d=\"M861.92867843 372.82710723h430.80008518L1077.32872101 588.22714982z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-xiala2\" viewBox=\"0 0 1024 1024\"><path d=\"M324.02394184 584.9055293L492.08689133 401.12413061a26.44801935 26.44801935 0 0 1 19.86701352-8.98855602c7.60570122 0 14.84264118 3.27275629 19.86701348 8.98855603L699.88386783 584.9055293c8.20493829 8.66588987 10.74017202 21.29596343 6.49941743 32.45099188s-14.47387992 18.94511033-26.36643092 20.00529901l-335.98761352 0c-11.93864618-1.01409349-22.2178666-8.7580802-26.45862123-19.95920384-4.2868498-11.20112363-1.75161606-23.78510201 6.45332225-32.49708705z\" fill=\"\" ></path></symbol><symbol id=\"icon-youxi\" viewBox=\"0 0 1024 1024\"><path d=\"M933.8 267.1H217.6c-14.9 0-26.9 12.2-26.9 26.9v469.8c0 14.9 12.2 26.9 26.9 26.9 17.2 0 31.3 14 31.3 31.3 0 13.3 10.8 23.9 23.9 23.9h605.7c13.3 0 23.9-10.8 23.9-23.9 0-17.2 14-31.3 31.3-31.3 14.9 0 26.9-12.2 26.9-26.9V294.1c0.1-14.8-12-27-26.8-27z\" fill=\"#A7B8C6\" ></path><path d=\"M819.2 226.8H103c-14.9 0-26.9 12.2-26.9 26.9v469.8c0 14.9 12.2 26.9 26.9 26.9 17.2 0 31.3 14 31.3 31.3 0 13.3 10.8 23.9 23.9 23.9h605.7c13.3 0 23.9-10.8 23.9-23.9 0-17.2 14-31.3 31.3-31.3 14.9 0 26.9-12.2 26.9-26.9V253.7c0.1-14.8-12-26.9-26.8-26.9z\" fill=\"#FFFFFF\" ></path><path d=\"M820 240.2H124.6c-14.4 0-26.1 11.9-26.1 26.3v458.9c0 14.5 11.8 26.3 26.1 26.3 16.7 0 30.4 13.7 30.4 30.5 0 13 10.4 23.4 23.2 23.4h588.1c12.9 0 23.2-10.5 23.2-23.4 0-16.8 13.6-30.5 30.4-30.5 14.4 0 26.1-11.9 26.1-26.3V266.5c0.1-14.4-11.7-26.3-26-26.3z\" fill=\"#F2C24E\" ></path><path d=\"M202.3 755.5h584.1v49H202.3z\" fill=\"#ECB228\" ></path><path d=\"M837.3 404.1h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 578.5h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.7-5.5 12.2-12.2 12.2zM837.3 433.1h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 462.2h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.9-5.5 12.2-12.2 12.2zM837.3 491.3h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 520.4h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 549.4h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.7 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2zM837.3 375h-22.5c-6.7 0-12.2-5.4-12.2-12.2 0-6.8 5.4-12.2 12.2-12.2h22.5c6.7 0 12.2 5.4 12.2 12.2 0 6.8-5.5 12.2-12.2 12.2z\" fill=\"#595757\" ></path><path d=\"M588.6 248.7H411.2L98.5 583.8v171.5H116z\" fill=\"#F6D05F\" ></path><path d=\"M662.6 248.8L189.8 755.5h36.5l472.9-506.7z\" fill=\"#F6D05F\" ></path><path d=\"M763.9 817.8H158.2c-19.9 0-36.1-16.2-36.1-36.1 0-10.6-8.6-19.1-19.1-19.1-21.5 0-39.1-17.5-39.1-39.1V253.7c0-21.5 17.5-39.1 39.1-39.1h716.2c21.5 0 39.1 17.5 39.1 39.1v469.8c0 21.5-17.5 39.1-39.1 39.1-10.6 0-19.1 8.6-19.1 19.1-0.1 19.9-16.2 36.1-36.2 36.1zM103 238.9c-8.2 0-14.8 6.7-14.8 14.8v469.8c0 8.2 6.7 14.8 14.8 14.8 23.9 0 43.4 19.4 43.4 43.4 0 6.5 5.3 11.8 11.8 11.8h605.7c6.5 0 11.8-5.3 11.8-11.8 0-23.9 19.4-43.4 43.4-43.4 8.2 0 14.8-6.7 14.8-14.8V253.7c0-8.2-6.7-14.8-14.8-14.8H103z\" fill=\"#3E3A39\" ></path><path d=\"M774.8 653.1H147.2c-5.1 0-9.3-4.2-9.3-9.3v-297c0-5.1 4.2-9.3 9.3-9.3h627.6c5.1 0 9.3 4.2 9.3 9.3v297c0.1 5.1-4.1 9.3-9.3 9.3z\" fill=\"#DCDADB\" ></path><path d=\"M806.6 271.7H115.5c-4.2 0-7.6-3.4-7.6-7.6s3.4-7.6 7.6-7.6h691.1c4.2 0 7.6 3.4 7.6 7.6s-3.4 7.6-7.6 7.6z\" fill=\"#3E3A39\" ></path><path d=\"M731.8 285.1h-73.3c-2.5 0-4.6-2-4.6-4.6 0-2.5 2-4.6 4.6-4.6h73.3c2.5 0 4.6 2 4.6 4.6-0.1 2.6-2.1 4.6-4.6 4.6zM618.1 285.1H447.6c-2.5 0-4.6-2-4.6-4.6 0-2.5 2-4.6 4.6-4.6h170.5c2.5 0 4.6 2 4.6 4.6 0 2.6-2 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M293 704H144.7c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6H293c4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z\" fill=\"#595757\" ></path><path d=\"M293 713.7H144.7c-2.5 0-4.6-2-4.6-4.6s2-4.6 4.6-4.6H293c2.5 0 4.6 2 4.6 4.6s-2.1 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M784.2 704H492.5c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6h291.7c4.2 0 7.6 3.4 7.6 7.6-0.1 4.2-3.4 7.6-7.6 7.6z\" fill=\"#595757\" ></path><path d=\"M784.2 713.7H492.5c-2.5 0-4.6-2-4.6-4.6s2-4.6 4.6-4.6h291.7c2.5 0 4.6 2 4.6 4.6s-2.1 4.6-4.6 4.6z\" fill=\"#FCECC7\" ></path><path d=\"M763.9 817.8H158.2c-19.9 0-36.1-16.2-36.1-36.1 0-10.6-8.6-19.1-19.1-19.1-21.5 0-39.1-17.5-39.1-39.1V253.7c0-21.5 17.5-39.1 39.1-39.1h716.2c21.5 0 39.1 17.5 39.1 39.1v469.8c0 21.5-17.5 39.1-39.1 39.1-10.6 0-19.1 8.6-19.1 19.1-0.1 19.9-16.2 36.1-36.2 36.1zM103 238.9c-8.2 0-14.8 6.7-14.8 14.8v469.8c0 8.2 6.7 14.8 14.8 14.8 23.9 0 43.4 19.4 43.4 43.4 0 6.5 5.3 11.8 11.8 11.8h605.7c6.5 0 11.8-5.3 11.8-11.8 0-23.9 19.4-43.4 43.4-43.4 8.2 0 14.8-6.7 14.8-14.8V253.7c0-8.2-6.7-14.8-14.8-14.8H103z\" fill=\"#3E3A39\" ></path><path d=\"M733.4 615.2v-17.5H621.8v17.5h-55v19.3h-12.9v19.4h195.8v-38.7z\" fill=\"#58B661\" ></path><path d=\"M676.7 595.8v38.3h-35.3v-19.7h-19.6v39.5h75.3V595.8z\" fill=\"#FFFFFF\" ></path><path d=\"M730.6 524.9v-19.7h-53.9v19.7H566.8v55.5h182.9v-55.5z\" fill=\"#56B560\" ></path><path d=\"M676.7 545.3h19.6v-16h-19.6v-24.1h-74v19.1h-35.9v18.2h-12.9v18.8h51.6V543h16.3v18.3h17.9v19.1h-53.5v17.3h127V561.3h-36.5zM713.2 529.3h17.3v32h-17.3z\" fill=\"#E6A657\" ></path><path d=\"M713.2 487.8v-19.5h-91.4v19.5h-52.2v17.4H730.6v-17.4z\" fill=\"#FDFDFD\" ></path><path d=\"M621.8 505.2h19.6v37.3h-19.6z\" fill=\"#604C3F\" ></path><path d=\"M188.7 615.2v-17.5h111.7v17.5h54.9v19.3h12.9v19.4H172.4v-38.7z\" fill=\"#D5322E\" ></path><path d=\"M245.4 595.8v38.3h35.3v-19.7h19.7v39.5H225V595.8z\" fill=\"#364D9E\" ></path><path d=\"M191.5 524.9v-19.7h53.9v19.7h109.9v55.5H172.4v-55.5z\" fill=\"#622A16\" ></path><path d=\"M245.4 545.3h-19.6v-16h19.6v-24.1h74v19.1h35.9v18.2h12.9v18.8h-51.6V543h-16.2v18.3h-18v19.1h53.5v17.3h-127V561.3h36.5z\" fill=\"#E6A657\" ></path><path d=\"M191.5 529.3h17.3v32h-17.3z\" fill=\"#E6A657\" ></path><path d=\"M208.9 487.8v-19.5h91.5v19.5h52.1v17.4h-161v-17.4z\" fill=\"#D73531\" ></path><path d=\"M280.7 505.2h19.6v37.3h-19.6z\" fill=\"#604C3F\" ></path></symbol><symbol id=\"icon-icon-xiala-copy\" viewBox=\"0 0 2048 1024\"><path d=\"M1250.07132141 608.50622611l-430.80008519 0L1034.67127882 393.10618352z\" fill=\"#999999\" ></path></symbol><symbol id=\"icon-GroupCopy\" viewBox=\"0 0 1024 1024\"><path d=\"M512 512a232.727273 232.727273 0 1 0 0-465.454545 232.727273 232.727273 0 0 0 0 465.454545z m0 46.545455a279.272727 279.272727 0 1 1 0-558.545455 279.272727 279.272727 0 0 1 0 558.545455z\" fill=\"#979797\" ></path><path d=\"M0 1024c0-282.763636 229.236364-512 512-512s512 229.236364 512 512h-46.545455c0-257.070545-208.384-465.454545-465.454545-465.454545S46.545455 766.929455 46.545455 1024H0z m46.545455 0H0c0-282.763636 229.236364-512 512-512s512 229.236364 512 512h-46.545455c0-257.070545-208.384-465.454545-465.454545-465.454545S46.545455 766.929455 46.545455 1024z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy1\" viewBox=\"0 0 1024 1024\"><path d=\"M186.181818 418.909091a93.090909 93.090909 0 0 0-93.090909 93.090909v372.363636a93.090909 93.090909 0 0 0 93.090909 93.090909h651.636364a93.090909 93.090909 0 0 0 93.090909-93.090909v-372.363636a93.090909 93.090909 0 0 0-93.090909-93.090909H186.181818z m0-46.545455h651.636364a139.636364 139.636364 0 0 1 139.636363 139.636364v372.363636a139.636364 139.636364 0 0 1-139.636363 139.636364H186.181818a139.636364 139.636364 0 0 1-139.636363-139.636364v-372.363636a139.636364 139.636364 0 0 1 139.636363-139.636364z\" fill=\"#979797\" ></path><path d=\"M279.272727 372.363636h465.454546V279.272727A232.727273 232.727273 0 0 0 279.272727 279.272727v93.090909z m232.727273-372.363636a279.272727 279.272727 0 0 1 279.272727 279.272727v139.636364H232.727273V279.272727a279.272727 279.272727 0 0 1 279.272727-279.272727z\" fill=\"#979797\" ></path><path d=\"M512 674.909091m-69.818182 0a69.818182 69.818182 0 1 0 139.636364 0 69.818182 69.818182 0 1 0-139.636364 0Z\" fill=\"#979797\" ></path><path d=\"M512 744.727273v46.545454-46.545454z m0-46.545455a46.545455 46.545455 0 0 1 46.545455 46.545455v46.545454a46.545455 46.545455 0 0 1-93.09091 0v-46.545454a46.545455 46.545455 0 0 1 46.545455-46.545455z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy2\" viewBox=\"0 0 1609 1024\"><path d=\"M804.571429 950.857143c178.834286 0 360.740571-79.945143 522.678857-212.114286a1087.268571 1087.268571 0 0 0 161.353143-161.353143c17.554286-22.235429 31.451429-42.422857 40.521142-58.368 4.900571-8.777143 6.875429-13.897143 6.875429-7.021714 0 6.948571-1.974857 1.682286-6.875429-7.021714a478.354286 478.354286 0 0 0-40.521142-58.368A1087.268571 1087.268571 0 0 0 1327.250286 285.257143C1165.312 153.088 983.478857 73.142857 804.571429 73.142857 625.737143 73.142857 443.830857 153.014857 281.892571 285.257143A1086.171429 1086.171429 0 0 0 120.685714 446.464c-17.627429 22.235429-31.524571 42.422857-40.521143 58.368C75.117714 513.682286 73.142857 518.802286 73.142857 512c0-6.875429 1.974857-1.682286 6.948572 7.094857 8.996571 15.945143 22.893714 36.132571 40.521142 58.368a1086.171429 1086.171429 0 0 0 161.28 161.353143C443.830857 870.985143 625.664 950.857143 804.571429 950.857143z m0 73.142857C360.228571 1024 0 585.216 0 512c0-73.216 360.228571-512 804.571429-512s804.571429 439.003429 804.571428 512c0 72.996571-360.228571 512-804.571428 512z\" fill=\"#979797\" ></path><path d=\"M804.571429 658.285714a146.285714 146.285714 0 1 0 0-292.571428 146.285714 146.285714 0 0 0 0 292.571428z m0 73.142857a219.428571 219.428571 0 1 1 0-438.857142 219.428571 219.428571 0 0 1 0 438.857142z\" fill=\"#979797\" ></path></symbol><symbol id=\"icon-GroupCopy3\" viewBox=\"0 0 1024 1024\"><path d=\"M512 512L376.237495 376.237495a21.332889 21.332889 0 1 0-30.164705 30.164705l135.762505 135.762505L346.030125 677.969876a21.332889 21.332889 0 1 0 30.164704 30.164705L512 572.32941l135.762505 135.762505a21.332889 21.332889 0 1 0 30.164705-30.164705l-135.762505-135.762505 135.762505-135.762505a21.332889 21.332889 0 1 0-30.164705-30.164705L512 512z m-362.019124 362.019125c-199.974501-199.931835-199.974501-524.106414 0-724.03825 199.931835-199.974501 524.106414-199.974501 724.038249 0 199.974501 199.931835 199.974501 524.106414 0 724.03825-199.931835 199.974501-524.106414 199.974501-724.038249 0z\" fill=\"#FF6969\" ></path></symbol><symbol id=\"icon-tianjia\" viewBox=\"0 0 1024 1024\"><path d=\"M0 469.333333h1024v85.333334H0z\" fill=\"#41CAC0\" ></path><path d=\"M469.333333 0v1024h85.333334V0z\" fill=\"#41CAC0\" ></path></symbol><symbol id=\"icon-GroupCopy4\" viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m0-544.896L363.904 330.965333a23.253333 23.253333 0 0 0-32.938667 32.938667L479.146667 512l-148.138667 148.096a23.253333 23.253333 0 1 0 32.938667 32.938667L512 544.853333l148.096 148.138667a23.253333 23.253333 0 0 0 32.938667-32.938667L544.853333 512l148.138667-148.096a23.253333 23.253333 0 0 0-32.938667-32.938667L512 479.146667z\" fill=\"#41CAC0\" ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/iconfont/iconfont.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header app-navbar\",attrs:{\"id\":\"appHeader\"}},[_c('router-link',{attrs:{\"to\":\"/home/index\"}},[_c('div',{staticClass:\"logo logo-width\"},[_vm._v(_vm._s(_vm.sysName))])]),_vm._v(\" \"),_c('div',{staticClass:\"breadcrumb-container\"},[_c('el-breadcrumb',{staticClass:\"breadcrumb-router\",attrs:{\"separator\":\"/\"}},_vm._l((_vm.$route.matched),function(item){return _c('el-breadcrumb-item',{key:item.path,attrs:{\"to\":{ path: item.path }}},[_vm._v(\"\\n           \"+_vm._s(item.name)+\"\\n          \")])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"userinfo\"},[_c('div',{staticClass:\"user-item\",on:{\"click\":function($event){_vm.jump(\"index\")}}},[_vm._v(\"欢迎你，\"+_vm._s(_vm.ueseName))]),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"padding\":\"0 30px 0 10px\"}},[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand,\"visible-change\":_vm.triangle}},[_c('span',{staticClass:\"el-dropdown-link userinfo-inner\"},[_vm._v(\"商户中心\"),_c('i',{staticClass:\"iconfont icon-xiala2\",class:{'el-xuanzhuan1':_vm.elXuanzhuan1,'el-xuanzhuan2':_vm.elXuanzhuan2}})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"exit\"}},[_vm._v(\"退出登录\")])],1)],1)],1),_vm._v(\" \"),_c('i',{staticClass:\"pipe\"}),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"width\":\"90px\",\"text-align\":\"center\"},on:{\"click\":function($event){_vm.jump(\"note\")}}},[_vm._v(\"消息\"),_c('i',[_vm._v(_vm._s(_vm.total))])]),_vm._v(\" \"),_c('i',{staticClass:\"pipe\"}),_vm._v(\" \"),_c('div',{staticClass:\"user-item\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.jump(\"phone\")}}},[_c('i',{staticClass:\"iconfont icon-shouji\"}),_vm._v(\"商户中心手机版\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-49344fde\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = frEi\n// module chunks = 46","\r\n/*/*店铺信息*/\r\nconst message = resolve => require(['@/views/shops/Message.vue'],resolve);\r\n\r\n/*品牌管理*/\r\nconst brandManagement = resolve => require(['@/views/shops/BrandManagement.vue'],resolve);\r\nconst selBrand = resolve => require(['@/views/shops/SelBrand.vue'],resolve);\r\nconst addBrand = resolve => require(['@/views/shops/AddBrand.vue'],resolve);\r\nconst createBrand = resolve => require(['@/views/shops/CreateBrand.vue'],resolve);\r\n\r\n/*店铺资质*/\r\nconst shopQualification = resolve => require(['@/views/shops/ShopQualification.vue'],resolve);\r\n\r\n/*分类管理*/\r\nconst classifyManagement = resolve => require(['@/views/shops/ClassifyManagement.vue'],resolve);\r\nconst addFenLei = resolve => require(['@/views/shops/AddFenLei.vue'],resolve);\r\nconst findGood = resolve => require(['@/views/shops/FindGood.vue'],resolve);\r\nconst allGood = resolve => require(['@/views/shops/AllGood.vue'],resolve);\r\n\r\n/*子账号管理*/\r\nconst bypassManagement = resolve => require(['@/views/shops/BypassManagement.vue'],resolve);\r\nconst newAccount = resolve => require(['@/views/shops/NewAccount.vue'],resolve);\r\nconst roleList = resolve => require(['@/views/shops/RoleList.vue'],resolve);\r\nconst newRole = resolve => require(['@/views/shops/NewRole.vue'],resolve);\r\nconst accountList = resolve => require(['@/views/shops/AccountList.vue'],resolve);\r\n\r\n/*门店管理*/\r\nconst shopManagement = resolve => require(['@/views/shops/ShopManagement.vue'],resolve);\r\nconst addShop = resolve => require(['@/views/shops/AddShop.vue'],resolve);\r\n\r\n/*店铺管理 =E */\r\nconst routers = [\r\n            { \r\n                path: '/store/message',  \r\n                component: message, \r\n                name: '店铺信息' \r\n            },\r\n            {\r\n                path: '/store/brand-management',\r\n                component: brandManagement,\r\n                name: '品牌管理',\r\n                children: [\r\n                    { path: '/store/brand-management/sel-brand', component: selBrand, name: '选择品牌' },\r\n                    { path: '/store/brand-management/add-brand', component: addBrand, name: '添加品牌' },\r\n                    { path: '/store/brand-management/create-brand', component: createBrand, name: '创建品牌'},\r\n                    { path: '/store/brand-management/compile-brand', component: addBrand, name: '编辑品牌' }\r\n                ]\r\n            },\r\n            { \r\n                path: '/store/shop-qualification',\r\n                component: shopQualification,  \r\n                name: '店铺资质' \r\n            },\r\n            { \r\n                path: '/store/classify-management', \r\n                component: classifyManagement, \r\n                name: '分类管理' ,\r\n                children: [\r\n                    { path: '/store/classify-management/add-fen-lei', component: addFenLei, name: '新增分类' },  \r\n                    { path: '/store/classify-management/all-good', component: allGood, name: '全部分类商品列表' },  \r\n                    { path: '/store/classify-management/find-good', component: findGood, name: '查看商品' },\r\n                    { path: '/store/classify-management/:id', component: addFenLei, name: '编辑分类' }\r\n\r\n                ]\r\n            },\r\n            { \r\n                path: '/store/bypass-management', \r\n                component: bypassManagement, \r\n                name: '子账号管理',\r\n                children: [\r\n                    { path: '/store/bypass-management/role-list', component: roleList, name: '管理角色' }, \r\n                    { path: '/store/bypass-management/account-list', component: accountList, name: '子账号列表' },\r\n                    { path: '/store/bypass-management/new-account', component: newAccount, name: '新建子账号' },\r\n                    { path: '/store/bypass-management/compile-account', component: newAccount, name: '编辑子账号' },\r\n                    { path: '/store/bypass-management/new-role', component: newRole, name: '新建角色' },\r\n                    { path: '/store/bypass-management/:id', component: newRole, name: '编辑角色' }\r\n                \r\n                ]\r\n            },\r\n            {\r\n                path: '/store/shop-management',\r\n                component: shopManagement,\r\n                name: '门店管理' ,\r\n                children: [\r\n                    { path: '/store/shop-management/add', component: addShop, name: '添加门店' },\r\n                    { path: '/store/shop-management/:id', component: addShop, name: '编辑门店' }\r\n                ]\r\n            }\r\n        ];\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/shopsManagementRoutes.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-19acfbe8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = jK5q\n// module chunks = 46","import router from '@/router'\r\nimport asyncRouterArr from './router/asyncRouter'\r\nimport cookie from './util/cookie.js'\r\n\r\n\r\n\r\n/**\r\n * 1店铺,2商品,3交易,4营销\r\n */\r\nlet childArray = cookie.getCookie('childArray');\r\n\r\nconfig.storeType == '2' ? asyncRouterArr[2].children.splice(1,1) : ''; //1企业店铺,2个人店铺\r\nif(childArray){       //是子账号\r\n      config.storeType == '2' ? asyncRouterArr[2].children.splice(3,1) : asyncRouterArr[2].children.splice(4,1) \r\n      childArray = childArray.split('[')[1].split(']')[0].split(',');\r\n      childArray.forEach( (v,i) => {\r\n        switch(Number(v)) {\r\n          case 1: router.options.routes.push(asyncRouterArr[2]); break;\r\n          case 2: router.options.routes.push(asyncRouterArr[0]); break;\r\n          case 3: router.options.routes.push(asyncRouterArr[1]); break;\r\n          case 4: router.options.routes.push(asyncRouterArr[3]); break;\r\n        }\r\n    })\r\n  }else{\r\n    router.options.routes = [...router.options.routes, ...asyncRouterArr]\r\n  }\r\n\r\nrouter.addRoutes(router.options.routes)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f22ba94a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./FullNoLeft.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./FullNoLeft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f22ba94a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./FullNoLeft.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FullNoLeft.vue\n// module id = n+LW\n// module chunks = 46","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22c5b8f4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./PersonMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./PersonMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22c5b8f4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./PersonMessage.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/message/PersonMessage.vue\n// module id = qweL\n// module chunks = 46","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-635ab213\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./Full.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./Full.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-635ab213\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./Full.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Full.vue\n// module id = rL1v\n// module chunks = 46","/*首页*/\r\nconst homeIndex = resolve => require(['@/views/home/Index.vue'],resolve);\r\n\r\n\r\n\r\nconst routers = [\r\n    { \r\n        path: '/home/index',  \r\n        component: homeIndex, \r\n        name: '' \r\n    }\r\n];\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/home.js","\r\n/*交易管理*/\r\nconst Orders =  resolve => require(['@/views/transaction/Orders.vue'],resolve)\r\nconst OrderDetail =  resolve => require(['@/views/transaction/OrderDetail.vue'],resolve)\r\nconst ServiceOrder =  resolve => require(['@/views/transaction/ServiceOrders.vue'],resolve)\r\nconst ServiceDetail =  resolve => require(['@/views/transaction/ServiceDetail.vue'],resolve)\r\nconst Coupon =  resolve => require(['@/views/transaction/Coupon.vue'],resolve)\r\nconst Reservation =  resolve => require(['@/views/transaction/Reservation.vue'],resolve)\r\nconst ReservationDetail =  resolve => require(['@/views/transaction/ReservationDetail.vue'],resolve)\r\nconst Bind =  resolve => require(['@/views/transaction/Bind.vue'],resolve)\r\n\r\nconst routers = [\r\n        { path: '/transaction/orders', component: Orders, name: '订单查询' ,\r\n            children: [\r\n                { path: '/transaction/orders/order-detail', component: OrderDetail, name: '订单详情' },\r\n            ]\r\n        },\r\n        { path: '/transaction/service-orders', component: ServiceOrder, name: '售后订单查询',\r\n            children: [\r\n                { path: '/transaction/service-orders/service-detail', component: ServiceDetail, name: '售后订单详情' },\r\n            ]\r\n        },\r\n        { path: '/transaction/coupon', component: Coupon, name: '发出的点券' },\r\n        { path: '/transaction/reservation', component: Reservation, name: '结算管理' ,\r\n            children: [\r\n                { path: '/transaction/reservation/reservation-detail', component: ReservationDetail, name: '结算明细' },\r\n            ]\r\n        },\r\n        { path: '/transaction/bind', component: Bind, name: '绑定支付宝' }\r\n]\r\n\r\n\r\nexport default routers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/transactionRoutes.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49344fde\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49344fde\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = teIl\n// module chunks = 46","<template>\r\n  <div>\r\n    这是一个Demo\r\n    <input type=\"text\" :value=\"price\" @keyup=\"inputHandle\" @input=\"inputHandle\" >\r\n    <input type=\"text\" :value=\"price\" @keyup=\"onafterpasteHandle($event)\" @input=\"onafterpasteHandle\" >\r\n    <div class=\"block\">\r\n      <input type=\"text\" value=\"0\" name=\"\" @focus=\"focusHandle\">\r\n    </div>\r\n    <div class=\"block\">\r\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <span class=\"demonstration\">默认</span>\r\n        <el-form-item \r\n        label=\"时间选择\"\r\n        :rules=\"[{ required: true, validator: validatePass, trigger: 'blur, change' }]\" \r\n        prop=\"dateValue\">\r\n          <el-date-picker\r\n            @change=\"changeHandle\"\r\n            v-model=\"ruleForm.dateValue\"\r\n            type=\"date\"\r\n            placeholder=\"选择日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  //import NProgress from 'nprogress'\r\n  export default {\r\n    data() {\r\n      return {\r\n        ruleForm: {\r\n          dateValue: ''\r\n        },\r\n        price: 2000,\r\n        rules: []\r\n      }\r\n    },\r\n    watch:{\r\n      ruleForm: {\r\n        handler: function(newVal, oldVal){\r\n          console.log(typeof newVal)\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    methods: {\r\n      focusHandle(){\r\n        function aa(){\r\n          this.say = function(str){\r\n            console.log(str)\r\n          }\r\n        }\r\n\r\n        var dd = new aa();\r\n\r\n        var bb = {}\r\n\r\n        dd.say.call(bb, 'dasdada')\r\n\r\n      },\r\n      changeHandle(value){\r\n\r\n      },\r\n      inputHandle(event){\r\n        var regExp =  /^\\d+\\.?\\d{0,2}/\r\n        if(regExp.test(event.target.value)) {\r\n          event.target.value = event.target.value.replace(/^(\\d+)\\.(\\d\\d).*$/,'$1.$2')\r\n        }else {\r\n          event.target.value = ''\r\n        }\r\n        //event.target.value = event.target.value.replace(/^(\\d+)\\.(\\d\\d).*$/,'')\r\n      },\r\n      onKeyPress(event){\r\n        var value = event.target.value\r\n        if (!value.match(/^[\\+\\-]?\\d*?\\.?\\d*?$/)) {\r\n          value = ob.t_value;\r\n        } else ob.t_value = value; if (value.match(/^(?:[\\+\\-]?\\d+(?:\\.\\d+)?)?$/)) ob.o_value = value;\r\n      },\r\n      onKeyUp(){\r\n\r\n      },\r\n      validatePass(rule, value, callback){\r\n        console.log(value)\r\n      },\r\n      onBlur(){\r\n\r\n      },\r\n      onafterpasteHandle(event){\r\n        event.target.value = event.target.value.replace(/\\D/g,'')\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .demo {\r\n\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Demo.vue","import jQuery from 'jquery'\r\n(function ($) {\r\n  $.extend($.summernote.lang, {\r\n    'zh-CN': {\r\n      font: {\r\n        bold: '粗体',\r\n        italic: '斜体',\r\n        underline: '下划线',\r\n        clear: '清除格式',\r\n        height: '行高',\r\n        name: '字体',\r\n        strikethrough: '删除线',\r\n        subscript: '下标',\r\n        superscript: '上标',\r\n        size: '字号'\r\n      },\r\n      image: {\r\n        image: '图片',\r\n        insert: '插入图片',\r\n        resizeFull: '缩放至 100%',\r\n        resizeHalf: '缩放至 50%',\r\n        resizeQuarter: '缩放至 25%',\r\n        floatLeft: '靠左浮动',\r\n        floatRight: '靠右浮动',\r\n        floatNone: '取消浮动',\r\n        shapeRounded: '形状: 圆角',\r\n        shapeCircle: '形状: 圆',\r\n        shapeThumbnail: '形状: 缩略图',\r\n        shapeNone: '形状: 无',\r\n        dragImageHere: '将图片拖拽至此处',\r\n        selectFromFiles: '从本地上传',\r\n        maximumFileSize: '文件大小最大值',\r\n        maximumFileSizeError: '文件大小超出最大值。',\r\n        url: '图片地址',\r\n        remove: '移除图片'\r\n      },\r\n      video: {\r\n        video: '视频',\r\n        videoLink: '视频链接',\r\n        insert: '插入视频',\r\n        url: '视频地址',\r\n        providers: \"(支持腾讯、优酷、爱奇艺、芒果tv、搜狐、百度、土豆、乐视、新浪等)；<br/><span style='color: #f00'>注意</span>：为了能够更好的在手机里展示视频，请尽可能使用&lt;iframe&gt;&lt;/iframe&gt;加载视频。\"\r\n      },\r\n      link: {\r\n        link: '链接',\r\n        insert: '插入链接',\r\n        unlink: '去除链接',\r\n        edit: '编辑链接',\r\n        textToDisplay: '显示文本',\r\n        url: '链接地址',\r\n        openInNewWindow: '在新窗口打开'\r\n      },\r\n      table: {\r\n        table: '表格'\r\n      },\r\n      hr: {\r\n        insert: '水平线'\r\n      },\r\n      style: {\r\n        style: '样式',\r\n        p: '普通',\r\n        blockquote: '引用',\r\n        pre: '代码',\r\n        h1: '标题 1',\r\n        h2: '标题 2',\r\n        h3: '标题 3',\r\n        h4: '标题 4',\r\n        h5: '标题 5',\r\n        h6: '标题 6'\r\n      },\r\n      lists: {\r\n        unordered: '无序列表',\r\n        ordered: '有序列表'\r\n      },\r\n      options: {\r\n        help: '帮助',\r\n        fullscreen: '全屏',\r\n        codeview: '源代码'\r\n      },\r\n      paragraph: {\r\n        paragraph: '段落',\r\n        outdent: '减少缩进',\r\n        indent: '增加缩进',\r\n        left: '左对齐',\r\n        center: '居中对齐',\r\n        right: '右对齐',\r\n        justify: '两端对齐'\r\n      },\r\n      color: {\r\n        recent: '最近使用',\r\n        more: '更多',\r\n        background: '背景',\r\n        foreground: '前景',\r\n        transparent: '透明',\r\n        setTransparent: '透明',\r\n        reset: '重置',\r\n        resetToDefault: '默认'\r\n      },\r\n      shortcut: {\r\n        shortcuts: '快捷键',\r\n        close: '关闭',\r\n        textFormatting: '文本格式',\r\n        action: '动作',\r\n        paragraphFormatting: '段落格式',\r\n        documentStyle: '文档样式',\r\n        extraKeys: '额外按键'\r\n      },\r\n      history: {\r\n        undo: '撤销',\r\n        redo: '重做'\r\n      },\r\n      help: {\r\n        insertParagraph: '插入段落',\r\n        undo: '撤销',\r\n        redo: '重做',\r\n        tab: '增加缩进',\r\n        untab: '减少缩进',\r\n        bold: '粗体',\r\n        italic: '斜体',\r\n        underline: '下划线',\r\n        strikethrough: '删除线',\r\n        removeFormat: '清除格式',\r\n        justifyLeft: '左对齐',\r\n        justifyCenter: '居中对齐',\r\n        justifyRight: '右对齐',\r\n        justifyFull: '两端对齐',\r\n        insertUnorderedList: '无序列表',\r\n        insertOrderedList: '有序列表',\r\n        outdent: '减少缩进',\r\n        indent: '增加缩进',\r\n        formatPara: '设置选中内容样式为 普通',\r\n        formatH1: '设置选中内容样式为 标题1',\r\n        formatH2: '设置选中内容样式为 标题2',\r\n        formatH3: '设置选中内容样式为 标题3',\r\n        formatH4: '设置选中内容样式为 标题4',\r\n        formatH5: '设置选中内容样式为 标题5',\r\n        formatH6: '设置选中内容样式为 标题6',\r\n        insertHorizontalRule: '插入水平线',\r\n        'linkDialog.show': '显示链接对话框'\r\n      }\r\n    }\r\n  });\r\n})(window.jQuery || jQuery);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/summernote/lang/summernote-zh-CN.js","const cookie = {\r\n\tsetCookie:function (name, value) {\r\n\t\tvar oDate = new Date();\r\n\t    document.cookie=encodeURIComponent(name)+\"=\"+encodeURIComponent(value)+\";path=/;expires=-1\";\r\n\t},\r\n\tgetCookie:function (name) {\r\n\t\tvar arr=document.cookie.replace(/\\s/g,'').split(';');\r\n\t\tfor (var i=0;i<arr.length;i++)\r\n\t\t{\r\n\t\t\tvar arr2 = arr[i].split('=');\r\n\t\t\tif(decodeURIComponent(arr2[0])===name)\r\n\t\t\t{\r\n\t\t\t\treturn decodeURIComponent(arr2[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t},\r\n\tdelCookie:function (name) {\r\n\t\tcookie.setCookie(name,1,-1);\r\n\t}\r\n}\r\n\r\nexport default cookie;\n\n\n// WEBPACK FOOTER //\n// ./src/util/cookie.js","<template>\r\n    <section class=\"message-con\">\r\n        <div class=\"message-item\" v-for=\"(item,index) in message\">\r\n            <div class=\"message-item-top\" @click=\"toggleDown(item.bottom,index)\">\r\n                <div class=\"message-title\">\r\n                    <i>•</i> <span>【{{switchType(item.majorType)}}】{{item.title}}</span>\r\n                </div>\r\n                <div class=\"message-time\">\r\n                    {{switchTime(item.createdAt)}}\r\n                    <i class=\"el-icon-caret-bottom\" v-if=\"!item.bottom\"></i>\r\n                    <i class=\"el-icon-caret-top\" v-else></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"message-item-detail\" v-if=\"item.bottom\">\r\n                <p v-html=\"item.content\"></p>\r\n                <router-link :to=\"item.jumpLink\" v-if='item.jumpNot != \"\"'>查看详情</router-link>\r\n            </div>\r\n        </div>\r\n        <div class=\"block\" v-if=\"total > pageSize\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[20,50,100]\" :page-size=\"pageSize\" layout=\"sizes, prev, pager, next, jumper,total\" :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import { msgList } from '@/api/toolApi';\r\n    export default {\r\n        data() {\r\n            return {    \r\n                message: null,\r\n                currentPage : 1,\r\n                pageSize:20,\r\n                total: null\r\n            }\r\n        },\r\n        created(){\r\n            let self = this;\r\n            self.getData()\r\n        },\r\n        methods: {\r\n            /*详细展示*/\r\n            toggleDown(b, len) {\r\n                let self = this;\r\n                self.message[len].bottom = !b\r\n            },\r\n            /*获取消息列表*/\r\n            getData() {\r\n                let self = this,\r\n                    params = {\r\n                        uid: config.uid,\r\n                        pageNum: self.currentPage,\r\n                        pageSize: self.pageSize\r\n                    }\r\n                msgList(params).then( res => {\r\n                    if(res.data.data){\r\n                        self.message = res.data.data.list;\r\n                        self.total = Number(res.data.data.total)\r\n                        for(let i=0; i<self.message.length; i++){\r\n                            self.$set(self.message[i],'bottom',false);\r\n                            self.message[i].jumpLink = self.switchUrl(self.message[i].subType) + '&id=' + self.message[i].jumpId;\r\n                            self.$set(self.message[i],'jumpNot',self.switchUrl(self.message[i].subType));\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            /*跳转地址转化*/\r\n            switchUrl(a){\r\n                switch(a) {\r\n                    /*活动消息*/\r\n                    case 3011: return '/marketing-center/management?name=platformActive'; break;//平台对店铺发起活动的邀请-店铺受邀\r\n                    case 3021: return '/marketing-center/management?name=storeActive'; break;\r\n                        // 店铺报名平台活动的申请-审核通过\r\n                    case 3022: return '/marketing-center/management?name=platformActive'; break; //店铺报名平台活动的申请-审核未通过\r\n                    case 3031: return '/marketing-center/management?name=storeActive'; break; \r\n                        //平台对店铺活动的审核-下架店铺活动\r\n                    case 3041: return '/marketing-center/management?from=mes'; break; \r\n                        //平台/店铺活动开始结束状态-活动开始\r\n                    case 3042: return '/marketing-center/management?from=mes'; break;\r\n                        //平台/店铺活动开始结束状态-活动结束\r\n                    /*订单消息*/\r\n                    case 2011: return '/transaction/orders/order-detail?from=mes'; break; \r\n                        //新订单产生订单状态为PY时\r\n                    case 2021: return '/transaction/orders/order-detail?from=mes'; break; \r\n                        //用户申请售后订单状态为RO时\r\n                    /*店铺消息*/\r\n                    case 6012: return '/store/brand-management?from=mes'; break;  \r\n                        //商家发起创建品牌的申请-审核不通过\r\n                    case 6022: return '/store/shop-management?from=mes'; break;  \r\n                        //商家发起店铺入驻的申请-审核不通过\r\n                    case 6032: return '/store/message?from=mes'; break;\r\n                        //商家发起修改店铺信息的申请-审核不通过\r\n                    case 6042: return '/seller-management/notpass?from=mes'; break;\r\n                        //商家发起上传商品的申请-审核不通过\r\n                    case 6052: return '/seller-management/notpass?from=mes'; break;\r\n                        //商家发起修改商品信息的申请-审核不通过\r\n                    case 7026: return '/seller-management/downshelve?from=mes'; break;\r\n                        //后台修改行业信息的通知-取消行业关联类目导致店铺商品下架\r\n                    case 7032: return '/seller-management/downshelve?from=mes'; break;\r\n                        //后台修改品牌信息的通知-禁用品牌导致店铺商品下架\r\n                    case 7046: return '/store/message?from=mes'; break;\r\n                        //后台修改店铺信息的通知-关闭店铺\r\n                    case 7051: return '/seller-management/downshelve?from=mes'; break;\r\n                        //后台修改商品信息的通知-下架商品\r\n                    case 7061: return '/store/message?from=mes'; break;\r\n                        //品牌授权有效期到期、店铺失去品牌经营权的通知\r\n                    default: return '';\r\n                }\r\n            },\r\n            /*时间戳转化*/\r\n            switchTime(val){\r\n                function add0(m){return m<10?'0'+m:m }\r\n                let time = new Date(val),\r\n                    y = time.getFullYear(),\r\n                    m = time.getMonth()+1,\r\n                    d = time.getDate(),\r\n                    h = time.getHours(),\r\n                    mm = time.getMinutes(),\r\n                    s = time.getSeconds();\r\n                return y+'-'+add0(m)+'-'+add0(d)+' '+add0(h)+':'+add0(mm)+':'+add0(s);\r\n            },\r\n            /*活动类型转化*/\r\n            switchType(a){\r\n                switch(a) {\r\n                    case 1: return '资产消息'; break;\r\n                    case 2: return '订单消息'; break;\r\n                    case 3: return '活动消息'; break;\r\n                    case 4: return '社区消息'; break;\r\n                    case 5: return '帐号消息'; break;\r\n                    case 6: return '审核消息'; break;\r\n                    case 7: return '系统消息';\r\n                }\r\n            },\r\n            handleSizeChange(val){\r\n                let self = this;\r\n                self.pageSize = val;\r\n                self.getData()\r\n            },\r\n            handleCurrentChange(val){\r\n                let self = this;\r\n                self.currentPage = val;\r\n                self.getData()\r\n            }\r\n        }   \r\n    }\r\n\r\n</script>\r\n\r\n<style lang='scss'>\r\n    .message-con{\r\n        *{\r\n            box-sizing: border-box !important;\r\n            p{\r\n                padding: 0;\r\n                margin: 0;\r\n            }\r\n        }\r\n        box-sizing: border-box !important;\r\n        .message-item{\r\n            font-size: 14px;\r\n            color: #333333;\r\n            overflow: hidden;\r\n            cursor: pointer;\r\n            .message-item-top{\r\n                width: 100%;\r\n                height: 56px;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                border-bottom: 1px solid #EEEEEE;\r\n                .message-title{\r\n                    i{\r\n                        display: inline-block;\r\n                        height: 56px;\r\n                        line-height: 56px;\r\n                        font-size: 30px;\r\n                        vertical-align: top;\r\n                        color: #F7B868;\r\n                    }\r\n                    span{\r\n                        margin-left: 20px;\r\n                        display: inline-block;\r\n                        font-size: 14px;\r\n                        height: 56px;\r\n                        line-height: 56px;\r\n                        }\r\n                }\r\n                .message-time{\r\n                    i{\r\n                        font-size: 10px;\r\n                        margin-left:20px;\r\n                        color: #333;\r\n                    }\r\n                }\r\n            }\r\n            .message-item-detail{\r\n                background: #F5F7FA;\r\n                padding: 20px 40px;\r\n                cursor: default;\r\n                p{\r\n                    display:inline;\r\n                    line-height: 150%;\r\n                }\r\n                a{\r\n                    color: #41cac0;\r\n                    font-size: 13pt;\r\n                }\r\n            }\r\n        }\r\n        .block{\r\n            float: right;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/message/PersonMessage.vue"],"sourceRoot":""}