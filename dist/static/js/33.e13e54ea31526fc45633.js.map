{"version":3,"sources":["webpack:///static/js/33.e13e54ea31526fc45633.js","webpack:///./src/views/shops/ShopManagement.vue?2e93","webpack:///src/views/shops/ShopManagement.vue","webpack:///./src/views/shops/ShopManagement.vue","webpack:///./src/views/shops/ShopManagement.vue?c38d","webpack:///./src/views/shops/ShopManagement.vue?50b0"],"names":["webpackJsonp","5HJb","module","exports","__webpack_require__","content","i","locals","UfAT","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__api_shopApi__","data","filters","name","users","total","pageNum","pageSize","listLoading","watch","$route","to","from","this","path","getUsers","methods","_this","para","storeId","config","Object","then","res","code","Number","list","$message","error","message","catch","handleCurrentChange","val","handleSizeChange","handleDel","index","row","_this2","h","$createElement","isHead","$msgbox","title","showCancelButton","confirmButtonText","cancelButtonText","beforeClose","action","instance","done","console","log","URLSearchParams","append","storeBranchId","mounted","fGvu","injectStyle","ssrContext","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_ShopManagement_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4288cb5e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_ShopManagement_vue__","normalizeComponent","__vue_styles__","Component","j58b","render","_vm","_h","_c","_self","directives","rawName","expression","staticClass","attrs","span","icon","type","_v","staticStyle","width","prop","label","min-width","align","scopedSlots","_u","key","fn","scope","params","id","on","click","$event","$index","_s","float","page-sizes","current-page","page-size","layout","current-change","size-change","staticRenderFns","esExports","tUma","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/33.e13e54ea31526fc45633.js","sourcesContent":["webpackJsonp([33],{\n\n/***/ \"5HJb\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"tUma\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"6imX\")(\"4022b50a\", content, true);\n\n/***/ }),\n\n/***/ \"UfAT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_shopApi__ = __webpack_require__(\"pgiz\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      filters: {\n        name: ''\n      },\n      users: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 20,\n      listLoading: false\n    };\n  },\n\n  watch: {\n    '$route': function $route(to, from) {\n      if (this.$route.path == \"/store/shop-management\") {\n        this.getUsers();\n      }\n    }\n  },\n  methods: {\n    //获取用户列表\n    getUsers: function getUsers() {\n      var _this = this;\n\n      var para = {\n        storeId: config.storeId,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      };\n      this.listLoading = true;\n      Object(__WEBPACK_IMPORTED_MODULE_0__api_shopApi__[\"n\" /* getClassifyList */])(para).then(function (res) {\n        _this.listLoading = false;\n        if (res.data.code == 0) {\n          _this.total = Number(res.data.data.total);\n          _this.users = res.data.data.list;\n        } else {\n          _this.$message.error(res.data.message);\n        }\n      }).catch(function (res) {\n        _this.listLoading = false;\n        _this.$message.error('接口建立连接失败');\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.pageNum = val;\n      this.getUsers();\n    },\n\n    //当选择每页多少条时触发\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.getUsers();\n    },\n\n    //禁用启用\n    handleDel: function handleDel(index, row) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var isHead = row.isHead == 0 ? 1 : 0;\n      this.$msgbox({\n        title: \"设为总店\",\n        message: h('p', null, [h('span', null, '确认要设为总店吗？ ')]),\n        showCancelButton: true,\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        beforeClose: function beforeClose(action, instance, done) {\n          console.log(action);\n          if (action === 'confirm') {\n            //编辑门店提交接口\n            var para = new URLSearchParams();\n            para.append('storeBranchId', row.storeBranchId);\n            para.append('isHead', isHead);\n            _this2.listLoading = true;\n            Object(__WEBPACK_IMPORTED_MODULE_0__api_shopApi__[\"R\" /* updateClassify */])(para).then(function (res) {\n              _this2.listLoading = false;\n              if (res.data.code == 0) {\n                _this2.getUsers();\n              } else {\n                _this2.$message.error(res.data.message);\n              }\n              done();\n            }).catch(function (res) {\n              _this2.listLoading = false;\n              done();\n              _this2.$message.error('接口建立连接失败');\n            });\n          } else {\n            done();\n          }\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getUsers();\n  }\n});\n\n/***/ }),\n\n/***/ \"fGvu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_ShopManagement_vue__ = __webpack_require__(\"UfAT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4288cb5e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_ShopManagement_vue__ = __webpack_require__(\"j58b\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"5HJb\")\n}\nvar normalizeComponent = __webpack_require__(\"mPyB\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_13_3_0_vue_loader_lib_selector_type_script_index_0_ShopManagement_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_4288cb5e_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_13_3_0_vue_loader_lib_selector_type_template_index_0_ShopManagement_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"j58b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$route.name==\"门店管理\")?_c('section',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"shop-list\"},[_c('el-col',{staticClass:\"tool-bar\",attrs:{\"span\":24}},[_c('router-link',{attrs:{\"to\":\"/store/shop-management/add\",\"icon\":\"plus\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"}},[_vm._v(\"添加门店\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"门店名称\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"门店地址\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"workTime\",\"label\":\"营业时间\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contactPerson\",\"label\":\"联系人姓名\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contactMobile\",\"label\":\"联系人号码\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{ name: '编辑门店', params: { id: scope.row.storeBranchId }}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(_vm._s(scope.row.isHead==0?\"设为总店\":\"\"))])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"tool-bar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"page-sizes\":[20, 50, 100],\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"sizes,prev, pager, next, jumper,total\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1)],1):_c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"tUma\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"bKW+\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".shop-list{padding:0 40px 0 20px}.shop-list a{text-decoration:none}.shop-list .tool-bar{width:100%;background:none;margin:20px 0;position:relative}.shop-list .cell a{color:#45cdb6}.shop-list .cell span{color:#45cdb6;padding-left:20px;cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"E:/github/seller-center/src/views/shops/ShopManagement.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,qBAAuB,CACxB,AACD,aACI,oBAAsB,CACzB,AACD,qBACI,WAAY,AACZ,gBAAiB,AACjB,cAAe,AACf,iBAAmB,CACtB,AACD,mBACI,aAAe,CAClB,AACD,sBACI,cAAe,AACf,kBAAmB,AACnB,cAAgB,CACnB\",\"file\":\"ShopManagement.vue\",\"sourcesContent\":[\"\\n.shop-list {\\n  padding: 0 40px 0 20px;\\n}\\n.shop-list a {\\n    text-decoration: none;\\n}\\n.shop-list .tool-bar {\\n    width: 100%;\\n    background: none;\\n    margin: 20px 0;\\n    position: relative;\\n}\\n.shop-list .cell a {\\n    color: #45cdb6;\\n}\\n.shop-list .cell span {\\n    color: #45cdb6;\\n    padding-left: 20px;\\n    cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/33.e13e54ea31526fc45633.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4288cb5e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ShopManagement.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"4022b50a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/.3.0.3@vue-style-loader!./node_modules/.0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/.13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4288cb5e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/.6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/shops/ShopManagement.vue\n// module id = 5HJb\n// module chunks = 33","<template>\r\n  <section class=\"shop-list\" v-if='$route.name==\"门店管理\"'  v-loading=\"listLoading\">\r\n    <!--工具条-->\r\n    <el-col :span=\"24\" class=\"tool-bar\">\r\n      <router-link to=\"/store/shop-management/add\"  icon=\"plus\">\r\n        <el-button type=\"primary\" icon=\"plus\">添加门店</el-button>\r\n      </router-link>\r\n    </el-col>\r\n\r\n    <!--列表-->\r\n    <el-table :data=\"users\" style=\"width: 100%;\">\r\n      <el-table-column prop=\"name\" label=\"门店名称\" min-width=\"150\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"address\" label=\"门店地址\" min-width=\"150\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"workTime\" label=\"营业时间\" min-width=\"150\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"contactPerson\" label=\"联系人姓名\" min-width=\"150\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"contactMobile\" label=\"联系人号码\" min-width=\"150\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <router-link :to=\"{ name: '编辑门店', params: { id: scope.row.storeBranchId }}\">编辑</router-link>\r\n          <span @click=\"handleDel(scope.$index, scope.row)\">{{scope.row.isHead==0?\"设为总店\":\"\"}}</span>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!--工具条-->\r\n    <el-col :span=\"24\" class=\"tool-bar\">\r\n      <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      @size-change=\"handleSizeChange\"\r\n      :page-sizes=\"[20, 50, 100]\"\r\n      :current-page=\"pageNum\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"sizes,prev, pager, next, jumper,total\"\r\n      :total=\"total\" style=\"float:right;\">\r\n    </el-pagination>\r\n    </el-col>\r\n  </section>\r\n  <router-view  v-else></router-view>\r\n</template>\r\n\r\n<script>\r\nimport {getClassifyList, updateClassify} from '@/api/shopApi';\r\n\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        filters: {\r\n          name: ''\r\n        },\r\n        users: [],\r\n        total: 0,\r\n        pageNum: 1,\r\n        pageSize:20,\r\n        listLoading: false,\r\n      }\r\n    },\r\n    watch: {\r\n     '$route' (to, from) {\r\n        if(this.$route.path==\"/store/shop-management\"){\r\n          this.getUsers();\r\n        }\r\n     }\r\n   },\r\n    methods: {\r\n      //获取用户列表\r\n      getUsers() {\r\n        let para = {\r\n          storeId:config.storeId,\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize\r\n        };\r\n        this.listLoading = true;\r\n        getClassifyList(para).then((res) => {\r\n          this.listLoading = false;\r\n          if(res.data.code==0){\r\n            this.total = Number(res.data.data.total);\r\n            this.users = res.data.data.list;\r\n          }else{\r\n            this.$message.error(res.data.message);\r\n          }  \r\n        }).catch((res)=> {\r\n          this.listLoading = false;\r\n          this.$message.error('接口建立连接失败');\r\n        });\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pageNum = val;\r\n        this.getUsers();\r\n      },\r\n      //当选择每页多少条时触发\r\n      handleSizeChange(val){\r\n        this.pageSize = val;\r\n        this.getUsers();\r\n      },\r\n      //禁用启用\r\n      handleDel: function (index, row) {\r\n          const h = this.$createElement;\r\n          var isHead=row.isHead==0?1:0;\r\n          this.$msgbox({\r\n            title: \"设为总店\",\r\n            message: h('p', null, [\r\n              h('span', null, '确认要设为总店吗？ ')\r\n            ]),\r\n            showCancelButton: true,\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            beforeClose: (action, instance, done) => {\r\n              console.log(action)\r\n              if (action === 'confirm') {\r\n                //编辑门店提交接口\r\n                var para = new URLSearchParams();\r\n                para.append('storeBranchId',row.storeBranchId);\r\n                para.append('isHead',isHead);\r\n                 this.listLoading = true;\r\n                updateClassify(para).then((res) => {\r\n                  this.listLoading = false;\r\n                  if(res.data.code==0){\r\n                    this.getUsers(); \r\n                  }else{\r\n                    this.$message.error(res.data.message);\r\n                  }\r\n                  done();\r\n                }).catch((res)=> {\r\n                  this.listLoading = false;\r\n                  done();\r\n                  this.$message.error('接口建立连接失败');\r\n                });\r\n              }else {\r\n                done();\r\n              }\r\n            }\r\n          })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getUsers();\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.shop-list{\r\n  padding:0 40px 0 20px;\r\n  a{\r\n    text-decoration:none;\r\n  }\r\n  .tool-bar{\r\n    width:100%;\r\n    background:none;\r\n    margin:20px 0;\r\n    position:relative;\r\n  }\r\n  .cell{\r\n    a{\r\n      color:#45cdb6;\r\n    }\r\n    span{\r\n      color:#45cdb6;\r\n      padding-left:20px;\r\n      cursor:pointer;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/shops/ShopManagement.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4288cb5e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=styles&index=0!./ShopManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=script&index=0!./ShopManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4288cb5e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.3.0@vue-loader/lib/selector?type=template&index=0!./ShopManagement.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shops/ShopManagement.vue\n// module id = fGvu\n// module chunks = 33","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$route.name==\"门店管理\")?_c('section',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"shop-list\"},[_c('el-col',{staticClass:\"tool-bar\",attrs:{\"span\":24}},[_c('router-link',{attrs:{\"to\":\"/store/shop-management/add\",\"icon\":\"plus\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"}},[_vm._v(\"添加门店\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"门店名称\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"门店地址\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"workTime\",\"label\":\"营业时间\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contactPerson\",\"label\":\"联系人姓名\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"contactMobile\",\"label\":\"联系人号码\",\"min-width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{ name: '编辑门店', params: { id: scope.row.storeBranchId }}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(_vm._s(scope.row.isHead==0?\"设为总店\":\"\"))])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"tool-bar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"page-sizes\":[20, 50, 100],\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"sizes,prev, pager, next, jumper,total\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1)],1):_c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-4288cb5e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/shops/ShopManagement.vue\n// module id = j58b\n// module chunks = 33","exports = module.exports = require(\"../../../node_modules/.0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".shop-list{padding:0 40px 0 20px}.shop-list a{text-decoration:none}.shop-list .tool-bar{width:100%;background:none;margin:20px 0;position:relative}.shop-list .cell a{color:#45cdb6}.shop-list .cell span{color:#45cdb6;padding-left:20px;cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"E:/github/seller-center/src/views/shops/ShopManagement.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,qBAAuB,CACxB,AACD,aACI,oBAAsB,CACzB,AACD,qBACI,WAAY,AACZ,gBAAiB,AACjB,cAAe,AACf,iBAAmB,CACtB,AACD,mBACI,aAAe,CAClB,AACD,sBACI,cAAe,AACf,kBAAmB,AACnB,cAAgB,CACnB\",\"file\":\"ShopManagement.vue\",\"sourcesContent\":[\"\\n.shop-list {\\n  padding: 0 40px 0 20px;\\n}\\n.shop-list a {\\n    text-decoration: none;\\n}\\n.shop-list .tool-bar {\\n    width: 100%;\\n    background: none;\\n    margin: 20px 0;\\n    position: relative;\\n}\\n.shop-list .cell a {\\n    color: #45cdb6;\\n}\\n.shop-list .cell span {\\n    color: #45cdb6;\\n    padding-left: 20px;\\n    cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/.13.3.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4288cb5e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/.6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/.13.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/shops/ShopManagement.vue\n// module id = tUma\n// module chunks = 33"],"sourceRoot":""}